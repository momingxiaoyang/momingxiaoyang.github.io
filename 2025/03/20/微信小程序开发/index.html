<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>微信小程序开发-起步 | 莫名小痒的博客</title><meta name="author" content="莫名小痒"><meta name="copyright" content="莫名小痒"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="微信小程序开发系列的起步文章">
<meta property="og:type" content="article">
<meta property="og:title" content="微信小程序开发-起步">
<meta property="og:url" content="https://momingxiaoyang.github.io/2025/03/20/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/index.html">
<meta property="og:site_name" content="莫名小痒的博客">
<meta property="og:description" content="微信小程序开发系列的起步文章">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://momingxiaoyang.github.io/img/KaoYan/English/Crazy.JPG">
<meta property="article:published_time" content="2025-03-20T14:00:00.000Z">
<meta property="article:modified_time" content="2025-05-15T10:58:19.686Z">
<meta property="article:author" content="莫名小痒">
<meta property="article:tag" content="微信小程序">
<meta property="article:tag" content="前端">
<meta property="article:tag" content="代码开发">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://momingxiaoyang.github.io/img/KaoYan/English/Crazy.JPG"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://momingxiaoyang.github.io/2025/03/20/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁体汉字","msgToSimplifiedChinese":"简体汉字"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'mediumZoom',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '微信小程序开发-起步',
  isPost: true,
  isHome: false,
  isHighlightShrink: undefined,
  isToc: true,
  postUpdate: '2025-05-15 18:58:19'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 8 || hour >= 23
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body><script>window.paceOptions = {
  restartOnPushState: false
}

document.addEventListener('pjax:send', () => {
  Pace.restart()
})
</script><link rel="stylesheet" href="/img/load_animation/flat-top.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/./img/head_sculpture.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">37</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">24</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">14</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 历史</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 拓展</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/../img/KaoYan/English/Shameless.JPG')"><nav id="nav"><span id="blog-info"><a href="/" title="莫名小痒的博客"><span class="site-name">莫名小痒的博客</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 历史</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 拓展</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">微信小程序开发-起步</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-03-20T14:00:00.000Z" title="发表于 2025-03-20 22:00:00">2025-03-20</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-05-15T10:58:19.686Z" title="更新于 2025-05-15 18:58:19">2025-05-15</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/">微信小程序</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">9.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>33分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="微信小程序开发-起步"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1>微信小程序开发</h1>
<h2 id="一、小程序简介">一、小程序简介</h2>
<h3 id="1-1-小程序与普通网页开发的区别">1.1 小程序与普通网页开发的区别</h3>
<table>
<thead>
<tr>
<th>#</th>
<th>对比维度</th>
<th>普通网页</th>
<th>微信小程序</th>
<th>评论</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><strong>运行环境</strong></td>
<td>运行在 <em>浏览器内核</em>（Chrome/Blink、Safari/WebKit 等）</td>
<td>运行在 <strong>微信内置引擎</strong>（JSCore + 自家渲染层）</td>
<td>“浏览器是公共澡堂，谁都能泡；小程序是微信包间，只招待持票乘客。”</td>
</tr>
<tr>
<td>2</td>
<td><strong>可用 API</strong></td>
<td>可直接访问 <strong>DOM/BOM</strong>，还能随手 <code>alert('Hello')</code></td>
<td><strong>禁用 DOM/BOM</strong>！取而代之的是 <code>wx.*</code> 系列原生 API（定位、扫码、支付…）</td>
<td>“想摸 DOM？抱歉，这里是熊猫馆——能看的只能远观。”</td>
</tr>
<tr>
<td>3</td>
<td><strong>开发模式</strong></td>
<td>浏览器 + 任意编辑器（VS Code、WebStorm…）</td>
<td>官方“<strong>三件套</strong>”：① 申请开发者账号② 安装微信开发者工具③ 创建 &amp; 配置项目</td>
<td>“学前班发铅笔、橡皮和练习本；微信发账号、IDE 还顺便发一堆‘真题’——审核规范。”</td>
</tr>
</tbody>
</table>
<ul>
<li>运行模式不同
<ul>
<li><strong>网页</strong><br>
直接跑在浏览器，渲染线程 + JS 引擎打配合。</li>
<li><strong>小程序</strong><br>
代码在微信的 <strong>JSCore</strong> 沙箱里执行，UI 由独立的渲染层（WebView-like）负责。渲染与逻辑分居两室，靠桥（<code>setData</code>）通信——优点是更易于性能管控，缺点则是“搬砖”稍显繁琐。</li>
</ul>
</li>
</ul>
<blockquote>
<p>有开发者吐槽——“小程序就像远距离恋爱，消息要经过桥接才能见面；传大对象？那是异地恋寄 20kg 的生蚝。”</p>
</blockquote>
<ul>
<li>
<p>API不同</p>
<ul>
<li>
<p><strong>网页党</strong> 覆手可得：</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#btn&#x27;</span>).<span class="title function_">addEventListener</span>(...)</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span> = <span class="string">&#x27;...&#x27;</span>;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>小程序党</strong> 请改练 <strong><code>wx</code> 派内功</strong>：</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取地理位置</span></span><br><span class="line">wx.<span class="title function_">getLocation</span>(&#123;</span><br><span class="line">  <span class="attr">type</span>: <span class="string">&#x27;gcj02&#x27;</span>,</span><br><span class="line">  <span class="title function_">success</span>(<span class="params">res</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; latitude, longitude &#125; = res;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;我在&#x27;</span>, latitude, longitude);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>禁飞区：<code>document.*</code>, <code>window.alert</code>, <code>localStorage</code>…（用了直接报“找不到对象”）</p>
<p>可飞区：微信提供的 <strong>能力型 API</strong> ——定位、蓝牙、支付、扫码、人脸识别… 这些都是浏览器里要么做不到、要么需要用户安装插件才能做到的事。</p>
</li>
</ul>
<blockquote>
<p>有人把 <code>wx.scanCode()</code> 叫做“高配版 <code>prompt()</code>”——不仅能让用户输入，还顺便帮你拍张照确认身份。</p>
</blockquote>
</li>
<li>
<p>开发模式不同</p>
<table>
<thead>
<tr>
<th>步骤</th>
<th>网页</th>
<th>小程序</th>
</tr>
</thead>
<tbody>
<tr>
<td>“我要开干”</td>
<td>新建 <code>index.html</code>，F5 刷浏览器</td>
<td>先申请 <strong>小程序 AppID</strong>（没公司就用 <em>测试号</em>）</td>
</tr>
<tr>
<td>写代码</td>
<td>VS Code / Sublime / vim 任君挑</td>
<td><strong>微信开发者工具</strong> 内置预览、真机调试、上传发布</td>
</tr>
<tr>
<td>上线</td>
<td>传服务器 / 静态托管</td>
<td>提交 <strong>审核</strong> → 微信官方“通关打怪”</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>审核</strong>：名称、类目、页面内容、支付逻辑…… 都有规范。</li>
<li><strong>版本管理</strong>：每次上传都会生成 <em>体验版</em>、<em>预览版</em> 与 <em>正式版</em>。</li>
</ul>
<blockquote>
<p><strong>地狱梗</strong>：第一次提审被驳回？别急，官方实际在帮你做“需求评审”；只是评审老师换成了微信小助手。</p>
</blockquote>
</li>
</ul>
<p>小结：</p>
<ol>
<li><strong>环境</strong>：浏览器 vs 微信沙箱——决定了可用能力边界。</li>
<li><strong>API</strong>：DOM/BOM → <code>wx.*</code>，把“网页思维”先放下，练微信内功。</li>
<li><strong>流程</strong>：浏览器即发布 vs 官方 IDE + 审核——多一步，但也多一层安全 &amp; 质量保证。</li>
</ol>
<p>记住一句话：<strong>“写网页是路边摆摊，写小程序是进商场开店。”</strong><br>
摆摊自由度高，开店规矩更多，但人流也更多、支付更顺畅——取舍看业务场景。</p>
<h3 id="1-2-小程序体验">1.2 小程序体验</h3>
<img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250514194305968.png" alt="image-20250514194305968" style="zoom:50%;" />
<p>可以通过扫描二维码体验到微信官方的小程序开发体验小程序中。</p>
<h2 id="二、第一个小程序">二、第一个小程序</h2>
<h3 id="2-1-注册小程序账号">2.1 注册小程序账号</h3>
<table>
<thead>
<tr>
<th>步骤</th>
<th>关键动作</th>
<th>说明 &amp; 小贴士</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>1. 打开注册页</strong></td>
<td>访问 <a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/">https://mp.weixin.qq.com/</a> → 右上角 <strong>「立即注册」</strong></td>
<td>别走错门——这是微信所有形态账号的“大门口”。</td>
</tr>
<tr>
<td><strong>2. 选择“小程序”</strong></td>
<td>四个方块里选紫色 <strong>「小程序」</strong></td>
<td>订阅号/服务号是公众号亲戚，不要点错。</td>
</tr>
<tr>
<td><strong>3. 填写邮箱 + 密码</strong></td>
<td>输入常用邮箱、设置登录密码、填验证码，点 <strong>「注册」</strong></td>
<td>每个邮箱只能申请 1 个小程序，职业刷号党请自备一打邮箱。</td>
</tr>
<tr>
<td><strong>4. 去邮箱激活</strong></td>
<td>收到激活邮件 → 点进邮件里的链接</td>
<td>如果 5 分钟还没收到，先检查垃圾箱，再检查老板有没有把公司邮件网关关了😅。</td>
</tr>
<tr>
<td><strong>5. 点击链接完成激活</strong></td>
<td>浏览器自动跳回公众平台，提示激活成功</td>
<td>恭喜通关，下一关——主体信息。</td>
</tr>
<tr>
<td><strong>6. 选择主体类型</strong></td>
<td>个人 / 企业 / 政府 / 媒体 / 其他组织</td>
<td><strong>自学练手</strong> 选「个人」最快；企业主体后续才能开支付、直播等高级能力。</td>
</tr>
<tr>
<td><strong>7. 填主体信息</strong></td>
<td>身份证姓名、号码、绑定手机号，扫码人脸核验</td>
<td>官方叫“实名制”，程序员俗称“上交面子和里子”。</td>
</tr>
<tr>
<td><strong>8. 获取 AppID</strong></td>
<td>后台左侧 <strong>「开发」→「开发设置」</strong> 查看 <strong>AppID</strong></td>
<td>后续创建项目、上传代码都靠它，务必复制到小本本。</td>
</tr>
</tbody>
</table>
<h4 id="2-1-1-点击注册按钮">2.1.1 点击注册按钮</h4>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250514195348617.png" alt="image-20250514195348617"></p>
<h4 id="2-1-2-选择注册账号类型">2.1.2 选择注册账号类型</h4>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250514195503708.png" alt="image-20250514195503708"></p>
<h4 id="2-1-3-填写账号信息">2.1.3 填写账号信息</h4>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250514195555860.png" alt="image-20250514195555860"></p>
<h4 id="2-1-4-提示邮箱激活">2.1.4 提示邮箱激活</h4>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250514195925259.png" alt="image-20250514195925259"></p>
<h4 id="2-1-5-点击链接激活账号">2.1.5 点击链接激活账号</h4>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250514200016103.png" alt="image-20250514200016103"></p>
<h4 id="2-1-6-选择主体类型">2.1.6 选择主体类型</h4>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250514200115200.png" alt="image-20250514200115200"></p>
<h4 id="2-1-7-主体信息登记">2.1.7 主体信息登记</h4>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250514200246115.png" alt="image-20250514200246115"></p>
<h4 id="2-1-8-获取小程序的AppID">2.1.8 获取小程序的AppID</h4>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250514201039619.png" alt="image-20250514201039619"></p>
<p>新版微信小程序网页：左边-&gt;开发与服务-&gt;开发管理</p>
<blockquote>
<p>注册小程序就像上高速——先拿通行证（AppID），才能一路飙车（写代码）。别怕流程多，毕竟微信要替 12 亿用户把关。祝注册顺利，下一节我们正式开工写“Hello, 小程序”！</p>
</blockquote>
<h3 id="2-2-安装微信开发者工具">2.2 安装微信开发者工具</h3>
<h4 id="2-2-1-工具有什么用？">2.2.1 工具有什么用？</h4>
<ol>
<li><strong>一键创建项目</strong>，省掉敲 <code>npm init</code> 的仪式感</li>
<li><strong>代码查看 / 编辑</strong>，内置 ESLint、格式化</li>
<li><strong>真机级模拟器</strong>，断点调试 / 网络抓包 / 数据面板</li>
<li><strong>扫码预览 &amp; 上传发布</strong>，告别手动打包</li>
</ol>
<p><em>顺口溜</em>：<strong>“创建-调试-预览-上传，四步循环、日行一善。”</strong></p>
<hr>
<h4 id="2-2-2-下载最新版（Stable-Build）">2.2.2 下载最新版（Stable Build）</h4>
<ul>
<li>直接访问官方稳定版链接<br>
<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/devtools/stable.html">https://developers.weixin.qq.com/miniprogram/dev/devtools/stable.html</a></li>
<li>Windows（64/32 位）、macOS 均有安装包</li>
<li><strong>别贪 Beta</strong> ——日常学习用稳定版更省心</li>
</ul>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250514223708259.png" alt="image-20250514223708259"></p>
<hr>
<h4 id="2-2-3-安装流程（比装-QQ-还简单）">2.2.3 安装流程（比装 QQ 还简单）</h4>
<table>
<thead>
<tr>
<th>序号</th>
<th>界面提示</th>
<th>要做的事</th>
</tr>
</thead>
<tbody>
<tr>
<td>①</td>
<td>欢迎界面</td>
<td>点 <strong>下一步</strong></td>
</tr>
<tr>
<td>②</td>
<td>许可协议</td>
<td>勾 <strong>我接受</strong> → 下一步</td>
</tr>
<tr>
<td>③</td>
<td>选择安装目录</td>
<td>默认即可，磁盘别剩 &lt;1 GB</td>
</tr>
<tr>
<td>④</td>
<td>正在安装</td>
<td>倒杯咖啡，进度条很快</td>
</tr>
<tr>
<td>⑤</td>
<td>完成界面</td>
<td>留勾“<strong>运行微信开发者工具</strong>” → <strong>完成</strong></td>
</tr>
</tbody>
</table>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250514223849983.png" alt="image-20250514223849983"></p>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250514223956952.png" alt="image-20250514223956952"></p>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250514224026230.png" alt="image-20250514224026230"></p>
<h4 id="2-2-4-首次扫码登录">2.2.4 首次扫码登录</h4>
<ol>
<li>工具启动后会出现一个巨大二维码</li>
<li>用 <strong>同一微信号</strong>（与小程序管理员一致更佳）扫码</li>
<li>手机点 <strong>确认登录</strong> → 电脑端提示“扫描成功”</li>
<li>进入主界面，左侧能看到 “+” 号，等待创建首个项目</li>
</ol>
<p>如果你在工位上一抖手把手机掉地上——别怕，二维码会一直等你，超长待机。</p>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250514224245896.png" alt="image-20250514224245896"></p>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250514224258199.png" alt="image-20250514224258199"></p>
<hr>
<h4 id="2-2-5-推荐设置（界面-网络代理）">2.2.5 推荐设置（界面 &amp; 网络代理）</h4>
<ul>
<li>点击右上 <strong>齿轮</strong> → <strong>外观</strong>
<ul>
<li>主题：浅色 / 深色随心切</li>
<li>字体：Consolas，字号 18，护眼又不眯眼</li>
</ul>
</li>
<li><strong>代理</strong> 选项 → 勾 “不使用任何代理，勾选后直连网络”
<ul>
<li>仅当公司网络走代理时再改为“使用系统代理”</li>
</ul>
</li>
</ul>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250514224634646.png" alt="image-20250514224634646"></p>
<hr>
<p>小结</p>
<ol>
<li><strong>稳定版链接</strong>收藏，Beta 留给勇士。</li>
<li>安装一路“下一步”即可，和 Windows 经典软件一样。</li>
<li>扫码登录后立马能新建项目 —— AppID 没准备好？用「无 AppID」模板先练手！</li>
<li>调个暗色主题 + 大字号，码一整天眼不酸。</li>
</ol>
<h3 id="2-3-创建小程序项目">2.3 创建小程序项目</h3>
<h4 id="2-3-1-进入「小程序」标签页">2.3.1 进入「小程序」标签页</h4>
<p>​		打开微信开发者工具首页，左栏点 <strong>小程序</strong></p>
<p>​		中间区域点击灰色 “+” 卡片，新建项目</p>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250514224957603.png" alt="image-20250514224957603"></p>
<h4 id="2-3-2-填写项目信息">2.3.2 填写项目信息</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>说明</th>
<th>建议</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>项目名称</strong></td>
<td>随意（例：mp_01）</td>
<td>先用英文+下划线，后期方便版本管理</td>
</tr>
<tr>
<td><strong>目录</strong></td>
<td>本地存放代码的位置</td>
<td>选一块空余空间大的盘符</td>
</tr>
<tr>
<td><strong>AppID</strong></td>
<td>真 AppID / 测试号</td>
<td>没有就点“测试号”，功能受限但足够练手</td>
</tr>
<tr>
<td><strong>开发模式</strong></td>
<td>小程序 / 公众号网页等</td>
<td>选 <strong>小程序</strong></td>
</tr>
<tr>
<td><strong>后端服务</strong></td>
<td>云开发 / 不使用</td>
<td>初学可先选 <strong>不使用云服务</strong></td>
</tr>
<tr>
<td><strong>语言</strong></td>
<td>JavaScript / TypeScript</td>
<td>建议新手先 <strong>JavaScript</strong>，TS 后面再上</td>
</tr>
</tbody>
</table>
<p>填完点 <strong>「新建」</strong>，工具会生成默认目录结构并自动打开。</p>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250514225515410.png" alt="image-20250514225515410"></p>
<p>新版选择JS-基础模版</p>
<img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250514225825947.png" alt="image-20250514225825947" style="zoom:50%;" />
<h4 id="2-3-3-项目创建完成">2.3.3 项目创建完成</h4>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250514225944486.png" alt="image-20250514225944486"></p>
<h4 id="2-3-4-编译-模拟器预览">2.3.4 编译 &amp; 模拟器预览</h4>
<ul>
<li>右上 <strong>编译</strong> 按钮（或 <code>Ctrl + B</code>）</li>
<li>左侧 iPhone 模拟器即刻刷新，能看到默认 “Hello World” 页面</li>
</ul>
<blockquote>
<p><em>小提示</em>：项目目录里 <code>app.js / app.json / app.wxss</code> 就对应全局 JS、配置、样式，后续会常改。</p>
</blockquote>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250514230136909.png" alt="image-20250514230136909"></p>
<h4 id="2-3-5-在真机上预览项目效果">2.3.5 在真机上预览项目效果</h4>
<p>​		点击 <strong>预览</strong> → 弹出二维码</p>
<p>​		用同一微信扫码，在手机上查看实际效果</p>
<p>​		这个二维码 2 小时左右失效，再次预览重新生成即可</p>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250514230301775.png" alt="image-20250514230301775"></p>
<h4 id="2-3-6-认识主界面五大区块">2.3.6 认识主界面五大区块</h4>
<ol>
<li><strong>菜单栏</strong>：文件、编辑、工具等传统选项</li>
<li><strong>工具栏</strong>：编译 / 预览 / 真机调试 / 上传…</li>
<li><strong>模拟器区</strong>：手机壳+页面渲染，支持横竖屏切换</li>
<li><strong>代码编辑区</strong>：左树右编辑，内置高亮和格式化</li>
<li><strong>调试区</strong>：Console、Network、Storage 等调试面板</li>
</ol>
<blockquote>
<p>第一次在模拟器看到 “Hello World” 时，有人会截图发朋友圈——<strong>“妈，我真的在写小程序了！”</strong></p>
</blockquote>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250514230504216.png" alt="image-20250514230504216"></p>
<p>获得小程序组件的API文档-&gt;帮助-&gt;开发者文档-&gt;在网页中查看对应组件的文档</p>
<h2 id="三、小程序代码构成">三、小程序代码构成</h2>
<h3 id="3-1-小程序项目结构">3.1 小程序项目结构</h3>
<h4 id="3-1-1-了解项目的基本组成结构">3.1.1 了解项目的基本组成结构</h4>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250515164906933.png" alt="image-20250515164906933"></p>
<p>最主要的有pages、app.js、app.json</p>
<table>
<thead>
<tr>
<th>文件 / 目录</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>pages/</strong></td>
<td><strong>所有页面</strong> 的家，每个页面一个独立文件夹</td>
</tr>
<tr>
<td><strong>utils/</strong></td>
<td>工具函数、通用模块（如日期格式化）</td>
</tr>
<tr>
<td><strong>app.js</strong></td>
<td>小程序 <strong>入口脚本</strong>，监听生命周期（<code>onLaunch</code> 等）</td>
</tr>
<tr>
<td><strong>app.json</strong></td>
<td>小程序 <strong>全局配置</strong>：路由、窗口样式、网络超时…</td>
</tr>
<tr>
<td><strong>app.wxss</strong></td>
<td><strong>全局样式</strong>，可理解为“全局 CSS”</td>
</tr>
<tr>
<td><strong>project.config.json</strong></td>
<td>微信开发者工具的 <strong>工程设置</strong>（ESLint、编译选项等）</td>
</tr>
<tr>
<td><strong>sitemap.json</strong></td>
<td>控制页面能否被微信索引，用于 SEO</td>
</tr>
</tbody>
</table>
<h4 id="3-1-2-小程序页面的组成部分">3.1.2 小程序页面的组成部分</h4>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250515165148951.png" alt="image-20250515165148951"></p>
<p>官方建议：<strong>一个页面 = 一个文件夹</strong>，内含 4 个同名不同后缀文件：</p>
<table>
<thead>
<tr>
<th>后缀</th>
<th>角色</th>
<th>内容示例</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>.js</code></td>
<td><strong>脚本</strong></td>
<td><code>Page(&#123; data: &#123; msg:'Hi'&#125;, onLoad()&#123;…&#125; &#125;)</code></td>
</tr>
<tr>
<td><code>.json</code></td>
<td><strong>配置</strong></td>
<td>设置页面标题、启用下拉刷新、分享卡片等</td>
</tr>
<tr>
<td><code>.wxml</code></td>
<td><strong>模板</strong></td>
<td>组件、数据绑定 —— 相当于 HTML</td>
</tr>
<tr>
<td><code>.wxss</code></td>
<td><strong>样式</strong></td>
<td>页面私有的 CSS，支持尺寸单位 <code>rpx</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p>思维对照：<strong>HTML ➜ WXML</strong>、<strong>CSS ➜ WXSS</strong>、<strong>JS ➜ JS</strong>，再加一个同名 JSON 配置。</p>
</blockquote>
<hr>
<h4 id="创建新页面的最短路径">创建新页面的最短路径</h4>
<ol>
<li>在 <code>pages</code> 下新建文件夹，如 <code>about/</code></li>
<li>一键生成四件套（IDE 右键即可）</li>
<li>把路径 <code>pages/about/about</code> 添加到 <code>app.json</code> 的 <code>pages</code> 数组</li>
<li><strong>编译</strong> → 模拟器地址栏输入 <code>/pages/about/about</code> 进行跳转预览</li>
</ol>
<h3 id="3-2-JSON配置文件">3.2 JSON配置文件</h3>
<h4 id="3-2-1-JSON配置文件的作用">3.2.1 JSON配置文件的作用</h4>
<p>微信小程序的<strong>开关面板</strong>几乎都写在 <code>.json</code> 里。项目里常见 4 种 JSON，各自负责的层级和用途如下：</p>
<table>
<thead>
<tr>
<th>文件</th>
<th>作用范围</th>
<th>关键字段（示例）</th>
<th>使用场景</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>app.json</strong></td>
<td><strong>全局</strong></td>
<td><code>pages</code> 路由、<code>window</code> 导航栏样式、<code>tabBar</code> 底部菜单</td>
<td>新增/调整页面、统一主题色</td>
</tr>
<tr>
<td><strong>project.config.json</strong></td>
<td>工具层</td>
<td><code>setting</code> 编译选项、<code>appID</code>、<code>projectname</code></td>
<td>修改 ESLint 规则、关闭 <em>sitemap</em> 提示</td>
</tr>
<tr>
<td><strong>sitemap.json</strong></td>
<td>SEO</td>
<td><code>rules</code> 设定 <code>allow/deny</code> 页面索引</td>
<td>允许或屏蔽小程序搜索曝光</td>
</tr>
<tr>
<td><strong>页面同名 .json</strong></td>
<td><strong>局部页面</strong></td>
<td>覆盖 <code>window</code> 中对应项</td>
<td>只让某页导航栏变色</td>
</tr>
</tbody>
</table>
<h4 id="3-2-2-app-json文件——「总控台」">3.2.2 app.json文件——「总控台」</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">json</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">复制编辑</span><br><span class="line">&#123;</span><br><span class="line">  &quot;pages&quot;: [</span><br><span class="line">    &quot;pages/index/index&quot;,</span><br><span class="line">    &quot;pages/logs/logs&quot;</span><br><span class="line">  ],</span><br><span class="line">  &quot;window&quot;: &#123;</span><br><span class="line">    &quot;navigationBarBackgroundColor&quot;: &quot;#ffffff&quot;,</span><br><span class="line">    &quot;navigationBarTitleText&quot;: &quot;WeChat&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;style&quot;: &quot;v2&quot;,</span><br><span class="line">  &quot;sitemapLocation&quot;: &quot;sitemap.json&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>pages</strong>：数组顺序决定路由，<strong>第一项即默认首页</strong></li>
<li><strong>window</strong>：导航栏、背景色、文字色等全局外观</li>
<li><strong>style</strong>：组件默认样式版本</li>
<li><strong>sitemapLocation</strong>：指向 <em>sitemap.json</em> 文件</li>
</ul>
<h4 id="3-2-3-project-cofig-json文件——开发者工具的偏好设置">3.2.3 project.cofig.json文件——开发者工具的偏好设置</h4>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;miniprogramRoot&quot;</span><span class="punctuation">:</span> <span class="string">&quot;./&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;projectname&quot;</span><span class="punctuation">:</span> <span class="string">&quot;mp_01&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;appid&quot;</span><span class="punctuation">:</span> <span class="string">&quot;wx************&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;setting&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;urlCheck&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;es6&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;checkSiteMap&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>setting</strong> 里可关闭/开启特定校验，例如 <code>checkSiteMap</code></li>
<li><strong>es6</strong> 设为 <code>true</code> 即可用 <code>import</code> / <code>async</code> 等语法</li>
</ul>
<h4 id="3-2-4-sitemap-json文件——让不让微信索引搜索？">3.2.4 sitemap.json文件——让不让微信索引搜索？</h4>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250515172504642.png" alt="image-20250515172504642"></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;rules&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;action&quot;</span><span class="punctuation">:</span> <span class="string">&quot;allow&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;page&quot;</span><span class="punctuation">:</span> <span class="string">&quot;*&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>allow</code> / <code>disallow</code> 可对某些路径做精准控制</li>
<li>若不想看到 IDE 的索引提示，把 <em>project.config.json</em> → <code>checkSiteMap</code> 设为 <code>false</code> 即可</li>
</ul>
<h4 id="3-2-5-页面的json文件小范围“涂色笔”">3.2.5 页面的json文件小范围“涂色笔”</h4>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250515172516861.png" alt="image-20250515172516861"></p>
<blockquote>
<p>所有与 <code>app.json → window</code> 同名的字段，都能在页面级 .json 里被<strong>覆盖</strong>。</p>
</blockquote>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pages/index/index.json</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;navigationBarBackgroundColor&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#00B26A&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>效果：只有 <code>index</code> 页的导航栏变绿，其他页面仍沿用全局白色。</p>
<p>如果页面级别的配置和全局级别的配置发生冲突，那么会以页面级别的为准。</p>
<h4 id="3-2-6-新建小程序页面">3.2.6 新建小程序页面</h4>
<ul>
<li>
<p><strong>新建</strong></p>
<ol>
<li>在 <code>pages</code> 目录建文件夹 <code>list/</code></li>
<li>app.json → <code>pages</code> 数组追加 <code>&quot;pages/list/list&quot;</code><br>
IDE 会自动生成四件套 <code>list.js/json/wxml/wxss</code></li>
</ol>
</li>
<li>
<p><strong>修改首页</strong><br>
把想要的页面路径拖到 <code>pages</code> 数组第一位即可：</p>
  <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;pages&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">  <span class="string">&quot;pages/list/list&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="string">&quot;pages/index/index&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="string">&quot;pages/logs/logs&quot;</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>编译后模拟器默认进入 <code>list</code> 页。</p>
<h4 id="3-2-7-小结">3.2.7 小结</h4>
<table>
<thead>
<tr>
<th>想做的事</th>
<th>改哪个 JSON</th>
</tr>
</thead>
<tbody>
<tr>
<td>换全局主题色</td>
<td><strong>app.json → window</strong></td>
</tr>
<tr>
<td>只改某页颜色</td>
<td>页面同名 .json</td>
</tr>
<tr>
<td>关闭搜索索引提示</td>
<td><strong>project.config.json → setting.checkSiteMap</strong></td>
</tr>
<tr>
<td>屏蔽整站搜索</td>
<td><strong>sitemap.json</strong></td>
</tr>
</tbody>
</table>
<p>掌握这些配置文件，就能“拧螺丝”般快速调校小程序外观、路由与调试体验。</p>
<h3 id="3-3-WXML模版和WXSS样式">3.3 WXML模版和WXSS样式</h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>类比于 Web</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>WXML</strong> (WeiXin Markup Language)</td>
<td><strong>HTML</strong></td>
<td>负责“骨架”——页面结构、组件层级</td>
</tr>
<tr>
<td><strong>WXSS</strong> (WeiXin Style Sheets)</td>
<td><strong>CSS</strong></td>
<td>负责“皮肤”——颜色、尺寸、布局</td>
</tr>
</tbody>
</table>
<h4 id="3-3-1-WXML-基础认知">3.3.1 WXML 基础认知</h4>
<ul>
<li>
<p><strong>标签集合更精简</strong></p>
<ul>
<li>HTML：<code>div span img a</code> …</li>
<li>WXML：<code>view text image navigator</code> 等（都小写，语义直接）</li>
</ul>
</li>
<li>
<p><strong>属性语义不同</strong></p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- HTML 超链接 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/home&quot;</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- WXML 页面跳转 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">navigator</span> <span class="attr">url</span>=<span class="string">&quot;/pages/home/home&quot;</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>内置“Vue 风格”模板语法</strong></p>
<table>
<thead>
<tr>
<th>功能</th>
<th>关键指令</th>
<th>一眼示例</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>数据绑定</strong></td>
<td><code>&#123;&#123; msg &#125;&#125;</code></td>
<td><code>&lt;text&gt;&#123;&#123; msg &#125;&#125;&lt;/text&gt;</code></td>
</tr>
<tr>
<td><strong>列表渲染</strong></td>
<td><code>wx:for</code></td>
<td><code>&lt;view wx:for=&quot;&#123;&#123;list&#125;&#125;&quot; wx:key=&quot;id&quot;&gt;&#123;&#123;item.name&#125;&#125;&lt;/view&gt;</code></td>
</tr>
<tr>
<td><strong>条件渲染</strong></td>
<td><code>wx:if / wx:elif / wx:else</code></td>
<td><code>&lt;view wx:if=&quot;&#123;&#123;login&#125;&#125;&quot;&gt;Hi~&lt;/view&gt;</code></td>
</tr>
</tbody>
</table>
</li>
</ul>
<h4 id="3-3-2-WXSS-与传统-CSS-的差异">3.3.2 WXSS 与传统 CSS 的差异</h4>
<table>
<thead>
<tr>
<th>特性</th>
<th>说明</th>
<th>小贴士</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>新增尺寸单位 <code>rpx</code></strong></td>
<td>会随屏幕宽度自动缩放</td>
<td>设计稿 750 px → 1 px ≈ 1 rpx</td>
</tr>
<tr>
<td><strong>全局 / 局部样式分离</strong></td>
<td><code>app.wxss</code> 全局；页面同名 <code>.wxss</code> 仅当前页</td>
<td>想统一字体就写到全局</td>
</tr>
<tr>
<td><strong>选择器子集</strong></td>
<td>支持 <code>.class</code> <code>#id</code> 元素、并集、后代；不支持伪元素如 <code>::after</code></td>
<td>写法越简单，渲染越快</td>
</tr>
<tr>
<td><strong>CSS 语法基本兼容</strong></td>
<td>媒体查询、不透明度等常用属性都 OK</td>
<td>动画推荐用 API（如 <code>animation</code>）提高流畅度</td>
</tr>
</tbody>
</table>
<h3 id="“Hello-WXML-WXSS”-迷你示例">“Hello WXML+WXSS” 迷你示例</h3>
<p><em>index.wxml</em></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>&#123;&#123; title &#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;handleTap&quot;</span>&gt;</span>获取头像昵称<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><em>index.wxss</em></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">  <span class="attribute">padding</span>:<span class="number">40</span>rpx;</span><br><span class="line">  <span class="attribute">text-align</span>:center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.title</span>&#123;</span><br><span class="line">  <span class="attribute">font-size</span>:<span class="number">48</span>rpx;</span><br><span class="line">  <span class="attribute">color</span>:<span class="number">#00B26A</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>:<span class="number">60</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">button</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>:<span class="number">300</span>rpx;</span><br><span class="line">  <span class="attribute">background</span>:<span class="number">#ffffff</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>:<span class="number">12</span>rpx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>index.js（片段）</em></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line">  <span class="attr">data</span>:&#123; <span class="attr">title</span>:<span class="string">&#x27;Hello World&#x27;</span> &#125;,</span><br><span class="line">  <span class="title function_">handleTap</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;按钮被点击&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>编译后即可在模拟器看到绿色 “Hello World” 标题和按钮，布局在不同机型上会因 <code>rpx</code> 自适应而保持一致。</p>
<h4 id="3-3-3-小结">3.3.3 小结</h4>
<ol>
<li><strong>WXML = 结构 + 模板指令</strong>，写法清爽、带数据驱动。</li>
<li><strong>WXSS = CSS Lite + rpx</strong>，屏幕适配不操心，全局/局部样式分而治之。</li>
<li>掌握二者配合后，再加 JS 逻辑，就能快速搭好小程序页面。下一步可以尝试引入组件（如 <code>image</code>、<code>scroll-view</code>），让页面“活”起来！</li>
</ol>
<h3 id="3-4-JS逻辑交互">3.4 JS逻辑交互</h3>
<p>在小程序里，<strong>界面展示靠 WXML/WXSS，行为逻辑就交给 JavaScript</strong>。<br>
JS 文件按作用域可分 3 类：</p>
<table>
<thead>
<tr>
<th>类别</th>
<th>入口函数</th>
<th>典型职责</th>
<th>代码片段</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>1. app.js</strong> （全局）</td>
<td><code>App()</code></td>
<td>启动小程序、监听全局生命周期、存放公共数据</td>
<td><code>js App(&#123; onLaunch()&#123; // 全局初始化 &#125; &#125;) </code></td>
</tr>
<tr>
<td><strong>2. 页面 .js</strong> （局部）</td>
<td><code>Page()</code></td>
<td>定义页面数据 <code>data</code>、事件处理、页面生命周期</td>
<td><code>js Page(&#123; data:&#123; count:0 &#125;, add()&#123; this.setData(&#123;count:this.data.count+1&#125;) &#125; &#125;) </code></td>
</tr>
<tr>
<td><strong>3. 普通 .js</strong> （工具模块）</td>
<td>——</td>
<td>封装公用函数 / 常量，供 <code>require</code> / <code>import</code></td>
<td><code>js // utils/time.js module.exports=formatTime; </code></td>
</tr>
</tbody>
</table>
<h4 id="3-4-1-常见交互流程示例">3.4.1 常见交互流程示例</h4>
<ol>
<li>
<p><strong>用户操作</strong> → WXML 触发事件</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;add&quot;</span>&gt;</span>+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>页面 .js 接收事件</strong>，修改 <code>data</code></p>
</li>
<li>
<p><strong>视图自动刷新</strong> —— 数据驱动视图，无需手动 DOM 更新</p>
</li>
</ol>
<h4 id="3-4-2-开发要点速查">3.4.2 开发要点速查</h4>
<table>
<thead>
<tr>
<th>场景</th>
<th>关键 API / 方法</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>修改页面数据</td>
<td><code>this.setData(&#123; … &#125;)</code></td>
<td>触发视图更新</td>
</tr>
<tr>
<td>跨页面数据共享</td>
<td><code>getApp()</code>、全局 <code>globalData</code></td>
<td>简单状态、无需状态管理库</td>
</tr>
<tr>
<td>本地缓存</td>
<td><code>wx.setStorageSync / wx.getStorageSync</code></td>
<td>同步 / 异步版本均有</td>
</tr>
<tr>
<td>调原生能力</td>
<td>例如 <code>wx.getLocation()</code>、<code>wx.scanCode()</code></td>
<td>Promise 化可用 <code>wx.promisify</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p>小技巧：<strong>把与页面无关的逻辑拆到 utils 里</strong>（如日期格式化、网络请求封装），页面文件只关心“拿数据 + 绑定事件”，结构会更清晰，后期维护也轻松。</p>
</blockquote>
<h2 id="四、小程序的宿主环境">四、小程序的宿主环境</h2>
<h3 id="4-1-宿主环境简介">4.1 宿主环境简介</h3>
<blockquote>
<p><strong>宿主环境（host environment）= 程序运行所必需的“生存土壤”</strong></p>
<ul>
<li>Android 系统、iOS 系统分别是 <strong>原生 App</strong> 的宿主环境</li>
<li>对 <strong>微信小程序</strong> 而言——<strong>手机微信 App 本身</strong> 就是唯一宿主</li>
</ul>
</blockquote>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250515181205507.png" alt="image-20250515181205507"></p>
<p>小程序脱离微信无法单独运行，但也正因“寄生”于微信——它天然继承了微信的大量能力（扫码、支付、位置、联系人、蓝牙…）。换个比喻：<strong>网页是住“群租房”，原生 App 是买自建房，小程序则是住在微信这座“超大商场”里的档口</strong>——水电网 (系统能力) 全包、客流量自带，只要专心卖货即可。</p>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250515181215955.png" alt="image-20250515181215955"></p>
<h4 id="4-1-1-宿主环境的四大构成">4.1.1 宿主环境的四大构成</h4>
<table>
<thead>
<tr>
<th>顺位</th>
<th>模块</th>
<th>作用简述</th>
</tr>
</thead>
<tbody>
<tr>
<td>① <strong>通信模型</strong></td>
<td>逻辑层 (JSCore) ⇆ 渲染层 (WebView) 双线程桥接</td>
<td><code>setData()</code> 消息队列、事件回传</td>
</tr>
<tr>
<td>② <strong>运行机制</strong></td>
<td>页面栈 + 生命周期；前后台切换由微信托管</td>
<td><code>onLaunch</code>, <code>onShow</code>, <code>onHide</code></td>
</tr>
<tr>
<td>③ <strong>基础组件</strong></td>
<td>微信团队实现的 UI 组件库；语义精简</td>
<td><code>view</code>, <code>scroll-view</code>, <code>swiper</code>, <code>button</code></td>
</tr>
<tr>
<td>④ <strong>能力型 API</strong></td>
<td>直接调用微信/系统底层功能</td>
<td><code>wx.scanCode</code>, <code>wx.getLocation</code>, <code>wx.login</code>, <code>wx.requestPayment</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p><em>Tip：当你在 WXML 里写一个 <code>&lt;map&gt;</code> 组件、在 JS 里调用 <code>wx.openLocation()</code> 时，其实就是“喊”微信宿主帮你干活。</em></p>
</blockquote>
<hr>
<h4 id="4-1-2-为什么要理解宿主环境？">4.1.2 为什么要理解宿主环境？</h4>
<ol>
<li><strong>性能边界感</strong><br>
不同于浏览器，渲染与逻辑分离——频繁 <code>setData</code> 会阻塞桥接；理解后才能写出高帧率页面。</li>
<li><strong>权限与合规</strong><br>
微信提供的能力必须走官方授权弹窗，比如地理定位、相册；否则审核直接驳回。</li>
<li><strong>跨端一致性</strong><br>
同一段小程序代码在 Android / iOS 中，UI 基本一致；但系统级 API（如蓝牙）仍存在差异，需要做降级处理。</li>
</ol>
<hr>
<h4 id="4-1-3-一口气总结">4.1.3 一口气总结</h4>
<ul>
<li><strong>宿主 = 微信</strong>，不给微信当“插件”就跑不起来</li>
<li>微信把 <strong>通信、渲染、原生能力</strong> 都封装好了，小程序像乐高积木随取随用</li>
<li>开发者最重要的任务：<strong>写好逻辑层 JS + 轻量视图层 WXML/WXSS</strong>，其余交给宿主</li>
</ul>
<blockquote>
<p><strong>“小程序离开微信就像离开水的鱼——它确实还能发消息（抖两下），但没人敢买单。”</strong></p>
</blockquote>
<h3 id="4-2-通信模型">4.2 通信模型</h3>
<p>在微信小程序里，<strong>所有数据都绕不过一座“转发站”——微信客户端本身</strong>。<br>
下面先看参与者，再看两条通信通路。</p>
<hr>
<h4 id="4-2-1-通信主体">4.2.1 通信主体</h4>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250515181657953.png" alt="image-20250515181657953"></p>
<table>
<thead>
<tr>
<th>层次</th>
<th>所在进程</th>
<th>负责内容</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>渲染层</strong></td>
<td>WebView</td>
<td>解析 WXML / WXSS，负责页面展示、用户触摸事件上报</td>
</tr>
<tr>
<td><strong>逻辑层</strong></td>
<td>JSCore</td>
<td>运行 JS 脚本，处理业务逻辑、网络请求、数据缓存</td>
</tr>
<tr>
<td><strong>Native</strong></td>
<td>微信 App</td>
<td>把两层“撮合”到一起，并代为调系统能力</td>
</tr>
</tbody>
</table>
<p><em>一句话：渲染层“长得好看”，逻辑层“动脑子”，Native “当保姆”。</em></p>
<h4 id="4-2-2-两大通信路径">4.2.2 两大通信路径</h4>
<table>
<thead>
<tr>
<th>#</th>
<th>方向</th>
<th>流程 &amp; 关键点</th>
<th>开发者可感知的 API</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>① 渲染层 ⇆ 逻辑层</strong></td>
<td><strong>双向消息</strong>（受控队列）</td>
<td>- 逻辑层调用 <code>setData()</code> 推 UI 更新 - 渲染层把点击、滚动等事件打包回传</td>
<td><code>this.setData()</code>、<code>bindtap</code>、<code>bindscroll</code></td>
</tr>
<tr>
<td><strong>② 逻辑层 ⇆ 第三方服务器</strong></td>
<td><strong>HTTP(S) 请求</strong></td>
<td>- 由逻辑层发起 <code>wx.request</code>，Native 代劳实际网络通信 - 域名需预先配置在「合法域名」白名单里</td>
<td><code>wx.request()</code>、<code>wx.uploadFile()</code>、<code>wx.downloadFile()</code></td>
</tr>
</tbody>
</table>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250515181634413.png" alt="image-20250515181634413"></p>
<blockquote>
<p><strong>性能提醒</strong></p>
<ul>
<li>每次 <code>setData</code> 会经过桥接层，<strong>数据包越大、频率越高 → 卡顿越明显</strong>。<br> 养成“只改动需要的字段 + 合并多次写入”的习惯。</li>
<li>网络请求走 Native，HTTPS 握手仍消耗时间；能用云开发或本地缓存的场景不要硬拉远程接口。</li>
</ul>
</blockquote>
<hr>
<h4 id="4-2-3-常见问题-解法">4.2.3 常见问题 &amp; 解法</h4>
<table>
<thead>
<tr>
<th>症状</th>
<th>原因</th>
<th>解决思路</th>
</tr>
</thead>
<tbody>
<tr>
<td>页面频繁掉帧</td>
<td><code>setData</code> 高频 + 大对象</td>
<td>拆分字段；<code>throttle/debounce</code> 用户输入；长列表用 <code>virtual-list</code></td>
</tr>
<tr>
<td>请求 400 / 404</td>
<td>域名未备案或未加入白名单</td>
<td>在小程序管理后台 <strong>开发→开发设置→服务器域名</strong> 添加并验证</td>
</tr>
<tr>
<td>iOS 正常，Android 出错</td>
<td>不同平台底层 WebView / JSCore 行为差异</td>
<td>使用官方组件&amp;API 避免私造 DOM；及时关注基础库版本差异</td>
</tr>
</tbody>
</table>
<hr>
<h4 id="4-2-4-小结">4.2.4 小结</h4>
<ol>
<li><strong>两层一桥</strong>：渲染层 &amp; 逻辑层通过微信 Native 桥接。</li>
<li><strong>两条通路</strong>：层间消息 + 网络请求，都走 Native 转发。</li>
<li>开发者关注 <strong>包大小、调用频率、域名白名单</strong> 三件事，就能让通信既<strong>快</strong>又<strong>稳</strong>。</li>
</ol>
<h3 id="4-3-运行机制">4.3 运行机制</h3>
<p>微信小程序在微信宿主中“苏醒→展示”大致分两条流水线：<strong>小程序启动</strong>与<strong>页面渲染</strong>。理解这两条流水线能帮助我们定位白屏、初始化慢等常见问题。下文结合两张流程 PPT 逐步拆解。</p>
<hr>
<h4 id="4-3-1-小程序启动（App-级别）">4.3.1 小程序启动（App 级别）</h4>
<table>
<thead>
<tr>
<th>顺序</th>
<th>阶段</th>
<th>关键动作</th>
<th>对应生命周期</th>
</tr>
</thead>
<tbody>
<tr>
<td>①</td>
<td><strong>拉取代码包</strong></td>
<td>微信客户端从服务器或本地缓存下载/比对代码包（<code>*.wxapkg</code>）</td>
<td></td>
</tr>
<tr>
<td>②</td>
<td><strong>解析 <code>app.json</code></strong></td>
<td>读取全局配置：路由表 <code>pages[]</code>、窗口 <code>window&#123;&#125;</code>、<code>tabBar</code>…</td>
<td></td>
</tr>
<tr>
<td>③</td>
<td><strong>执行 <code>app.js</code></strong></td>
<td>调用 <strong><code>App()</code></strong> 创建全局实例，注入生命周期回调</td>
<td><code>onLaunch</code></td>
</tr>
<tr>
<td>④</td>
<td><strong>渲染首页</strong></td>
<td>读取路由表首项所指页面（例如 <code>pages/index/index</code>）</td>
<td></td>
</tr>
<tr>
<td>⑤</td>
<td><strong>启动完成</strong></td>
<td>首屏可见，进入前台</td>
<td><code>onShow</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>首屏优化 Tips</strong></p>
<ul>
<li>首页放置<strong>最小可运行</strong>逻辑，复杂初始化放次级页面或懒加载</li>
<li>合理使用分包，避免一次下载 2M+ 资源</li>
</ul>
</blockquote>
<hr>
<h4 id="4-3-2-页面渲染（Page-级别）">4.3.2 页面渲染（Page 级别）</h4>
<table>
<thead>
<tr>
<th>顺序</th>
<th>动作</th>
<th>说明</th>
<th>生命周期钩子</th>
</tr>
</thead>
<tbody>
<tr>
<td>① <strong>加载 <code>index.json</code></strong></td>
<td>读取页面私有配置，覆盖 <code>app.json → window</code> 同名字段</td>
<td></td>
<td></td>
</tr>
<tr>
<td>② <strong>解析 <code>index.wxml</code> / <code>index.wxss</code></strong></td>
<td>渲染层构建 DOM Tree &amp; CSSOM</td>
<td></td>
<td></td>
</tr>
<tr>
<td>③ <strong>执行 <code>index.js</code></strong></td>
<td>调用 <strong><code>Page()</code></strong> 生成页面实例，注册 <code>data</code>、事件处理</td>
<td><code>onLoad</code></td>
<td></td>
</tr>
<tr>
<td>④ <strong>渲染完成</strong></td>
<td>首次数据绑定 &amp; 布局绘制</td>
<td><code>onReady</code></td>
<td></td>
</tr>
</tbody>
</table>
<p>随后页面进入<strong>可交互状态</strong>，后续的显示/隐藏/卸载遵循：</p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">onShow → 用户可见</span><br><span class="line">onHide → 退到后台 / 被覆盖</span><br><span class="line">onUnload → 被销毁（从页面栈移除）</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="4-3-3-页面栈（Page-Stack）与路由">4.3.3 页面栈（Page Stack）与路由</h4>
<ul>
<li>
<p>微信维护一个<strong>栈结构</strong>来保存已打开页面顺序：<code>[index] -&gt; [list] -&gt; [detail]</code></p>
</li>
<li>
<p><code>wx.navigateTo()</code> <strong>压栈</strong>，<code>wx.navigateBack()</code> <strong>弹栈</strong>；最多 10 层</p>
</li>
<li>
<p>栈顶页面可访问下层页面实例：</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pages = <span class="title function_">getCurrentPages</span>()</span><br><span class="line"><span class="keyword">const</span> prevPage = pages[pages.<span class="property">length</span> - <span class="number">2</span>]   <span class="comment">// 上一个页面</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h4 id="4-3-4-常见问题速查表">4.3.4 常见问题速查表</h4>
<table>
<thead>
<tr>
<th>现象</th>
<th>可能原因</th>
<th>排查思路</th>
</tr>
</thead>
<tbody>
<tr>
<td>首屏白屏 ≥3 s</td>
<td>代码包过大；首页依赖网络数据</td>
<td>分包 + 骨架屏；接口并行请求</td>
</tr>
<tr>
<td><code>onLoad</code> 不触发</td>
<td>页面被缓存，走了 <code>onShow</code></td>
<td>确认是否使用 <code>tabBar</code> 页面；看调试面板</td>
</tr>
<tr>
<td>返回上一页数据未刷新</td>
<td>仅在 <code>onLoad</code> 拉数据</td>
<td>在 <code>onShow</code> 里增补刷新逻辑或使用事件总线</td>
</tr>
</tbody>
</table>
<hr>
<h4 id="4-3-5-思维导图">4.3.5 思维导图</h4>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">小程序启动  </span><br><span class="line">├─ 下载代码包 → 解析 app.json → App() → onLaunch  </span><br><span class="line">└─ 渲染首页  </span><br><span class="line">    ├─ 解析 page.json / wxml / wxss  </span><br><span class="line">    ├─ Page() → onLoad  </span><br><span class="line">    ├─ 数据绑定 &amp; 绘制 → onReady  </span><br><span class="line">    └─ onShow  (用户可见)</span><br></pre></td></tr></table></figure>
<hr>
<blockquote>
<p><strong>一句话总结：</strong> 小程序启动像开机——先读 BIOS (<code>app.json</code>) 再跑系统 (<code>app.js</code>)；<br>
页面渲染像打开软件——解析配置、加载资源、实例化 Page，然后正式显示。<br>
熟悉这两段流程，你就能<strong>精确拿捏生命周期</strong>，让首屏更快、页面更顺滑。</p>
</blockquote>
<h3 id="4-4-组件">4.4 组件</h3>
<p>组件由 <strong>微信宿主环境</strong> 内置提供，开发者无需重复造轮子即可快速拼装页面。官方把全部组件分成 <strong>9 大类</strong>，如下表所示，本节先聚焦最常用的 <strong>视图容器类</strong> 和 <strong>基础内容类</strong>，其余将在下节继续。</p>
<table>
<thead>
<tr>
<th>分类序号</th>
<th>组件类别</th>
<th>典型成员</th>
</tr>
</thead>
<tbody>
<tr>
<td>①</td>
<td><strong>视图容器</strong></td>
<td><code>view</code>、<code>scroll-view</code>、<code>swiper / swiper-item</code></td>
</tr>
<tr>
<td>②</td>
<td><strong>基础内容</strong></td>
<td><code>text</code>、<code>rich-text</code></td>
</tr>
<tr>
<td>③</td>
<td>表单组件</td>
<td><code>button</code>、<code>input</code>、<code>picker</code> …</td>
</tr>
<tr>
<td>④</td>
<td>导航组件</td>
<td><code>navigator</code>、<code>scroll-view</code>（滚动监听）</td>
</tr>
<tr>
<td>⑤</td>
<td>媒体组件</td>
<td><code>image</code>、<code>video</code></td>
</tr>
<tr>
<td>⑥</td>
<td>map 地图组件</td>
<td><code>map</code></td>
</tr>
<tr>
<td>⑦</td>
<td>canvas 画布组件</td>
<td><code>canvas</code>、<code>live-player</code></td>
</tr>
<tr>
<td>⑧</td>
<td>开放能力</td>
<td><code>ad</code>、<code>official-account</code>、<code>open-data</code></td>
</tr>
<tr>
<td>⑨</td>
<td>无障碍访问</td>
<td><code>aria-*</code>（WAI-ARIA 属性）</td>
</tr>
</tbody>
</table>
<hr>
<h4 id="4-4-1-视图容器类组件">4.4.1 视图容器类组件</h4>
<table>
<thead>
<tr>
<th>组件</th>
<th>作用</th>
<th>常用属性 / 说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>view</code></td>
<td><strong>普通视图区域</strong>，相当于 HTML 中的 <code>div</code>。配合 WXSS 可做任何布局。</td>
<td>支持 <code>hover-class</code>、<code>hover-start-time</code> 等触摸态效果</td>
</tr>
<tr>
<td><code>scroll-view</code></td>
<td><strong>可滚动的视图区域</strong>。竖向或横向滚动列表、图片瀑布流等首选。</td>
<td><code>scroll-y / scroll-x</code> 开启滚动；滚动方向必须给定<strong>固定高度/宽度</strong>，否则无法滚动</td>
</tr>
<tr>
<td><code>swiper</code> + <code>swiper-item</code></td>
<td><strong>轮播容器</strong>与其子项。常见于首页 Banner、广告位。</td>
<td>支持 <code>indicator-dots</code> 页签、<code>autoplay</code> 自动播放、<code>circular</code> 衔接滚动等</td>
</tr>
</tbody>
</table>
<h5 id="1-view-示例：Flex-横向布局">1) <code>view</code> 示例：Flex 横向布局</h5>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250515183220214.png" alt="image-20250515183220214"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- list.wxml --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span>A<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span>B<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span>C<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* list.wxss */</span></span><br><span class="line"><span class="selector-class">.container</span>           &#123; <span class="attribute">display</span>:flex; <span class="attribute">justify-content</span>:space-around &#125;</span><br><span class="line"><span class="selector-class">.container</span> view      &#123; <span class="attribute">width</span>:<span class="number">100px</span>; <span class="attribute">height</span>:<span class="number">100px</span>; <span class="attribute">text-align</span>:center; <span class="attribute">line-height</span>:<span class="number">100px</span> &#125;</span><br><span class="line"><span class="selector-class">.container</span> view<span class="selector-pseudo">:nth-child</span>(<span class="number">1</span>) &#123; <span class="attribute">background</span>:lightgreen  &#125;</span><br><span class="line"><span class="selector-class">.container</span> view<span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>) &#123; <span class="attribute">background</span>:lightskyblue &#125;</span><br><span class="line"><span class="selector-class">.container</span> view<span class="selector-pseudo">:nth-child</span>(<span class="number">3</span>) &#123; <span class="attribute">background</span>:lightcoral &#125;</span><br></pre></td></tr></table></figure>
<p>效果：三块彩色方块水平均分对齐。</p>
<hr>
<h5 id="2-scroll-view-示例：纵向滚动列表">2) <code>scroll-view</code> 示例：纵向滚动列表</h5>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250515183242767.png" alt="image-20250515183242767"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">scroll-view</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">scroll-y</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span>A<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span>B<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span>C<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">scroll-view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span>        &#123; <span class="attribute">width</span>:<span class="number">100px</span>; <span class="attribute">height</span>:<span class="number">120px</span>; <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#e00</span> &#125; <span class="comment">/* 高度必须固定 */</span></span><br><span class="line"><span class="selector-class">.box</span> view   &#123; <span class="attribute">width</span>:<span class="number">100px</span>; <span class="attribute">height</span>:<span class="number">100px</span> &#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>要点</strong>：</p>
<ul>
<li>纵向滚动用 <code>scroll-y</code>；横向用 <code>scroll-x</code></li>
<li>滚动方向对应的尺寸 <strong>必须固定</strong>，否则内容无法滚动</li>
</ul>
</blockquote>
<hr>
<h5 id="3-swiper-swiper-item-示例：基础轮播">3) <code>swiper / swiper-item</code> 示例：基础轮播</h5>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250515183302134.png" alt="image-20250515183302134"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">swiper</span> <span class="attr">class</span>=<span class="string">&quot;swiper&quot;</span> <span class="attr">indicator-dots</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">swiper-item</span>&gt;</span><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span>A<span class="tag">&lt;/<span class="name">view</span>&gt;</span><span class="tag">&lt;/<span class="name">swiper-item</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">swiper-item</span>&gt;</span><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span>B<span class="tag">&lt;/<span class="name">view</span>&gt;</span><span class="tag">&lt;/<span class="name">swiper-item</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">swiper-item</span>&gt;</span><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span>C<span class="tag">&lt;/<span class="name">view</span>&gt;</span><span class="tag">&lt;/<span class="name">swiper-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">swiper</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.swiper</span>      &#123; <span class="attribute">height</span>:<span class="number">150px</span> &#125;</span><br><span class="line"><span class="selector-class">.item</span>        &#123; <span class="attribute">height</span>:<span class="number">100%</span>; <span class="attribute">line-height</span>:<span class="number">150px</span>; <span class="attribute">text-align</span>:center &#125;</span><br><span class="line"><span class="selector-class">.item</span><span class="selector-pseudo">:nth-child</span>(<span class="number">1</span>) &#123; <span class="attribute">background</span>:lightgreen   &#125;</span><br><span class="line"><span class="selector-class">.item</span><span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>) &#123; <span class="attribute">background</span>:lightskyblue &#125;</span><br><span class="line"><span class="selector-class">.item</span><span class="selector-pseudo">:nth-child</span>(<span class="number">3</span>) &#123; <span class="attribute">background</span>:lightcoral   &#125;</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>常用属性</th>
<th>类型</th>
<th>默认值</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>indicator-dots</code></td>
<td><code>boolean</code></td>
<td><code>false</code></td>
<td>是否显示面板指示点</td>
</tr>
<tr>
<td><code>indicator-color</code></td>
<td><code>color</code></td>
<td><code>rgba(0,0,0,.3)</code></td>
<td>指示点颜色</td>
</tr>
<tr>
<td><code>indicator-active-color</code></td>
<td><code>color</code></td>
<td><code>#000000</code></td>
<td>选中指示点颜色</td>
</tr>
<tr>
<td><code>autoplay</code></td>
<td><code>boolean</code></td>
<td><code>false</code></td>
<td>是否自动切换</td>
</tr>
<tr>
<td><code>interval</code></td>
<td><code>number</code></td>
<td><code>5000</code></td>
<td>自动切换间隔（ms）</td>
</tr>
<tr>
<td><code>circular</code></td>
<td><code>boolean</code></td>
<td><code>false</code></td>
<td>是否循环衔接滑动</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>提示</strong>：轮播高度由外层 <code>.swiper</code> 控制；若放在 <code>scroll-view</code> 内部，务必关闭 <code>scroll-view</code> 的同向滚动冲突或改用 <code>catchtouchmove</code>。</p>
</blockquote>
<hr>
<h4 id="4-4-2-基础内容类组件">4.4.2 基础内容类组件</h4>
<table>
<thead>
<tr>
<th>组件</th>
<th>作用</th>
<th>常用属性</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>text</code></td>
<td>普通文本</td>
<td><code>selectable</code> (是否可长按复制)<code>space</code> (<code>ensp</code>/<code>nbsp</code>) 空格处理</td>
<td>类似 HTML 中的 <code>&lt;span&gt;</code></td>
</tr>
<tr>
<td><code>rich-text</code></td>
<td><strong>富文本</strong>渲染</td>
<td><code>nodes</code> (字符串 / 数组，描述要渲染的节点)<code>editable</code> (是否可编辑)</td>
<td>官方默认过滤潜在危险标签</td>
</tr>
</tbody>
</table>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">text</span>&gt;</span>微信小程序<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">rich-text</span> <span class="attr">nodes</span>=<span class="string">&quot;&#123;&#123; htmlString &#125;&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">rich-text</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line">  <span class="attr">data</span>:&#123; <span class="attr">htmlString</span>:<span class="string">&#x27;&lt;h3 style=&quot;color:#07c160;&quot;&gt;Hello MiniProgram&lt;/h3&gt;&#x27;</span> &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h5 id="1-text-组件">1) <code>text</code> 组件</h5>
<ul>
<li><strong>定位</strong>：最轻量的文本呈现容器。</li>
<li><strong>核心属性</strong>
<ul>
<li><code>selectable=&quot;true&quot;</code> → 支持长按选中复制</li>
<li><code>space=&quot;ensp&quot;</code> / <code>space=&quot;nbsp&quot;</code> → 自动替换空格方便排版</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">text</span>&gt;</span>普通文本<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">text</span> <span class="attr">selectable</span>&gt;</span>138 0000 5006<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">text</span> <span class="attr">space</span>=<span class="string">&quot;ensp&quot;</span>&gt;</span>空   格   对   齐<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="2-rich-text-组件">2) <code>rich-text</code> 组件</h5>
<p><code>rich-text</code> 用来把 <strong>HTML 字符串</strong> 或 <strong>nodes JSON</strong> 渲染为 WXML 结构。常见场景：文章 / 商品详情 / 评论内容。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">rich-text</span></span></span><br><span class="line"><span class="tag">  <span class="attr">nodes</span>=<span class="string">&#x27;&lt;h1 style=&quot;color:#e54d42;&quot;&gt;标题&lt;/h1&gt;&lt;p&gt;段落&lt;b&gt;加粗&lt;/b&gt;&lt;/p&gt;&#x27;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">rich-text</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>安全提示</strong>：只有白名单标签（<code>div、p、img、h1–h6</code> 等）会被保留，脚本标签会被自动移除；如需更多格式，建议后端预处理为 nodes 数组。</p>
</blockquote>
<h3 id="4-4-3-其它常用组件概览">4 .4 .3  其它常用组件概览</h3>
<table>
<thead>
<tr>
<th>组件</th>
<th>典型用途</th>
<th>精华属性 / 方法</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>button</code></td>
<td>操作入口、调起微信能力</td>
<td><code>type</code> <code>size</code> <code>plain</code> <code>disabled</code> <code>open-type</code></td>
</tr>
<tr>
<td><code>image</code></td>
<td>图片展示</td>
<td><code>src</code> <code>mode</code> <code>lazy-load</code> <code>show-menu-by-longpress</code></td>
</tr>
<tr>
<td><code>navigator</code></td>
<td>页面跳转</td>
<td><code>url</code> <code>open-type</code> (<code>navigate</code> <code>redirect</code> <code>switchTab</code> …)</td>
</tr>
</tbody>
</table>
<p>下文分别展开 <strong>button</strong> 与 <strong>image</strong> 两个最常用组件；<code>navigator</code> 会在后续详述。</p>
<h3 id="4-4-5-button-组件">4 .4 .5  <code>button</code> 组件</h3>
<table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>type</code> → <code>default / primary / warn</code></td>
<td>系统预设三种主题色</td>
</tr>
<tr>
<td><code>size</code> → <code>default / mini</code></td>
<td>小尺寸按钮</td>
</tr>
<tr>
<td><code>plain</code></td>
<td>镂空按钮，常用作次要操作</td>
</tr>
<tr>
<td><code>open-type</code></td>
<td>调起微信能力，如 <code>contact</code>（客服）、<code>share</code>、<code>getPhoneNumber</code>、<code>feedback</code> 等</td>
</tr>
</tbody>
</table>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--类型--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>默认<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>主色<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;warn&quot;</span>&gt;</span>警告<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--尺寸 &amp; 镂空--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">size</span>=<span class="string">&quot;mini&quot;</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>mini<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">plain</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>镂空<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--调起客服会话--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">open-type</span>=<span class="string">&quot;contact&quot;</span>&gt;</span>联系客服<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="4-4-7-image-组件">4 .4 .7  <code>image</code> 组件</h3>
<ul>
<li><strong>默认尺寸</strong>：300 px × 240 px，如需自适应请配合 <code>mode</code>。</li>
<li><strong>懒加载</strong>：<code>lazy-load=&quot;true&quot;</code> 仅当页面滚动到可视区域再加载。</li>
<li><strong>长按菜单</strong>：<code>show-menu-by-longpress=&quot;true&quot;</code> 支持保存 / 识别二维码。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--空图占位--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">image</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--等比缩放完整展示（aspectFit）--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">&quot;/images/avatar.png&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;aspectFit&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--封面图常用裁剪（aspectFill）--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">&quot;/images/banner.jpg&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;aspectFill&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:100%;height:160px;&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="mode-属性速查"><code>mode</code> 属性速查</h4>
<table>
<thead>
<tr>
<th>mode 值</th>
<th>行为</th>
<th>典型场景</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>scaleToFill</code> <em>(默认)</em></td>
<td>拉伸填满，不保持比例</td>
<td>彩色占位图</td>
</tr>
<tr>
<td><code>aspectFit</code></td>
<td>等比缩放，完整显示长边</td>
<td>头像 / 缩略图</td>
</tr>
<tr>
<td><code>aspectFill</code></td>
<td>等比缩放，完整显示短边，多余裁剪</td>
<td>Banner / 封面</td>
</tr>
<tr>
<td><code>widthFix</code></td>
<td>宽度固定，高度自适应</td>
<td>等宽瀑布流</td>
</tr>
<tr>
<td><code>heightFix</code></td>
<td>高度固定，宽度自适应</td>
<td>固定高度画廊</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="4-4-8-小结">4 .4 .8  小结</h3>
<table>
<thead>
<tr>
<th>模块</th>
<th>速记</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>文本</strong></td>
<td><code>text</code> 轻量、<code>rich-text</code> 富文本</td>
</tr>
<tr>
<td><strong>交互</strong></td>
<td><code>button</code> 自带主题 + 微信开放能力</td>
</tr>
<tr>
<td><strong>媒体</strong></td>
<td><code>image</code> 默认固定尺寸，<code>mode</code> 决定裁剪 / 缩放</td>
</tr>
<tr>
<td><strong>导航</strong></td>
<td>路由跳转交给 <code>navigator</code>（后续详讲）</td>
</tr>
</tbody>
</table>
<p>掌握以上组件，你已能完成<strong>大多数页面的静态 UI 构建</strong>。接下来建议动手把示例代码敲一遍，加深对属性、默认行为的直观理解。</p>
<h3 id="4-5-API">4.5 API</h3>
<blockquote>
<p>小程序的能力 = <strong>宿主环境 + JavaScript 运行时</strong>。<br>
组件解决“<strong>页面结构/样式</strong>”的问题，API 负责“<strong>能力调用</strong>”——无论是硬件能力（摄像头、定位）、软件能力（网络请求、本地存储）还是微信生态能力（登录、支付、分享）都要通过 API 触达。</p>
</blockquote>
<h4 id="4-4-1-API-概述">4.4.1 API 概述</h4>
<p>小程序所有 API 都由 <strong>微信客户端（宿主环境）统一暴露</strong>。开发者只需使用 <code>wx.*</code> 命名空间即可调用，无需关心底层平台差异。常见场景示例：</p>
<table>
<thead>
<tr>
<th>场景</th>
<th>典型 API</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>获取用户信息</td>
<td><code>wx.getUserInfo()</code></td>
<td>调起授权弹窗并获取用户基础信息</td>
</tr>
<tr>
<td>本地数据缓存</td>
<td><code>wx.setStorageSync()/wx.getStorageSync()</code></td>
<td>读写 10 MB 以内的 KV 数据</td>
</tr>
<tr>
<td>微信支付</td>
<td><code>wx.requestPayment()</code></td>
<td>拉起微信支付收银台完成支付</td>
</tr>
</tbody>
</table>
<h4 id="4-4-2-API-的三大分类">4.4.2 API 的三大分类</h4>
<table>
<thead>
<tr>
<th>分类</th>
<th>识别方式</th>
<th>特点</th>
<th>常用示例</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>事件监听型 (Event Listener APIs)</strong></td>
<td>以 <strong><code>on</code></strong> 开头</td>
<td>只负责 <strong>订阅宿主事件</strong>，不直接返回结果</td>
<td><code>wx.onWindowResize(cb)</code> 监听页面尺寸变化 <code>wx.onNetworkStatusChange(cb)</code> 监听网络状态</td>
</tr>
<tr>
<td><strong>同步型 (Sync APIs)</strong></td>
<td>以 <strong><code>Sync</code></strong> 结尾</td>
<td><strong>堵塞式执行</strong>，结果以返回值形式同步拿到；失败会 <strong>抛出异常</strong></td>
<td><code>wx.setStorageSync(key, value)</code> 本地写入 <code>wx.getSystemInfoSync()</code> 获取系统信息</td>
</tr>
<tr>
<td><strong>异步型 (Async APIs)</strong></td>
<td>其他大多数 API</td>
<td>类似 <code>$.ajax</code>：通过 <code>success / fail / complete</code> 或 <strong>Promise</strong> 接收结果；<strong>不阻塞 UI</strong></td>
<td><code>wx.request(&#123;...&#125;)</code> 网络请求 <code>wx.login(&#123;...&#125;)</code> 获取临时登录凭证</td>
</tr>
</tbody>
</table>
<h5 id="1-事件监听型">1. 事件监听型</h5>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 监听页面尺寸变化</span></span><br><span class="line">wx.<span class="title function_">onWindowResize</span>(<span class="function">(<span class="params">&#123; windowWidth, windowHeight &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;窗口尺寸：&#x27;</span>, windowWidth, windowHeight)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>使用场景</strong>：对系统级事件做被动响应（旋转、剪切板、网络变化…）。</li>
<li><strong>注意</strong>：无法取消，需要在离开页面或组件销毁时自行 ignore 回调结果。</li>
</ul>
<h5 id="2-同步型">2. 同步型</h5>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> value = wx.<span class="title function_">getStorageSync</span>(<span class="string">&#x27;token&#x27;</span>)</span><br><span class="line">  <span class="keyword">if</span> (value) &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;读取缓存失败&#x27;</span>, err)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>适用场景</strong>：体量小、耗时极短且<strong>必须立刻拿到结果</strong>的操作（读取配置、本地缓存）。</li>
<li><strong>风险点</strong>：阻塞 JS 线程，频繁或大数据量调用会产生卡顿。</li>
</ul>
<h5 id="3-异步型">3. 异步型</h5>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">wx.<span class="title function_">request</span>(&#123;</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&#x27;https://api.example.com/user&#x27;</span>, </span><br><span class="line">  <span class="attr">method</span>: <span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">  <span class="attr">success</span>: <span class="function">(<span class="params">&#123; data &#125;</span>) =&gt;</span> &#123; <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123; <span class="attr">user</span>: data &#125;) &#125;,</span><br><span class="line">  <span class="attr">fail</span>: <span class="variable language_">console</span>.<span class="property">error</span>,</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// Promise 写法（基础库 2.10.0 起）</span></span><br><span class="line">wx.<span class="title function_">request</span>(&#123; <span class="attr">url</span>: <span class="string">&#x27;/login&#x27;</span>, <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>, <span class="attr">data</span>: loginForm &#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">&#123; data &#125;</span>) =&gt;</span> <span class="comment">/* ... */</span>)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="variable language_">console</span>.<span class="property">error</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>适用场景</strong>：网络、文件、支付、蓝牙等 <strong>耗时或需要用户交互</strong> 的能力。</li>
<li><strong>最佳实践</strong>：统一封装 <code>request</code> 工具（超时、BaseURL、全局错误处理），并用 Promise / async-await 提升代码可读性。</li>
</ul>
<hr>
<h4 id="4-4-3-小结">4.4.3 小结</h4>
<ol>
<li><strong>命名即语义</strong>：<code>on*</code> = 监听、<code>*Sync</code> = 同步，其余默认异步。</li>
<li><strong>先判环境</strong>：调用前可用 <code>wx.canIUse('API 名称')</code> 检测版本兼容。</li>
<li><strong>异常兜底</strong>：同步 API 用 <code>try…catch</code>，异步 API 永远写 <code>fail / catch</code>。</li>
<li><strong>抽象封装</strong>：将宿主 API 再包装成业务层服务（StorageService、AuthService…），减小“宿主直耦合”。</li>
</ol>
<p>这样，你就完成了 <strong>API 能力层</strong> 的知识梳理：</p>
<blockquote>
<p>组件塑造「视图层」，API 打通「能力层」，二者在 <strong>逻辑层（JS）</strong> 里汇合，构成小程序完整的开发模型。</p>
</blockquote>
<h2 id="五、协同工作和发布">五、协同工作和发布</h2>
<h3 id="5-1-协同工作">5.1 协同工作</h3>
<table>
<thead>
<tr>
<th>核心问题</th>
<th>关键要点</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>为什么要做权限管理？</strong></td>
<td>中⼤型团队往往有多⻆⾊并⾏参与同⼀小程序。为避免「所有⼈都能改所有东西」导致的混乱与风险，需要<strong>按岗位/角色做权限边界规划</strong>，让协同更安全、更高效。</td>
</tr>
<tr>
<td><strong>团队典型组织结构</strong></td>
<td><strong>项目管理者（Owner）</strong>：统筹进度与风险，控制对外发布时间节奏；  <br/><strong>产品组</strong>：提出业务需求并在体验阶段收集反馈；  <br/><strong>设计组</strong>：产出设计方案，参与体验阶段的 UI 调整；  <br/><strong>开发组</strong>：代码实现，维护主干分支；  <br/><strong>测试组</strong>：负责测试、回归、灰度放量。</td>
</tr>
<tr>
<td><strong>标准开发流程</strong></td>
<td>1. <strong>提出需求</strong> → 产品组 <br>2. <strong>设计</strong> → 设计组 UI/UX 方案 <br/>3. <strong>开发</strong> → 开发组编码，推送到 <code>dev</code> 分支 <br/>4. <strong>体验</strong> → 产品&amp;设计打开体验版，提出修改意见（小程序后台「体验版本」） <br/>5. <strong>测试</strong> → 测试组在「审核版本」进行功能/兼容/性能测试 <br/>6. <strong>发布</strong> → 项目管理者合并 <code>master</code> 并提交审核，通过后灰度或全量发布</td>
</tr>
</tbody>
</table>
<hr>
<p>权限划分示例（可映射到微信小程序后台 → 「成员管理」）</p>
<table>
<thead>
<tr>
<th>角色</th>
<th>推荐权限</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>项目管理者</td>
<td><strong>管理员</strong></td>
<td>创建/删除成员、提交审核、发布上线</td>
</tr>
<tr>
<td>产品经理</td>
<td><strong>体验成员</strong></td>
<td>体验版访问、数据分析查看</td>
</tr>
<tr>
<td>设计师</td>
<td><strong>体验成员</strong></td>
<td>无需代码修改，仅验收 UI</td>
</tr>
<tr>
<td>开发工程师</td>
<td><strong>开发者</strong></td>
<td>代码上传、体验版生成</td>
</tr>
<tr>
<td>测试工程师</td>
<td><strong>体验成员</strong></td>
<td>体验/审核版本测试、提 Bug</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Tips</strong></p>
<ul>
<li>发布节点建议采用 <strong>灰度 + 指定比例</strong>，确保线上问题可控。</li>
<li>在 CI/CD 流程里引入 <code>npm run lint &amp;&amp; npm run test</code> 等质量闸口，保证进入体验版的代码至少通过静态检查和单元测试。</li>
</ul>
</blockquote>
<p><img src="./%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91.assets/image-20250515185229407.png" alt="image-20250515185229407"></p>
<h3 id="5-2小程序成员管理">5.2小程序成员管理</h3>
<h3 id="5-3-小程序的版本">5.3 小程序的版本</h3>
<h3 id="5-4-发布上线">5.4 发布上线</h3>
<h3 id="5-5-运营数据">5.5 运营数据</h3>
<h2 id="六、总结">六、总结</h2>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://momingxiaoyang.github.io">莫名小痒</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://momingxiaoyang.github.io/2025/03/20/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/">https://momingxiaoyang.github.io/2025/03/20/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://momingxiaoyang.github.io" target="_blank">莫名小痒的博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/">微信小程序</a><a class="post-meta__tags" href="/tags/%E5%89%8D%E7%AB%AF/">前端</a><a class="post-meta__tags" href="/tags/%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91/">代码开发</a></div><div class="post_share"><div class="social-share" data-image="/./img/KaoYan/English/Crazy.JPG" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/./img/head_sculpture.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">莫名小痒</div><div class="author-info__description">MoMingXiaoYang</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">37</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">24</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">14</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/momingxiaoyang/"><i class="fab fa-github"></i><span>My github</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/momingxiaoyang" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:momingxiaoyang@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a><a class="social-icon" href="https://baidu.com/" target="_blank" title="百度"><i class="fa-solid fa-magnifying-glass"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">如果博客帮得到你，请线下真实我！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">微信小程序开发</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%AE%80%E4%BB%8B"><span class="toc-text">一、小程序简介</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%B8%8E%E6%99%AE%E9%80%9A%E7%BD%91%E9%A1%B5%E5%BC%80%E5%8F%91%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">1.1 小程序与普通网页开发的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BD%93%E9%AA%8C"><span class="toc-text">1.2 小程序体验</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%B0%8F%E7%A8%8B%E5%BA%8F"><span class="toc-text">二、第一个小程序</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E6%B3%A8%E5%86%8C%E5%B0%8F%E7%A8%8B%E5%BA%8F%E8%B4%A6%E5%8F%B7"><span class="toc-text">2.1 注册小程序账号</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-1-%E7%82%B9%E5%87%BB%E6%B3%A8%E5%86%8C%E6%8C%89%E9%92%AE"><span class="toc-text">2.1.1 点击注册按钮</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-2-%E9%80%89%E6%8B%A9%E6%B3%A8%E5%86%8C%E8%B4%A6%E5%8F%B7%E7%B1%BB%E5%9E%8B"><span class="toc-text">2.1.2 选择注册账号类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-3-%E5%A1%AB%E5%86%99%E8%B4%A6%E5%8F%B7%E4%BF%A1%E6%81%AF"><span class="toc-text">2.1.3 填写账号信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-4-%E6%8F%90%E7%A4%BA%E9%82%AE%E7%AE%B1%E6%BF%80%E6%B4%BB"><span class="toc-text">2.1.4 提示邮箱激活</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-5-%E7%82%B9%E5%87%BB%E9%93%BE%E6%8E%A5%E6%BF%80%E6%B4%BB%E8%B4%A6%E5%8F%B7"><span class="toc-text">2.1.5 点击链接激活账号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-6-%E9%80%89%E6%8B%A9%E4%B8%BB%E4%BD%93%E7%B1%BB%E5%9E%8B"><span class="toc-text">2.1.6 选择主体类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-7-%E4%B8%BB%E4%BD%93%E4%BF%A1%E6%81%AF%E7%99%BB%E8%AE%B0"><span class="toc-text">2.1.7 主体信息登记</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-8-%E8%8E%B7%E5%8F%96%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84AppID"><span class="toc-text">2.1.8 获取小程序的AppID</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E5%AE%89%E8%A3%85%E5%BE%AE%E4%BF%A1%E5%BC%80%E5%8F%91%E8%80%85%E5%B7%A5%E5%85%B7"><span class="toc-text">2.2 安装微信开发者工具</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E5%B7%A5%E5%85%B7%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%A8%EF%BC%9F"><span class="toc-text">2.2.1 工具有什么用？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E4%B8%8B%E8%BD%BD%E6%9C%80%E6%96%B0%E7%89%88%EF%BC%88Stable-Build%EF%BC%89"><span class="toc-text">2.2.2 下载最新版（Stable Build）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-3-%E5%AE%89%E8%A3%85%E6%B5%81%E7%A8%8B%EF%BC%88%E6%AF%94%E8%A3%85-QQ-%E8%BF%98%E7%AE%80%E5%8D%95%EF%BC%89"><span class="toc-text">2.2.3 安装流程（比装 QQ 还简单）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-4-%E9%A6%96%E6%AC%A1%E6%89%AB%E7%A0%81%E7%99%BB%E5%BD%95"><span class="toc-text">2.2.4 首次扫码登录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-5-%E6%8E%A8%E8%8D%90%E8%AE%BE%E7%BD%AE%EF%BC%88%E7%95%8C%E9%9D%A2-%E7%BD%91%E7%BB%9C%E4%BB%A3%E7%90%86%EF%BC%89"><span class="toc-text">2.2.5 推荐设置（界面 &amp; 网络代理）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E5%88%9B%E5%BB%BA%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%A1%B9%E7%9B%AE"><span class="toc-text">2.3 创建小程序项目</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E8%BF%9B%E5%85%A5%E3%80%8C%E5%B0%8F%E7%A8%8B%E5%BA%8F%E3%80%8D%E6%A0%87%E7%AD%BE%E9%A1%B5"><span class="toc-text">2.3.1 进入「小程序」标签页</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-%E5%A1%AB%E5%86%99%E9%A1%B9%E7%9B%AE%E4%BF%A1%E6%81%AF"><span class="toc-text">2.3.2 填写项目信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA%E5%AE%8C%E6%88%90"><span class="toc-text">2.3.3 项目创建完成</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E7%BC%96%E8%AF%91-%E6%A8%A1%E6%8B%9F%E5%99%A8%E9%A2%84%E8%A7%88"><span class="toc-text">2.3.4 编译 &amp; 模拟器预览</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-5-%E5%9C%A8%E7%9C%9F%E6%9C%BA%E4%B8%8A%E9%A2%84%E8%A7%88%E9%A1%B9%E7%9B%AE%E6%95%88%E6%9E%9C"><span class="toc-text">2.3.5 在真机上预览项目效果</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-6-%E8%AE%A4%E8%AF%86%E4%B8%BB%E7%95%8C%E9%9D%A2%E4%BA%94%E5%A4%A7%E5%8C%BA%E5%9D%97"><span class="toc-text">2.3.6 认识主界面五大区块</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BB%A3%E7%A0%81%E6%9E%84%E6%88%90"><span class="toc-text">三、小程序代码构成</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84"><span class="toc-text">3.1 小程序项目结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-1-%E4%BA%86%E8%A7%A3%E9%A1%B9%E7%9B%AE%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90%E7%BB%93%E6%9E%84"><span class="toc-text">3.1.1 了解项目的基本组成结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-2-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%A1%B5%E9%9D%A2%E7%9A%84%E7%BB%84%E6%88%90%E9%83%A8%E5%88%86"><span class="toc-text">3.1.2 小程序页面的组成部分</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%96%B0%E9%A1%B5%E9%9D%A2%E7%9A%84%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%BE%84"><span class="toc-text">创建新页面的最短路径</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-JSON%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">3.2 JSON配置文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-1-JSON%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-text">3.2.1 JSON配置文件的作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-2-app-json%E6%96%87%E4%BB%B6%E2%80%94%E2%80%94%E3%80%8C%E6%80%BB%E6%8E%A7%E5%8F%B0%E3%80%8D"><span class="toc-text">3.2.2 app.json文件——「总控台」</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-3-project-cofig-json%E6%96%87%E4%BB%B6%E2%80%94%E2%80%94%E5%BC%80%E5%8F%91%E8%80%85%E5%B7%A5%E5%85%B7%E7%9A%84%E5%81%8F%E5%A5%BD%E8%AE%BE%E7%BD%AE"><span class="toc-text">3.2.3 project.cofig.json文件——开发者工具的偏好设置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-4-sitemap-json%E6%96%87%E4%BB%B6%E2%80%94%E2%80%94%E8%AE%A9%E4%B8%8D%E8%AE%A9%E5%BE%AE%E4%BF%A1%E7%B4%A2%E5%BC%95%E6%90%9C%E7%B4%A2%EF%BC%9F"><span class="toc-text">3.2.4 sitemap.json文件——让不让微信索引搜索？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-5-%E9%A1%B5%E9%9D%A2%E7%9A%84json%E6%96%87%E4%BB%B6%E5%B0%8F%E8%8C%83%E5%9B%B4%E2%80%9C%E6%B6%82%E8%89%B2%E7%AC%94%E2%80%9D"><span class="toc-text">3.2.5 页面的json文件小范围“涂色笔”</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-6-%E6%96%B0%E5%BB%BA%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%A1%B5%E9%9D%A2"><span class="toc-text">3.2.6 新建小程序页面</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-7-%E5%B0%8F%E7%BB%93"><span class="toc-text">3.2.7 小结</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-WXML%E6%A8%A1%E7%89%88%E5%92%8CWXSS%E6%A0%B7%E5%BC%8F"><span class="toc-text">3.3 WXML模版和WXSS样式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-1-WXML-%E5%9F%BA%E7%A1%80%E8%AE%A4%E7%9F%A5"><span class="toc-text">3.3.1 WXML 基础认知</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-2-WXSS-%E4%B8%8E%E4%BC%A0%E7%BB%9F-CSS-%E7%9A%84%E5%B7%AE%E5%BC%82"><span class="toc-text">3.3.2 WXSS 与传统 CSS 的差异</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%9CHello-WXML-WXSS%E2%80%9D-%E8%BF%B7%E4%BD%A0%E7%A4%BA%E4%BE%8B"><span class="toc-text">“Hello WXML+WXSS” 迷你示例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-3-%E5%B0%8F%E7%BB%93"><span class="toc-text">3.3.3 小结</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-JS%E9%80%BB%E8%BE%91%E4%BA%A4%E4%BA%92"><span class="toc-text">3.4 JS逻辑交互</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-1-%E5%B8%B8%E8%A7%81%E4%BA%A4%E4%BA%92%E6%B5%81%E7%A8%8B%E7%A4%BA%E4%BE%8B"><span class="toc-text">3.4.1 常见交互流程示例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-2-%E5%BC%80%E5%8F%91%E8%A6%81%E7%82%B9%E9%80%9F%E6%9F%A5"><span class="toc-text">3.4.2 开发要点速查</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%AE%BF%E4%B8%BB%E7%8E%AF%E5%A2%83"><span class="toc-text">四、小程序的宿主环境</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E5%AE%BF%E4%B8%BB%E7%8E%AF%E5%A2%83%E7%AE%80%E4%BB%8B"><span class="toc-text">4.1 宿主环境简介</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E5%AE%BF%E4%B8%BB%E7%8E%AF%E5%A2%83%E7%9A%84%E5%9B%9B%E5%A4%A7%E6%9E%84%E6%88%90"><span class="toc-text">4.1.1 宿主环境的四大构成</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-2-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E7%90%86%E8%A7%A3%E5%AE%BF%E4%B8%BB%E7%8E%AF%E5%A2%83%EF%BC%9F"><span class="toc-text">4.1.2 为什么要理解宿主环境？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-3-%E4%B8%80%E5%8F%A3%E6%B0%94%E6%80%BB%E7%BB%93"><span class="toc-text">4.1.3 一口气总结</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%9E%8B"><span class="toc-text">4.2 通信模型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-1-%E9%80%9A%E4%BF%A1%E4%B8%BB%E4%BD%93"><span class="toc-text">4.2.1 通信主体</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-2-%E4%B8%A4%E5%A4%A7%E9%80%9A%E4%BF%A1%E8%B7%AF%E5%BE%84"><span class="toc-text">4.2.2 两大通信路径</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-3-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98-%E8%A7%A3%E6%B3%95"><span class="toc-text">4.2.3 常见问题 &amp; 解法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-4-%E5%B0%8F%E7%BB%93"><span class="toc-text">4.2.4 小结</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6"><span class="toc-text">4.3 运行机制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-1-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%90%AF%E5%8A%A8%EF%BC%88App-%E7%BA%A7%E5%88%AB%EF%BC%89"><span class="toc-text">4.3.1 小程序启动（App 级别）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-2-%E9%A1%B5%E9%9D%A2%E6%B8%B2%E6%9F%93%EF%BC%88Page-%E7%BA%A7%E5%88%AB%EF%BC%89"><span class="toc-text">4.3.2 页面渲染（Page 级别）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-3-%E9%A1%B5%E9%9D%A2%E6%A0%88%EF%BC%88Page-Stack%EF%BC%89%E4%B8%8E%E8%B7%AF%E7%94%B1"><span class="toc-text">4.3.3 页面栈（Page Stack）与路由</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-4-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E9%80%9F%E6%9F%A5%E8%A1%A8"><span class="toc-text">4.3.4 常见问题速查表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-5-%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE"><span class="toc-text">4.3.5 思维导图</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-%E7%BB%84%E4%BB%B6"><span class="toc-text">4.4 组件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-4-1-%E8%A7%86%E5%9B%BE%E5%AE%B9%E5%99%A8%E7%B1%BB%E7%BB%84%E4%BB%B6"><span class="toc-text">4.4.1 视图容器类组件</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-view-%E7%A4%BA%E4%BE%8B%EF%BC%9AFlex-%E6%A8%AA%E5%90%91%E5%B8%83%E5%B1%80"><span class="toc-text">1) view 示例：Flex 横向布局</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-scroll-view-%E7%A4%BA%E4%BE%8B%EF%BC%9A%E7%BA%B5%E5%90%91%E6%BB%9A%E5%8A%A8%E5%88%97%E8%A1%A8"><span class="toc-text">2) scroll-view 示例：纵向滚动列表</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-swiper-swiper-item-%E7%A4%BA%E4%BE%8B%EF%BC%9A%E5%9F%BA%E7%A1%80%E8%BD%AE%E6%92%AD"><span class="toc-text">3) swiper &#x2F; swiper-item 示例：基础轮播</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-4-2-%E5%9F%BA%E7%A1%80%E5%86%85%E5%AE%B9%E7%B1%BB%E7%BB%84%E4%BB%B6"><span class="toc-text">4.4.2 基础内容类组件</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-text-%E7%BB%84%E4%BB%B6"><span class="toc-text">1) text 组件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-rich-text-%E7%BB%84%E4%BB%B6"><span class="toc-text">2) rich-text 组件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-3-%E5%85%B6%E5%AE%83%E5%B8%B8%E7%94%A8%E7%BB%84%E4%BB%B6%E6%A6%82%E8%A7%88"><span class="toc-text">4 .4 .3  其它常用组件概览</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-5-button-%E7%BB%84%E4%BB%B6"><span class="toc-text">4 .4 .5  button 组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-7-image-%E7%BB%84%E4%BB%B6"><span class="toc-text">4 .4 .7  image 组件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#mode-%E5%B1%9E%E6%80%A7%E9%80%9F%E6%9F%A5"><span class="toc-text">mode 属性速查</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-8-%E5%B0%8F%E7%BB%93"><span class="toc-text">4 .4 .8  小结</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-API"><span class="toc-text">4.5 API</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-4-1-API-%E6%A6%82%E8%BF%B0"><span class="toc-text">4.4.1 API 概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-4-2-API-%E7%9A%84%E4%B8%89%E5%A4%A7%E5%88%86%E7%B1%BB"><span class="toc-text">4.4.2 API 的三大分类</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC%E5%9E%8B"><span class="toc-text">1. 事件监听型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E5%90%8C%E6%AD%A5%E5%9E%8B"><span class="toc-text">2. 同步型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E5%BC%82%E6%AD%A5%E5%9E%8B"><span class="toc-text">3. 异步型</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-4-3-%E5%B0%8F%E7%BB%93"><span class="toc-text">4.4.3 小结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E5%8D%8F%E5%90%8C%E5%B7%A5%E4%BD%9C%E5%92%8C%E5%8F%91%E5%B8%83"><span class="toc-text">五、协同工作和发布</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E5%8D%8F%E5%90%8C%E5%B7%A5%E4%BD%9C"><span class="toc-text">5.1 协同工作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%88%90%E5%91%98%E7%AE%A1%E7%90%86"><span class="toc-text">5.2小程序成员管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E7%89%88%E6%9C%AC"><span class="toc-text">5.3 小程序的版本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-%E5%8F%91%E5%B8%83%E4%B8%8A%E7%BA%BF"><span class="toc-text">5.4 发布上线</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-%E8%BF%90%E8%90%A5%E6%95%B0%E6%8D%AE"><span class="toc-text">5.5 运营数据</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E6%80%BB%E7%BB%93"><span class="toc-text">六、总结</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/03/20/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/" title="微信小程序开发-起步"><img src="/./img/KaoYan/English/Crazy.JPG" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="微信小程序开发-起步"/></a><div class="content"><a class="title" href="/2025/03/20/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/" title="微信小程序开发-起步">微信小程序开发-起步</a><time datetime="2025-03-20T14:00:00.000Z" title="发表于 2025-03-20 22:00:00">2025-03-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/11/13/%E4%BA%BA%E7%B1%BB%E7%A4%BE%E4%BC%9A%E5%8F%8A%E5%85%B6%E5%8F%91%E5%B1%95%E8%A7%84%E5%BE%8B/" title="无题"><img src="/./img/four_seasons.JPG" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2024/11/13/%E4%BA%BA%E7%B1%BB%E7%A4%BE%E4%BC%9A%E5%8F%8A%E5%85%B6%E5%8F%91%E5%B1%95%E8%A7%84%E5%BE%8B/" title="无题">无题</a><time datetime="2024-11-13T04:30:24.098Z" title="发表于 2024-11-13 12:30:24">2024-11-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/10/20/%E8%8B%B1%E8%AF%AD%E7%9C%9F%E9%A2%98%E5%A4%8D%E7%9B%98%C2%B72014%E5%B9%B4%E8%8B%B1%E8%AF%AD%E4%B8%80/" title="英语真题复盘·2014年英语一"><img src="/./img/KaoYan/English/Crazy.JPG" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="英语真题复盘·2014年英语一"/></a><div class="content"><a class="title" href="/2024/10/20/%E8%8B%B1%E8%AF%AD%E7%9C%9F%E9%A2%98%E5%A4%8D%E7%9B%98%C2%B72014%E5%B9%B4%E8%8B%B1%E8%AF%AD%E4%B8%80/" title="英语真题复盘·2014年英语一">英语真题复盘·2014年英语一</a><time datetime="2024-10-20T14:00:00.000Z" title="发表于 2024-10-20 22:00:00">2024-10-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/10/15/%E8%8B%B1%E8%AF%AD%E7%9C%9F%E9%A2%98%E5%A4%8D%E7%9B%98%C2%B72013%E5%B9%B4%E8%8B%B1%E8%AF%AD%E4%B8%80/" title="英语真题复盘·2013年英语一"><img src="/./img/KaoYan/English/Crazy.JPG" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="英语真题复盘·2013年英语一"/></a><div class="content"><a class="title" href="/2024/10/15/%E8%8B%B1%E8%AF%AD%E7%9C%9F%E9%A2%98%E5%A4%8D%E7%9B%98%C2%B72013%E5%B9%B4%E8%8B%B1%E8%AF%AD%E4%B8%80/" title="英语真题复盘·2013年英语一">英语真题复盘·2013年英语一</a><time datetime="2024-10-15T14:00:00.000Z" title="发表于 2024-10-15 22:00:00">2024-10-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/10/12/%E5%BC%A0%E5%AE%871000%E9%A2%98%E5%BC%BA%E5%8C%96%E7%AF%87%E6%80%BB%E7%BB%93%C2%B7%E7%AC%AC%E5%8D%81%E5%85%AB%E7%AB%A0/" title="张宇1000题强化篇总结·第十八章"><img src="/./img/KaoYan/Math/1000ShangHao.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="张宇1000题强化篇总结·第十八章"/></a><div class="content"><a class="title" href="/2024/10/12/%E5%BC%A0%E5%AE%871000%E9%A2%98%E5%BC%BA%E5%8C%96%E7%AF%87%E6%80%BB%E7%BB%93%C2%B7%E7%AC%AC%E5%8D%81%E5%85%AB%E7%AB%A0/" title="张宇1000题强化篇总结·第十八章">张宇1000题强化篇总结·第十八章</a><time datetime="2024-10-12T14:00:00.000Z" title="发表于 2024-10-12 22:00:00">2024-10-12</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/../img/KaoYan/English/Shameless.JPG')"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2025 By 莫名小痒</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">这里已经是底部啦(´･Д･)」</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (true){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>(() => {
  const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaid.length === 0) return
  const runMermaid = () => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    Array.from($mermaid).forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
      const mermaidID = 'mermaid-' + index
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)

      const renderV10 = () => {
        renderFn.then(({svg}) => {
          mermaidSrc.insertAdjacentHTML('afterend', svg)
        })
      }

      const renderV9 = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      typeof renderFn === 'string' ? renderV9(renderFn) : renderV10()
    })
  }

  const loadMermaid = () => {
    window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
  }

  btf.addModeChange('mermaid', runMermaid)

  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><script id="canvas_nest" defer="defer" color="0,222,255" opacity="0.4" zIndex="-1" count="300" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>