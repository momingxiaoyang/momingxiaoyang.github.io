<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>微信学习监督机器人介绍</title>
      <link href="/2024/04/15/2024-4-15-%E5%BE%AE%E4%BF%A1%E5%AD%A6%E4%B9%A0%E7%9B%91%E7%9D%A3%E6%9C%BA%E5%99%A8%E4%BA%BA%E4%BB%8B%E7%BB%8D/"/>
      <url>/2024/04/15/2024-4-15-%E5%BE%AE%E4%BF%A1%E5%AD%A6%E4%B9%A0%E7%9B%91%E7%9D%A3%E6%9C%BA%E5%99%A8%E4%BA%BA%E4%BB%8B%E7%BB%8D/</url>
      
        <content type="html"><![CDATA[<h1>学习监督机器人的介绍</h1><h2 id="一、设计初衷">一、设计初衷</h2><p>​在微信群聊中通过和群聊里面的群友进行互动，扮演一个管理群友进行学习的角色。</p><div class="note info flat"><p>主要目的：在有微信机器人的介入进行宏观调控的时候，可以充分带动群友的学习热情，在使得群友们不会由于长时间枯燥无味的生活而在学习上产生懈怠。</p></div><h2 id="二、设计理念">二、设计理念</h2><p>​为了达到目的，使得群友不会对微信机器人的管理产生厌倦，所以在设计的时候就不能按照传统的方法进行设计，需要采用一些新的理念进行设计。</p><div class="note info flat"><p>灵感来源：来源于网游的设计理念。在很多网游中，为了保证一场游戏比赛的正常进行，系统会根据这场游戏中不同玩家的表现情况，产生差异性处理。每一场比赛的差异性处理，将会对玩家后续的游戏体验产生一定的影响。</p></div><p>如果愿意被机器人进行监管，在创建新用户后，那么机器人就会将你视为一位玩家。</p><details class="toggle" ><summary class="toggle-button" style="">机器人识别玩家的底层逻辑</summary><div class="toggle-content"><p>在设定中，目前<mark class="hl-label red">暂定</mark> 如下：</p><p>​机器人在通过<mark class="hl-label blue">配置文件</mark> ，读取需要进行管理的微信群聊，然后只对<mark class="hl-label blue">配置文件</mark> 中设定好的微信群聊进行玩家识别和数据处理。</p><p>​因此，微信机器人可以通过监控需要监管的群聊的信息，获取发送信息的微信用户的群昵称，来判断和识别这个玩家。</p><div class="note warning flat"><p>玩家请勿随意修改群昵称，因为群昵称在修改后会导致机器人无法识别玩家的身份。这时候机器人会无法对玩家的报告和命令进行处理</p></div><div class="note warning flat"><p>玩家的群昵称请勿与其他玩家的群昵称一致。如果两位玩家群昵称一致，机器人将无法分辨出两个玩家</p></div><p><span class="hide-inline"><button type="button" class="hide-button" style=""> 配置文件解释<br></button><span class="hide-content">配置文件：在设计程序的时候，机器人对于玩家管理和交互，所有涉及数据的内容都可以使用配置文件进行设定，保证了数据设定的灵活性</span></span></p></div></details><div class="note warning flat"><p>注意：后续对于可以通过配置文件进行自定义的数据，都统一使用蓝色框将其表示，如：如果玩家当天的报告次数如果低于<mark class="hl-label blue">一定</mark> 次数，系统将会对玩家的信誉积分进行<mark class="hl-label blue">一定</mark> 程度的惩罚</p></div><div class="note primary flat"><p>为了评估玩家的活跃程度、学习进度，并且将这两个内容联系起来，所以机器人对玩家设定了三个基础数据。</p><ul><li>信誉积分：评估玩家的活跃程度的基本判断数据。</li><li>学者积分：评估玩家的学习程度的基本判断数据。</li><li>信誉星级：构建信誉积分和学者积分之间的桥梁，使得两个基本数据之间产生一定的关系。</li></ul></div><h2 id="三、玩家数据说明">三、玩家数据说明</h2><h3 id="1、信誉积分">1、信誉积分</h3><div class="note info flat"><p>信誉积分：评估玩家的活跃程度的基本判断数据。</p></div><div class="tabs" id="数据类型设定"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#数据类型设定-1">数据类型设定</button></li><li class="tab"><button type="button" data-href="#数据类型设定-2">惩罚机制</button></li><li class="tab"><button type="button" data-href="#数据类型设定-3">奖励机制</button></li><li class="tab"><button type="button" data-href="#数据类型设定-4">额外奖励机制</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="数据类型设定-1"><p><strong>初始信誉积分设定：100<br>信誉积分最高值：100<br>信誉积分最低值：0</strong></p><p>数据来源：<mark class="hl-label blue">配置文件</mark> <code>config_points[&quot;reputation_points&quot;]</code></p><div class="note warning flat"><p>注意：以上的数据都可以使用<mark class="hl-label blue">配置文件</mark> 进行修改。</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-2"><p><strong>在当天的数据结算之后，如果玩家当天的报告次数如果低于<mark class="hl-label blue">一定(5次)</mark> 次数，系统将会对玩家的信誉积分进行<mark class="hl-label blue">一定(-1)</mark> 程度的惩罚。</strong></p><p><strong>如果玩家没有完成当天的必报告内容，系统也会对玩家的信誉积分进行<mark class="hl-label blue">一定(-3)</mark> 的惩罚</strong>。</p><p><strong>同时，系统还设置了一个信誉积分惩罚<mark class="hl-label blue">上限(-5)</mark> ，当惩罚玩家的信誉积分高于这个惩罚上限的时候，系统将会只扣除对应的惩罚<mark class="hl-label blue">上限(-5)</mark> 分数</strong>。</p><p>数据来源：<mark class="hl-label blue">配置文件</mark> <code>config_points[&quot;reputation_points&quot;]</code></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-3"><p><strong>在当天的数据结算之后，如果玩家当天的报告次数如果达到<mark class="hl-label blue">一定(5次)</mark> 次数，系统将会对玩家的信誉积分进行<mark class="hl-label blue">一定(+1)</mark> 的补偿。如果玩家的信誉积分达到满分，系统将会将补偿改为<mark class="hl-label blue">一定(+10)</mark> 数量的信誉星级经验奖励。</strong></p><p>数据来源：<mark class="hl-label blue">配置文件</mark> <code>config_points[&quot;reputation_points&quot;]</code></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-4"><p><strong>在当天的数据结算之后，如果玩家当天的报告次数如果在达到<mark class="hl-label blue">一定(5次)</mark> 次数的基础上，到达一个<mark class="hl-label blue">更高(8次)</mark> 的次数，那么系统就会将其识别为高活跃，就会额外补偿<mark class="hl-label blue">一定(+1)</mark> 数量的信誉积分奖励。</strong></p><p>数据来源：<mark class="hl-label blue">配置文件</mark> <code>config_points[&quot;reputation_points&quot;]</code></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="2、学者积分">2、学者积分</h3><div class="note info flat"><p>学者积分：评估玩家的学习程度的基本判断数据。</p></div><div class="tabs" id="数据类型设定"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#数据类型设定-1">数据类型设定</button></li><li class="tab"><button type="button" data-href="#数据类型设定-2">惩罚机制</button></li><li class="tab"><button type="button" data-href="#数据类型设定-3">奖励机制</button></li><li class="tab"><button type="button" data-href="#数据类型设定-4">额外奖励机制</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="数据类型设定-1"><p><strong>初始学者积分设定：0<br>学者积分最高值：∞<br>学者积分最低值：-∞</strong></p><div class="note warning flat"><p>注意：以上的数据都可以使用<mark class="hl-label blue">配置文件</mark> 进行修改。</p></div><p>数据来源：<mark class="hl-label blue">配置文件</mark> <code>config_points[&quot;scholar_points&quot;]</code></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-2"><p><strong>如果玩家在维持<mark class="hl-label blue">一定</mark> 时长的<mark class="hl-label green">娱乐状态</mark> 后，系统在玩家的娱乐状态结束之后会根据玩家的时长，扣除<mark class="hl-label blue">一定</mark> 数量的学者积分。</strong></p><p>具体如何扣除，请查看游戏状态或者刷视频状态部分</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-3"><p><strong>如果玩家在维持<mark class="hl-label blue">一定</mark> 时长的<mark class="hl-label green">学习状态</mark> 后，系统在玩家的学习状态结束之后会根据玩家的时长，奖励<mark class="hl-label blue">一定</mark> 数量的学者积分。</strong></p><p>具体如何奖励，请查看学习状态部分</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-4"><p><strong>为了将信誉积分和学者积分联系起立，信誉星级的作用，就是玩家在获得学者积分奖励的时候，系统会将学者积分奖励按照<mark class="hl-label blue">一定</mark> 的倍数翻倍奖励给玩家。</strong></p><p><strong>当玩家的信誉星级越高，学者积分获取的倍率越高</strong></p><table><thead><tr><th>等级</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th></tr></thead><tbody><tr><td>倍速</td><td>1</td><td>1.1</td><td>1.3</td><td>1.6</td><td>2.0</td></tr></tbody></table><p>数据来源：<mark class="hl-label blue">配置文件</mark> <code>config_points[&quot;reputation_stars&quot;][&quot;bonus_rates&quot;]</code></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="3、信誉星级和信誉星分">3、信誉星级和信誉星分</h3><div class="note info flat"><p>信誉星级：构建信誉积分和学者积分之间的桥梁，使得两个基本数据之间产生一定的关系。</p></div><div class="tabs" id="数据类型设定"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#数据类型设定-1">数据类型设定</button></li><li class="tab"><button type="button" data-href="#数据类型设定-2">惩罚机制</button></li><li class="tab"><button type="button" data-href="#数据类型设定-3">奖励机制</button></li><li class="tab"><button type="button" data-href="#数据类型设定-4">额外奖励机制</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="数据类型设定-1"><p><strong>初始信誉星级设定：2<br>信誉星级最高值：5<br>信誉星级最低值：1</strong></p><div class="note primary flat"><p>为了更好的衡量和量化信誉星级，特此设定了一个数据：信誉星分。</p><p>信誉星分：衡量和量化信誉星级的玩家数据。可以理解为，升级信誉星级所需要的经验值</p><p><strong>初始信誉星分设定：100<br>信誉星分最高值：∞<br>信誉星分最低值：-∞</strong></p><p>信誉星分和信誉星等级之间的<mark class="hl-label blue">换算关系</mark> ：</p><p><strong>信誉星级一级：0～99 信誉星分<br>信誉星级二级：100～299 信誉星分<br>信誉星级三级：300～599 信誉星分<br>信誉星级四级：600～999 信誉星分<br>信誉星级五级：999～∞ 信誉星分</strong></p><p>数据来源：<mark class="hl-label blue">配置文件</mark> <code>config_points[&quot;reputation_stars&quot;][&quot;thresholds&quot;]</code></p></div><div class="note warning flat"><p>注意：以上的数据都可以使用<mark class="hl-label blue">配置文件</mark> 进行修改。</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-2"><p><strong>为了保持活跃度，当玩家的信誉积分被扣除的惩罚，系统会根据玩家当前的信誉星级进行<mark class="hl-label blue">不同程度</mark> 的信誉星分惩罚。</strong></p><p><strong>信誉星级一级：-10 信誉星分<br>信誉星级二级：-50 信誉星分<br>信誉星级三级：-100 信誉星分<br>信誉星级四级：-200 信誉星分<br>信誉星级五级：-500 信誉星分</strong></p><p>数据来源：<mark class="hl-label blue">配置文件</mark> <code>config_points[&quot;reputation_stars&quot;][&quot;penalty_missing_report&quot;]</code></p><div class="note info flat"><p>设置上面扣除信誉星分的目的，是根据一个等级之间的分数差进行设定的，目的是为了不让信誉星分较高的玩家在经历一次降级的时候，信誉星级也随之下降，这可能会降低玩家的游戏体验。</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-3"><p><strong>当玩家在完成要求的<mark class="hl-label blue">一定</mark> 次数的报告之后，系统将会给玩家奖励信誉积分，玩家如果信誉积分此时为满分，系统将会奖励<mark class="hl-label blue">一定(10)</mark> 的信誉星分，当玩家的信誉星分到<mark class="hl-label blue">一定</mark> 数量的时候，将会自动升级为更高的等级。</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-4"><p><strong>暂无设定</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="四、玩家状态说明">四、玩家状态说明</h2><h3 id="1、普通状态">1、普通状态</h3><div class="note info flat"><p>学者积分：评估玩家的学习程度的基本判断数据。</p></div><div class="tabs" id="数据类型设定"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#数据类型设定-1">定义</button></li><li class="tab"><button type="button" data-href="#数据类型设定-2">进入和退出</button></li><li class="tab"><button type="button" data-href="#数据类型设定-3">维持状态时间的奖惩制度</button></li><li class="tab"><button type="button" data-href="#数据类型设定-4">播报</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="数据类型设定-1"><div class="note info flat"><p>普通状态(ordinary)：玩家的初始状态。</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-2"><div class="note warning flat"><p>实际上，玩家的所有状态可以分为普通状态和非普通状态。</p></div><p>当玩家通过报告，退出非普通状态的之后，玩家的状态就会从非普通状态转化为普通状态</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-3"><p>系统不会根据玩家维持这个状态的时间，进行玩家数据的修改，即不会奖励和惩罚任何积分。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-4"><p>系统会根据玩家维持普通状态的时长，当玩家维持普通状态的时长达到<mark class="hl-label blue">一定</mark> 的时候，当玩家和系统交互的时候，系统会根据这个时长进行<mark class="hl-label blue">不同</mark> 的播报</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="2、非普通状态">2、非普通状态</h3><div class="note info flat"><p>目前在设定中，一共有下列的非普通状态</p><ul><li>睡眠状态(extraordinary_sleep)</li><li>上课状态(extraordinary_restriction_classing)</li><li>上班状态(extraordinary_restriction_working)</li><li>运动状态(extraordinary_sports)</li><li>学习状态(extraordinary_learning)</li><li>游戏状态(extraordinary_entertainment_game)</li><li>刷视频状态(extraordinary_entertainment_video)</li><li>停播状态(extraordinary_departure)</li></ul></div><h4 id="1-睡眠状态">(1)睡眠状态</h4><div class="tabs" id="数据类型设定"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#数据类型设定-1">定义</button></li><li class="tab"><button type="button" data-href="#数据类型设定-2">相关报告</button></li><li class="tab"><button type="button" data-href="#数据类型设定-3">维持状态时间的奖惩制度</button></li><li class="tab"><button type="button" data-href="#数据类型设定-4">播报</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="数据类型设定-1"><div class="note info flat"><p>睡眠状态(extraordinary_sleep)：当玩家通过给机器人报告<mark class="hl-label pink">进入睡眠状态的规定报告内容</mark> 时，机器人会将玩家的状态转化为睡眠状态。</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-2"><p><mark class="hl-label red">进入</mark> 睡眠状态的规定报告内容:“上床”, “睡觉”, “上床！”, “睡觉！”<br><mark class="hl-label red">退出</mark> 睡眠状态的规定报告内容:“起床”, “起床！”</p><div class="note warning flat"><p>注意：以上的数据都可以使用<mark class="hl-label blue">配置文件</mark> 进行修改。</p></div><p>数据来源：<mark class="hl-label blue">配置文件</mark><br><code>config_report[&quot;extraordinary_sleep_start&quot;]</code><br><code>config_report[&quot;extraordinary_sleep_end&quot;]</code></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-3"><p>系统不会根据玩家维持这个状态的时间，进行玩家数据的修改，即不会奖励和惩罚任何积分。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-4"><p>系统会根据玩家维持睡眠状态的时长，推测出玩家的睡眠质量，然后进行<mark class="hl-label blue">不同</mark> 的播报</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="2-上课状态">(2)上课状态</h4><div class="tabs" id="数据类型设定"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#数据类型设定-1">定义</button></li><li class="tab"><button type="button" data-href="#数据类型设定-2">相关报告</button></li><li class="tab"><button type="button" data-href="#数据类型设定-3">维持状态时间的奖惩制度</button></li><li class="tab"><button type="button" data-href="#数据类型设定-4">播报</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="数据类型设定-1"><div class="note info flat"><p>上课状态(extraordinary_restriction_classing)：当玩家通过给机器人报告<mark class="hl-label pink">进入上课状态的规定报告内容</mark> 时，机器人会将玩家的状态转化为上课状态。</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-2"><p><mark class="hl-label red">进入</mark> 上课状态的规定报告内容:“上课”, “上课了”<br><mark class="hl-label red">退出</mark> 上课状态的规定报告内容:“下课”, “下课啦”</p><div class="note warning flat"><p>注意：以上的数据都可以使用<mark class="hl-label blue">配置文件</mark> 进行修改。</p></div><p>数据来源：<mark class="hl-label blue">配置文件</mark><br><code>config_report[&quot;extraordinary_restriction_classing_start&quot;]</code><br><code>config_report[&quot;extraordinary_restriction_classing_end&quot;]</code></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-3"><p>系统不会根据玩家维持这个状态的时间，进行玩家数据的修改，即不会奖励和惩罚任何积分。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-4"><p>系统会根据玩家维持上课状态的时长，推测出玩家的上课情况，然后进行<mark class="hl-label blue">不同</mark> 的播报</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="3-上班状态">(3)上班状态</h4><div class="tabs" id="数据类型设定"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#数据类型设定-1">定义</button></li><li class="tab"><button type="button" data-href="#数据类型设定-2">相关报告</button></li><li class="tab"><button type="button" data-href="#数据类型设定-3">维持状态时间的奖惩制度</button></li><li class="tab"><button type="button" data-href="#数据类型设定-4">播报</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="数据类型设定-1"><div class="note info flat"><p>上班状态(extraordinary_restriction_working)：当玩家通过给机器人报告<mark class="hl-label pink">进入上班状态的规定报告内容</mark> 时，机器人会将玩家的状态转化为上班状态。</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-2"><p><mark class="hl-label red">进入</mark> 上班状态的规定报告内容:“上班上班”, “上班”<br><mark class="hl-label red">退出</mark> 上班状态的规定报告内容:“下班了”, “下班！”</p><div class="note warning flat"><p>注意：以上的数据都可以使用<mark class="hl-label blue">配置文件</mark> 进行修改。</p></div><p>数据来源：<mark class="hl-label blue">配置文件</mark><br><code>config_report[&quot;extraordinary_restriction_working_start&quot;]</code><br><code>config_report[&quot;extraordinary_restriction_working_end&quot;]</code></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-3"><p>系统不会根据玩家维持这个状态的时间，进行玩家数据的修改，即不会奖励和惩罚任何积分。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-4"><p>系统会根据玩家维持上班状态的时长，推测出玩家的上班情况，然后进行<mark class="hl-label blue">不同</mark> 的播报</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="4-运动状态">(4)运动状态</h4><div class="tabs" id="数据类型设定"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#数据类型设定-1">定义</button></li><li class="tab"><button type="button" data-href="#数据类型设定-2">相关报告</button></li><li class="tab"><button type="button" data-href="#数据类型设定-3">维持状态时间的奖惩制度</button></li><li class="tab"><button type="button" data-href="#数据类型设定-4">播报</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="数据类型设定-1"><div class="note info flat"><p>运动状态(extraordinary_sports)：当玩家通过给机器人报告<mark class="hl-label pink">进入运动状态的规定报告内容</mark> 时，机器人会将玩家的状态转化为运动状态。</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-2"><p><mark class="hl-label red">进入</mark> 上课状态的规定报告内容:“运动一下”, “去锻炼一下”, “运动”, “锻炼”, “去运动咯”, “去锻炼咯”<br><mark class="hl-label red">退出</mark> 上课状态的规定报告内容:“运动结束”,“锻炼结束”, “练完了”</p><div class="note warning flat"><p>注意：以上的数据都可以使用<mark class="hl-label blue">配置文件</mark> 进行修改。</p></div><p>数据来源：<mark class="hl-label blue">配置文件</mark><br><code>config_report[&quot;extraordinary_sports_start&quot;]</code><br><code>config_report[&quot;extraordinary_sports_end&quot;]</code></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-3"><p>系统不会根据玩家维持这个状态的时间，进行玩家数据的修改，即不会奖励和惩罚任何积分。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-4"><p>系统会根据玩家维持运动状态的时长，推测出玩家的运动情况，然后进行<mark class="hl-label blue">不同</mark> 的播报</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="5-学习状态">(5)学习状态</h4><div class="tabs" id="数据类型设定"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#数据类型设定-1">定义</button></li><li class="tab"><button type="button" data-href="#数据类型设定-2">相关报告</button></li><li class="tab"><button type="button" data-href="#数据类型设定-3">维持状态时间的奖惩制度</button></li><li class="tab"><button type="button" data-href="#数据类型设定-4">播报</button></li><li class="tab"><button type="button" data-href="#数据类型设定-5">特殊播报</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="数据类型设定-1"><div class="note info flat"><p>学习状态(extraordinary_learning)：当玩家通过给机器人报告<mark class="hl-label pink">进入学习状态的规定报告内容</mark> 时，机器人会将玩家的状态转化为学习状态。</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-2"><p><mark class="hl-label red">进入</mark> 学习状态的规定报告内容:“开始学习”, “开始学习！”<br><mark class="hl-label red">退出</mark> 学习状态的规定报告内容:“结束学习”, “结束学习！”</p><div class="note warning flat"><p>注意：以上的数据都可以使用<mark class="hl-label blue">配置文件</mark> 进行修改。</p></div><p>数据来源：<mark class="hl-label blue">配置文件</mark><br><code>config_report[&quot;extraordinary_learning_start&quot;]</code><br><code>config_report[&quot;extraordinary_learning_end&quot;]</code></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-3"><p>当玩家维持这个状态<mark class="hl-label blue">一定</mark> 时间之后，系统会奖励<mark class="hl-label blue">一定</mark> 数量的学者积分<br>维持时间计数单位：小时<br>维持时间计数方式：向下计数</p><table><thead><tr><th>时长</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th><th>10</th><th>11</th><th>12</th><th>13</th><th>13+</th></tr></thead><tbody><tr><td>学者积分</td><td>10</td><td>10</td><td>10</td><td>10</td><td>20</td><td>20</td><td>20</td><td>30</td><td>30</td><td>40</td><td>50</td><td>60</td><td>100</td></tr></tbody></table><p>数据来源：<br><mark class="hl-label blue">配置文件</mark> <code>config_point[&quot;scholar_points&quot;][&quot;extraordinary_learning&quot;]</code></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-4"><p>系统会根据玩家维持学习状态的时长，推测出玩家的学习情况，然后进行<mark class="hl-label blue">不同</mark> 的播报</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-5"><p>系统会在玩家开始学习状态后进行计时，每隔一段时间（<mark class="hl-label blue">小时为单位</mark> ）就会提醒玩家一次，使得玩家可以注意到自己的学习时间。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="6-游戏状态">(6)游戏状态</h4><div class="tabs" id="数据类型设定"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#数据类型设定-1">定义</button></li><li class="tab"><button type="button" data-href="#数据类型设定-2">相关报告</button></li><li class="tab"><button type="button" data-href="#数据类型设定-3">维持状态时间的奖惩制度</button></li><li class="tab"><button type="button" data-href="#数据类型设定-4">播报</button></li><li class="tab"><button type="button" data-href="#数据类型设定-5">特殊播报</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="数据类型设定-1"><div class="note info flat"><p>游戏状态(extraordinary_entertainment_game)：当玩家通过给机器人报告<mark class="hl-label pink">进入游戏状态的规定报告内容</mark> 时，机器人会将玩家的状态转化为游戏状态。</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-2"><p><mark class="hl-label red">进入</mark> 游戏状态的规定报告内容:“game一下”, “快乐一下”, “启动”, “启动！”, “游戏”<br><mark class="hl-label red">退出</mark> 游戏状态的规定报告内容:“不玩了”, “结束启动”</p><div class="note warning flat"><p>注意：以上的数据都可以使用<mark class="hl-label blue">配置文件</mark> 进行修改。</p></div><p>数据来源：<mark class="hl-label blue">配置文件</mark><br><code>config_report[&quot;extraordinary_entertainment_game_start&quot;]</code><br><code>config_report[&quot;extraordinary_entertainment_game_end&quot;]</code></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-3"><p>当玩家维持这个状态<mark class="hl-label blue">一定</mark> 时间之后，系统会扣除<mark class="hl-label blue">一定</mark> 数量的学者积分<br>维持时间计数单位：小时<br>维持时间计数方式：向上计数</p><table><thead><tr><th>时长</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th><th>10</th><th>11</th><th>12</th><th>13</th><th>13+</th></tr></thead><tbody><tr><td>学者积分</td><td>-10</td><td>-10</td><td>-10</td><td>-10</td><td>-20</td><td>-20</td><td>-20</td><td>-40</td><td>-40</td><td>-40</td><td>-40</td><td>-40</td><td>-100</td></tr></tbody></table><p>数据来源：<br><mark class="hl-label blue">配置文件</mark> <code>config_point[&quot;scholar_points&quot;][&quot;extraordinary_entertainment_game&quot;]</code></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-4"><p>系统会根据玩家维持游戏状态的时长，推测出玩家的游戏情况，然后进行<mark class="hl-label blue">不同</mark> 的播报</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-5"><p>系统会在玩家开始游戏状态后进行计时，每隔一段时间（<mark class="hl-label blue">小时为单位</mark> ）就会提醒玩家一次，使得玩家可以注意到自己的游戏时间。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="7-刷视频状态">(7)刷视频状态</h4><div class="tabs" id="数据类型设定"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#数据类型设定-1">定义</button></li><li class="tab"><button type="button" data-href="#数据类型设定-2">相关报告</button></li><li class="tab"><button type="button" data-href="#数据类型设定-3">维持状态时间的奖惩制度</button></li><li class="tab"><button type="button" data-href="#数据类型设定-4">播报</button></li><li class="tab"><button type="button" data-href="#数据类型设定-5">特殊播报</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="数据类型设定-1"><div class="note info flat"><p>刷视频状态(extraordinary_entertainment_game)：当玩家通过给机器人报告<mark class="hl-label pink">进入刷视频状态的规定报告内容</mark> 时，机器人会将玩家的状态转化为刷视频状态。</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-2"><p><mark class="hl-label red">进入</mark> 刷视频状态的规定报告内容:“刷会视频”, “刷会抖音”, “刷会B站”<br><mark class="hl-label red">退出</mark> 刷视频状态的规定报告内容:“不刷了”, “不刷了！”</p><div class="note warning flat"><p>注意：以上的数据都可以使用<mark class="hl-label blue">配置文件</mark> 进行修改。</p></div><p>数据来源：<mark class="hl-label blue">配置文件</mark><br><code>config_report[&quot;extraordinary_entertainment_video_start&quot;]</code><br><code>config_report[&quot;extraordinary_entertainment_video_end&quot;]</code></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-3"><p>当玩家维持这个状态<mark class="hl-label blue">一定</mark> 时间之后，系统会扣除<mark class="hl-label blue">一定</mark> 数量的学者积分<br>维持时间计数单位：小时<br>维持时间计数方式：向上计数</p><table><thead><tr><th>时长</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th><th>10</th><th>11</th><th>12</th><th>13</th><th>13+</th></tr></thead><tbody><tr><td>学者积分</td><td>-10</td><td>-10</td><td>-10</td><td>-10</td><td>-20</td><td>-20</td><td>-20</td><td>-40</td><td>-40</td><td>-40</td><td>-40</td><td>-40</td><td>-100</td></tr></tbody></table><p>数据来源：<br><mark class="hl-label blue">配置文件</mark> <code>config_point[&quot;scholar_points&quot;][&quot;extraordinary_entertainment_video&quot;]</code></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-4"><p>系统会根据玩家维持刷视频状态的时长，推测出玩家的刷视频情况，然后进行<mark class="hl-label blue">不同</mark> 的播报</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-5"><p>系统会在玩家开始刷视频状态后进行计时，每隔一段时间（小时为单位）就会提醒玩家一次，使得玩家可以注意到自己的刷视频时间。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="8-停播状态">(8)停播状态</h4><div class="tabs" id="数据类型设定"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#数据类型设定-1">定义</button></li><li class="tab"><button type="button" data-href="#数据类型设定-2">相关报告</button></li><li class="tab"><button type="button" data-href="#数据类型设定-3">维持状态时间的奖惩制度</button></li><li class="tab"><button type="button" data-href="#数据类型设定-4">播报</button></li><li class="tab"><button type="button" data-href="#数据类型设定-5">特殊播报</button></li><li class="tab"><button type="button" data-href="#数据类型设定-6">特殊机制</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="数据类型设定-1"><div class="note info flat"><p>停播状态(extraordinary_departure)：当玩家通过给机器人报告<mark class="hl-label pink">进入停播状态的规定报告内容</mark> 时，机器人会将玩家的状态转化为停播状态。</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-2"><p><mark class="hl-label red">进入</mark> 停播状态的规定报告内容:“Travel”, “停播”<br><mark class="hl-label red">退出</mark> 停播状态的规定报告内容:“开播”, “我龙傲天又回来了！”</p><div class="note warning flat"><p>注意：以上的数据都可以使用<mark class="hl-label blue">配置文件</mark> 进行修改。</p></div><p>数据来源：<mark class="hl-label blue">配置文件</mark><br><code>config_report[&quot;extraordinary_departure_start&quot;]</code><br><code>config_report[&quot;extraordinary_departure_end&quot;]</code></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-3"><p>当玩家维持这个状态<mark class="hl-label blue">一定</mark> 时间之后，系统会扣除<mark class="hl-label blue">一定</mark> 数量的学者积分<br>维持时间计数单位：天<br>维持时间计数方式：向上计数<br>进入状态消耗：-100<br>每天状态消耗：-200</p><p>数据来源：<br><mark class="hl-label blue">配置文件</mark> <code>config_point[&quot;scholar_points&quot;][&quot;extraordinary_departure&quot;]</code></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-4"><p>系统会根据玩家维持停播状态的天数，推测出玩家的停播情况，然后进行<mark class="hl-label blue">不同</mark> 的播报</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-5"><p>系统会在玩家开始停播状态后进行计时，每隔一段时间（<mark class="hl-label blue">小时为单位</mark> ）就会提醒玩家一次，使得玩家可以注意到自己的停播时间。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="数据类型设定-6"><p>当玩家进入停播状态时，系统在结算当日的活跃度数据的时候，将不会扣除停播玩家的信誉积分和下降信誉等级。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="五、交互说明">五、交互说明</h2><h3 id="1、报告">1、报告</h3><div class="note info flat"><p>报告(report)：玩家通过发布报告，可以与机器人进行交流，使得机器人可以实时监督玩家的状态。简而言之，就是玩家可以通过报告来改变自己的状态。因此，目前来说，报告次数是机器人检测玩家活跃度的唯一凭据。</p></div><div class="note warning flat"><p>目前来说，报告次数是机器人检测玩家活跃度的唯一凭据。</p></div><h3 id="2、命令">2、命令</h3><div class="note info flat"><p>报告(command)：玩家通过发布命令，可以与机器人进行交流，查询自己的数据和信息，或者通过命令来启动机器人的其他功能。</p></div><ul><li>显示命令：“command”、“how”、“命令”</li><li>显示语言交流：“report”、“what report”、“语言交流”</li><li>修改名称：“改名”</li><li>显示信誉积分：“信誉积分”、“我的信誉积分”</li><li>显示学者积分：“学者积分”、“我的学者积分”</li><li>显示信誉星分：“信誉星分”、“我的信誉星分”</li><li>显示信誉等级：“信誉等级”、“我的信誉等级”</li><li>显示今日报告次数：“报告次数”、“我的报告次数”</li><li>显示今日必须事项：“必须事项”、“我的必须事项”</li><li>显示个人信息：“个人信息”、“我的信息”</li><li>显示当前状态：“我的状态”、“状态”</li><li>显示前一天的结算数据：“结算数据”、“前一天的结算数据”、“我的结算数据”</li></ul>]]></content>
      
      
      <categories>
          
          <category> WeChat </category>
          
          <category> Instruction </category>
          
      </categories>
      
      
        <tags>
            
            <tag> wechat </tag>
            
            <tag> WeChat </tag>
            
            <tag> webstocket </tag>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>搭建微信学习监督机器人(未完成)</title>
      <link href="/2024/04/04/%E6%90%AD%E5%BB%BA%E5%BE%AE%E4%BF%A1%E5%AD%A6%E4%B9%A0%E7%9B%91%E7%9D%A3%E6%9C%BA%E5%99%A8%E4%BA%BA/"/>
      <url>/2024/04/04/%E6%90%AD%E5%BB%BA%E5%BE%AE%E4%BF%A1%E5%AD%A6%E4%B9%A0%E7%9B%91%E7%9D%A3%E6%9C%BA%E5%99%A8%E4%BA%BA/</url>
      
        <content type="html"><![CDATA[<h1>微信学习监督机器人</h1><h2 id="一、-简要介绍">一、 简要介绍</h2><h2 id="二、所基于的环境和基础">二、所基于的环境和基础</h2><h2 id="三、需要设计的内容">三、需要设计的内容</h2><p>​在前面的资源搜集以及整理中中，已经完成了机器人和微信之间的接口工作，现在只需要设计和编写出一个对象的函数，可以输入两个参数（目前只有两个），一个是接收到的字符串语言信息，第二个接收到这段字符串语言信息的时间数据。我们需要做的就是将下面的要求完成，并且使用一个对象的函数来达到下面的目标</p><h2 id="四、大致设计框架">四、大致设计框架</h2><h3 id="1、状态设计板块">1、状态设计板块</h3><h3 id="2、积分设计板块">2、积分设计板块</h3><h2 id="五、大致设计思路">五、大致设计思路</h2><p>​目前计划设计出两种类来实现目的。</p><h3 id="1、玩家类设计思路">1、玩家类设计思路</h3><h4 id="（1）变量设计">（1）变量设计</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Player</span>:</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;../config/config_report.json&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">        phrases = json.load(file)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, <span class="built_in">id</span>, name</span>):</span><br><span class="line">        self.<span class="built_in">id</span> = <span class="built_in">id</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.status = <span class="string">&quot;extraordinary_sleep_end&quot;</span></span><br><span class="line">        self.reputation_points = <span class="number">100</span>  <span class="comment"># 信誉积分</span></span><br><span class="line">        self.scholar_points = <span class="number">0</span>  <span class="comment"># 学者积分</span></span><br><span class="line">        self.reputation_star = <span class="number">0</span>  <span class="comment"># 信誉星分</span></span><br><span class="line">        self.reputation_star_level = <span class="number">0</span> <span class="comment"># 信誉积分的星级</span></span><br><span class="line">        self.report_times = <span class="number">0</span>  <span class="comment"># 玩家报告次数的记录</span></span><br><span class="line">        self.is_report_must = []  <span class="comment"># 玩家是否完成必须报告次数的记录</span></span><br><span class="line">        self.status_start_time_str = <span class="string">&quot;&quot;</span>  <span class="comment"># 玩家的状态开始时间</span></span><br><span class="line">        <span class="comment"># 根据配置文件来确定玩家必须完成报告次数变量的定义</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> Player.points[<span class="string">&quot;reputation_points&quot;</span>][<span class="string">&quot;must_report_phrase&quot;</span>]:</span><br><span class="line">            self.is_report_must.append(<span class="number">0</span>)</span><br></pre></td></tr></table></figure><h4 id="2-信誉分处理函数">(2)信誉分处理函数</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 结算玩家的信誉积分</span></span><br><span class="line"><span class="comment"># 当时间为23:59的时候运行，此时会根据玩家的报告次数和是否完成必报告内容进行信誉积分和信誉星分的结算</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">reputation_points_settlement</span>(<span class="params">self</span>):</span><br><span class="line">    is_finish_must = <span class="literal">True</span></span><br><span class="line">    <span class="comment"># 首先查看玩家是否完成必完成项目</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> self.is_report_must:</span><br><span class="line">        <span class="keyword">if</span> i == <span class="number">0</span>:</span><br><span class="line">            is_finish_must = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 查看当天的报告次数是否达到规定的数量</span></span><br><span class="line">    penalty_report_point = self.report_times - Player.points[<span class="string">&quot;reputation_report&quot;</span>][<span class="string">&quot;report_threshold&quot;</span>]</span><br><span class="line">    <span class="keyword">if</span> penalty_report_point &gt; <span class="number">0</span> <span class="keyword">and</span> is_finish_must:</span><br><span class="line">        <span class="comment"># 达到报告次数的要求</span></span><br><span class="line">        <span class="keyword">if</span> self.reputation_points == Player.points[<span class="string">&quot;reputation_report&quot;</span>][<span class="string">&quot;max_points&quot;</span>]:</span><br><span class="line">            <span class="comment"># 如果信誉积分是满分，将会奖励一定的信誉星分</span></span><br><span class="line">            self.reputation_star += Player.points[<span class="string">&quot;reputation_report&quot;</span>][<span class="string">&quot;report_spill_stars&quot;</span>]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># 如果此时信誉积分不是满分</span></span><br><span class="line">            <span class="keyword">if</span> self.report_times &gt;= Player.points[<span class="string">&quot;reputation_report&quot;</span>][<span class="string">&quot;report_bonus_threshold&quot;</span>]:</span><br><span class="line">                <span class="comment"># 如果报道次数满足奖励的分数</span></span><br><span class="line">                self.reputation_points += Player.points[<span class="string">&quot;reputation_report&quot;</span>][<span class="string">&quot;bonus_point&quot;</span>] * Player.points[<span class="string">&quot;reputation_report&quot;</span>][<span class="string">&quot;bonus_threshold_multiplier&quot;</span>]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                self.reputation_points += Player.points[<span class="string">&quot;reputation_report&quot;</span>][<span class="string">&quot;bonus_point&quot;</span>]</span><br><span class="line">            <span class="keyword">if</span> self.reputation_points &gt; Player.points[<span class="string">&quot;reputation_report&quot;</span>][<span class="string">&quot;max_points&quot;</span>]:</span><br><span class="line">                <span class="comment"># 如果超过设定的最大信誉积分，将会将信誉积分固定到最大积分上</span></span><br><span class="line">                self.reputation_points = Player.points[<span class="string">&quot;reputation_report&quot;</span>][<span class="string">&quot;max_points&quot;</span>]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># 如果没有达到报告的次数或者没有完成规定的必须完成的任务</span></span><br><span class="line">        penalty_report_point -= Player.points[<span class="string">&quot;reputation_report&quot;</span>][<span class="string">&quot;must_report_missing_penalty&quot;</span>]</span><br><span class="line">        <span class="keyword">if</span> penalty_report_point &lt; Player.points[<span class="string">&quot;reputation_report&quot;</span>][<span class="string">&quot;max_deduction&quot;</span>]:</span><br><span class="line">            <span class="comment"># 如果超过设定的最大信誉积分扣除，将会将扣除部分固定在最大扣除积分上</span></span><br><span class="line">            penalty_report_point = Player.points[<span class="string">&quot;reputation_report&quot;</span>][<span class="string">&quot;max_deduction&quot;</span>]</span><br><span class="line">        self.reputation_points += penalty_report_point</span><br><span class="line">        self.reputation_star += Player.points[<span class="string">&quot;reputation_stars&quot;</span>][<span class="string">&quot;penalty_missing_report&quot;</span>][self.reputation_star_level]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 处理结束后，需要结算某些数据</span></span><br><span class="line">    self.reputation_star_level = self.get_level()</span><br><span class="line">    self.report_times = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(self.is_report_must)):</span><br><span class="line">        self.is_report_must[i] = <span class="number">0</span></span><br></pre></td></tr></table></figure><h3 id="2、监管者类设计思路">2、监管者类设计思路</h3><h4 id="1-丰富的配置文件自定义">(1) 丰富的配置文件自定义</h4><ul><li>可以用自己的配置文件来定义其他配置文件的路径，如命令语录配置、报告语录配置、播报语录配置、状态提示语录</li><li>可以用自己的配置文件来定义多种交流方式，如，只有用户在群聊的交流前面增加&quot;@莫名的机器人&quot;这个字符串，机器人才会处理这个消息</li><li>可以用自己的配置文件来定义最高权限者的wxid，因为有一些命令是只有最高权限者才可以发布的</li><li>可以通过自己的配置文件来定义用户状态的类型与其对应的分支。目前有两个大的状态分支：普通状态和非普通状态，在非普通状态下有五个分支状态，分别为睡觉、限制、学习、娱乐、停播。 在前面的五个状态分支中，限制状态的分支有上课、实习，娱乐状态的分支有游戏、视频。但是，由于类的分支比较多，具体计算用户的学者积分的时候需要使用哪个状态的字符串，也是十分值得研究的。所以，以下是目前的设计中所有的状态和其对应的积分计算的依据状态。<ul><li>普通状态：<code>ordinary</code>。依据状态：<code>ordinary</code></li><li>睡觉状态：<code>extraordinary_sleep</code>。依据状态：<code>extraordinary_sleep</code></li><li>上课状态：<code>extraordinary_restriction_classing</code>。依据状态：<code>extraordinary_restriction</code></li><li>上班状态：<code>extraordinary_restriction_working</code>。依据状态：<code>extraordinary_restriction</code></li><li>学习状态：<code>extraordinary_learning</code>。依据状态：<code>extraordinary_learning</code></li><li>游戏状态：<code>extraordinary_entertainment_game</code>。依据状态：<code>extraordinary_entertainment</code></li><li>视频状态：<code>extraordinary_entertainment_video</code>。依据状态：<code>extraordinary_entertainment</code></li><li>停播状态：<code>extraordinary_departure</code>。依据状态：<code>extraordinary_departure</code></li></ul></li><li>可以用自己的配置文件定义数据存储的位置</li><li>同时拥有一定能力的编辑配置文件的能力，因为需要区分出参与的用户和不参与的用户，需要程序可以自主编辑参与的用户</li></ul><h4 id="2-变量的设计思路——更多的灵活度">(2) 变量的设计思路——更多的灵活度</h4><ul><li>有一个管理群聊字典变量，字典的key对应着群聊的id，字典的value对应着一个这个群聊里面参与玩家的字典，这个字典是key为玩家的wxid，value是玩家对象本身。</li><li>有一个权限者的字典变量，这里暂时设定有3个等级的权限，key为用户的wxid，value为用户的权限等级，最高等级为0，其次为1，最低为2。<ol><li>权限等级为0的用户，可以对机器人实施任何命令，可以通过施展命令为权限等级为2的用户提升到权限等级1。</li><li>权限等级为1的用户，实际上是参与游戏的玩家，视为被机器人管理的范围。可以使用一些命令和所有报告来与机器人互动。机器人将会将其加入对应群聊的玩家字典组。</li><li>权限等级为2的用户，是没有参与游戏的玩家，机器人不会记录所有关于ta的信息。</li></ol></li><li>有一个日志字典，字典的key对应群聊id，字典的value对应着一个列表，列表里面的每个元素都是一个列表，这个最小单位的列表的数据内容有：时间戳字符串、日志标签、用户id、用户名字、用户当前状态、用户的信誉积分数量、用户的信誉星分数量、用户的学者积分数量、用户交流内容、机器人回应的字符串内容。</li><li>有一个日期的字符串变量。这个日期就是当前日志字典里面记录的日期。这个变量每日都会更新，更新后会同样将日志字典里面的最小单位的列表数据内容全部清空，后续将会在这个列表数据里面记录对应更新日期后的日志信息。</li><li>有一个报告语录字典。当玩家与机器人进行交互的时候，如果交互的内容存在于报告语录中，则程序可以判断玩家需要与机器人进行交流。这个报告语录由配置文件所定，为类的公有变量。状态字符串为key，报告字符串列表为value。</li><li>有一个命令语录字典。当权限为0的管理者与机器人进行交互的时候，如果交互的内容存在于命令语录中，则程序可以判断管理者需要与机器人进行一些配置上的交互。操作字符串为key，操作命令字符串列表为value。</li><li>有一个播报语录字典。当程序判断有用户和机器人进行交互的时候，机器人将会调动里面的内容进行交互。key为播报性质字符串，value为播报内容字典，播报内容字典里面的key是播报的内容，value是播报出来的概率。</li></ul><h4 id="3-方法设计思路——更多的接口预留">(3)方法设计思路——更多的接口预留</h4><h5 id="a-机器人的管理字典变量的数据保存和读取。">a.机器人的管理字典变量的数据保存和读取。</h5><ul><li><p>需要有一些方法可以保存和管理群聊字典变量里面的数据。</p><ol><li>本地数据保存文件的保存位置的查询方法。首先通过配置文件，知道存储数据的文件夹位置，根据群聊字典变量里面有多少个键值对，查询该路径下是否存在与key同样名称的json文件，如果有不需要新建，如果没有则需要新建一个与key对应名称的json文件。</li><li>本地数据保存的方法。通过该方法，可以将群聊字典变量里面的所有键值对一个json的形式保存数据。对于一个文件，需要保存所有的玩家数据信息，一个玩家的数据信息有：wxid、name、status、reputation_points、scholar_points、reputation_star、reputation_star_level、report_times、is_report_times、status_start_time_str，数据类型分别为字符串、字符串、字符串、整数、整数、整数、整数、整数、装有整数的列表、时间戳字符串。这种保存是覆盖性的。</li><li>本地数据的更新方法。通过该方法，可以在玩家实例的某个数据发生变化后，机器人可以准确修改本地数据保存的json文件里面对应的数据，而不是全部都重新保存一遍。这样除了可以提高程序的运行效率，也可以保证在程序意外中断的时候，用户的数据不至于全部丢失，因为所有的数据都是实时更新并保存到本地中的。这种保存不是覆盖性的</li><li>本地的数据字典的读取方法。如果发生了一些意外使得程序停止运行，但是由于代码的运行逻辑就是实时数据保存，所以所有的数据都完整的保存在原地，那么当程序重新运行的时候，那么可以直接通过读取配置文件设定的路径下所有json文件的信息就可以直接复原出程序停止前的所有群聊字典里面的玩家数据信息。</li></ol></li><li><p>实际上，不需要特意的方法去将数据保存权限者的变量，因为等级为0的权限者直接在配置文件中定义了，而权限为1的权限者全部在管理群聊字典变量中，对于权限为2的权限者，实际上根本不需要记录。</p></li><li><p>需要有一些方法将日志变量字典的数据保存。</p><ol><li>一天的日志数据保存文件的保存位置的查询方法。根据配置文件的内容，知道存储日志数据的文件夹位置，根据目前的日期字符串变量，查询在该文件夹下时候存在与当前日期字符串变量同名的文件夹，如果没有则需要新建一个文件夹。</li><li>所有群聊的一天的日志的保存位置的查询方法。在查询或者新建对应日期的文件夹后，进入对应的文件夹中，日志字典里面的所有键值对都对应一个json文件，每个json文件的名称都由所有的key命名，程序需要先查询该路径下是否存在这个文件，如果没有则新建。</li><li>一个群聊的一天日志的保存方法。对于日志字典里面一个群聊id对应的日志列表，需要完整将日志列表的信息保存到本地的对应保留好的位置中。这种保留是覆盖性的。</li><li>一个群聊的一天的日志更新方法。与前面保存群聊字典数据不同，日志数据的更新是线性的，即每当一个群聊的日志列表里面的数据更新的时候，直接在本地对应的json文件里面增加后面的内容即可。</li><li>本地的日志字典的读取方法。如果发生了一些意外使得程序停止运行，但是由于代码的运行逻辑就是实时日志信息保存，所以所有的日志数据都完整的保存在原地。那么当程序重新运行的时候，如果检查到当前时间的日期的数据存在，那么就可以将json文件里面的所有数据信息直接读取到程序的日志字典中。但是如果检查到当前的日志的数据不存在（不可以排出代码隔天后才能正常运行的情况），所以需要新建一个当前日期字符串同名的文件夹和在该文件夹里所有群聊对应的json文件，然后此时的日志数据字典里面键值对中所有的日志列表数据肯定是空的，因为当天并没有所有群聊的日志信息，但是不同担心，后续会不断将日志更新到不同群聊对应的json文件中。</li><li>本地的日志字典的切换存储位置方法。如果发生了日期更替，即时间来到了第二天，此时对应的日期字符串变量也发生了改变，实际上处理思路可以和前面一样。那就是清空当前的日志数据字典里面键值对中所有的日志列表数据，然后新建一个与当前日期字符串同名的文件夹，然后再在这个文件夹下面新建所有群聊对应的日志json文件，然后等待操作日志的更新即可。</li></ol></li></ul><h5 id="b-机器人的实现学习管理需要的方法">b.机器人的实现学习管理需要的方法</h5><ul><li><p>交互接口方法。当在一个群聊中有人发言时，就会调用机器人端的功能时，机器人首先会判断发言的信息是否为互动型信息，即发言者的信息前面有特定的前缀（这个前缀由配置文件定义）。如果有特定的前缀，则鉴定为交互，如果鉴定为交互，此时外界会输入四个变量，一个是发言者所在的群聊id，一个是发言者的id，一个是发言的内容，一个是发言的时间戳信息。</p><ol><li><p>首先通过id，检查发言者的权限等级是否为2。</p></li><li><p>如果为2，则只会根据概率返回播报内容字典中对应情景的内容（key:player_permissions_insufficient）。</p></li><li><p>如果不是2，则需要检验发言者的内容是否存在于报告语录和命令语录字典中。</p></li><li><p>如果检验发言者的内容既不存在于播报语录字典中，也不存在于命令语录字典中，那么只会根据概率返回播报内容字典中对应情景的内容（key:report_not_find）。</p></li><li><p>如果检验发言者的内容存在于播报语录字典中，系统将视为玩家与机器人之间的交互，这种交互涉及到玩家的状态变化。需要进一步检验玩家所说的内容是否合法。（对于一个状态，有对应的开始语言和结束语言，程序需要分辨出来且不能搞混）</p><ul><li><p>程序需要判断这个语言属于具体哪个非普通状态的开始语言还是结束语言。（普通状态没有专门的开始语言和结束语言，因为非普通状态的开始（结束）语言实际上就是普通状态的结束（开始）语言）</p><ul><li><p>如果玩家的交互语言是某个非普通状态的开始语言（需要清楚到最后一个状态分支，例如：玩家如果说的是游戏状态的开始语言，系统不能将玩家判断为娱乐状态，而是直接判断为娱乐状态的分支下面的游戏状态）</p><ul><li>机器人需要判断玩家的状态是否就是这个对应的非普通状态（不能重复进入状态）。</li><li>如果不是，则说明玩家需要从前面一个非普通状态转化为另外一个非普通状态，使用发言者所在的群聊id和发言者的id查询到该玩家的对象，然后调用他的状态转化方法即可，并根据播报内容字典返回特定的情景的内容即可。（返回内容不固定，根据玩家结束的是哪个状态而定）。在调用方法之前，依旧需要判断一件事，那就是如果玩家的信誉积分低于60（实际上不是60，这个需要根据配置文件所定），且玩家想要进入的状态是娱乐状态和停播状态，这是系统不允许的，所以只需要根据概率返回播报内容字典中对应情景的内容即可（key:reputation_points_too_low），不需要调用玩家对象的方法。</li><li>如果是，说明玩家可能搞混了自己的状态，那么只根据概率返回播报内容字典中对应情景的内容即可（key:report_not_find）。</li></ul></li><li><p>如果玩家的交互语言是某个非普通状态的结束语言（需要清楚到最后一个状态分支，例如：玩家如果说的是游戏状态的开始语言，系统不能将玩家判断为娱乐状态，而是直接判断为娱乐状态的分支下面的游戏状态）</p><ul><li>机器人需要判断玩家的状态是否就是这个对应的非普通状态（防止玩家说错导致其他状态被结束）。</li><li>如果不是，则会只根据概率返回播报内容字典中对应情景的内容即可（key:report_not_find）。</li><li>如果是，那么就会调用玩家对象的转化方法，并根据播报内容字典返回特定的情景的内容即可。（返回内容不固定，根据玩家结束的是哪个状态而定）</li></ul></li></ul><p>​</p></li></ul></li><li><p>如果发言者的内容存在于命令字典中，那么只需要执行对应的操作即可。（每个命令字典里面都对应一个操作函数）</p></li></ol></li></ul><p>需要完成的内容</p><ul><li>搞清楚计算学者积分的的status的名称和具体计算学者积分的名称，即extraordinary_entertainment_game和extraordinary_entertainment究竟是怎么计算的。需要重新审视Player类</li><li>搞清楚如何计算必完成事项的实现原理</li><li>搞清楚结算当日的积分应该如何表现，是直接输出，还是作为一段数据保存，存储到哪个文件夹</li><li>如何进行多线程计算???</li><li>为玩家的报告和交互内容添加到日志中</li><li>最后一步，就是如何进行线程设计？如何做到让机器人自主发言</li></ul><p>首先，给类创建一个字典数据：</p><p>在列表数据中有很多变量</p><p>需要给我的类添加一个时间字典，一个时间列表：</p><p>列表里面装有按照从早到晚的需要完成的事的时间变量字符串，</p><p>字典的key实际上列表中的时间变量，value是需要完成的事的触发事件数据的列表（事件可能有多个），一个事件数据是一个字典，字典里面只有<code>wx_id</code>, <code>room_id</code>,<code>e</code>, <code>event_type_broadcast</code>这四个键，对应的值都是字符串。</p><p>需要有一个函数，检测时间。输入参数就是时间字符串，然后检查时间列表里面的头一个时间字符串，如果输入参数的时间大于或者等于时间列表的头一个字符串，那么将时间列表的头一个时间字符串弹出，并且插入到一个新的时间列表中，这个新的时间列表暂时称之为要做的时间列表。然后继续遍历时间列表的下一个头时间字符串，依次类推，直到这个时间字符串小于时间列表的头一个字符串。最终，如果得到的要做的时间列表是空 的，则直接返回，如果不是空的，则要调用下面的函数</p><p>还有一个函数，完成对应时间的操作。输入参数是要做的时间字符串列表，找到字典里面所有对应时间字符串列表的事件数据列表，将所有要做的时间列表里面的值对应时间字典里面的所有事件数据列表里面的所有字典，作为参数调用一个完成时间事件的函数（这个函数还未具体定义），完成后从触发事件数据的列表中弹出这个对应时间数据字典，如果在时间字典中，触发事件数据的列表空了，那么就可以在时间字典中删除这个键值对。</p><p>还要有一个函数，就是新增时间事项。输入参数<code>to_do_time_str</code>，<code>time_event_dict</code>这两个数据，首先查询<code>to_do_time_str</code>是否存在于时间列表中，如果有则直接将<code>time_event_dict</code>插入到时间字典对应的value里面的列表中。如果不存在与时间列表中，就需要将<code>to_do_time_str</code>按照时间先后顺序插入时间列表中，然后再将time_event_dict插入一个空列表中，作为时间字典的to_do_time_str对应的value</p>]]></content>
      
      
      <categories>
          
          <category> WeChat </category>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> wechat </tag>
            
            <tag> WeChat </tag>
            
            <tag> webstocket </tag>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C51单片机-示例代码成品（3）</title>
      <link href="/2023/11/22/C51%E5%8D%95%E7%89%87%E6%9C%BA-%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%E6%88%90%E5%93%81%EF%BC%883%EF%BC%89%E2%80%94%E2%80%94%E5%8F%8C%E6%9C%BA%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F/"/>
      <url>/2023/11/22/C51%E5%8D%95%E7%89%87%E6%9C%BA-%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%E6%88%90%E5%93%81%EF%BC%883%EF%BC%89%E2%80%94%E2%80%94%E5%8F%8C%E6%9C%BA%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F/</url>
      
        <content type="html"><![CDATA[<h1>C51单片机-示例代码成品（3）——双机通信系统</h1><h2 id="一、功能介绍">一、功能介绍</h2><p>通过机器对话可以实现单片机A从另一个单片机B中获取体温、汇率</p><h2 id="二、通信原理流程图">二、通信原理流程图</h2><h3 id="2-1-初始化按键">2.1 初始化按键</h3><img class="inline-img" src="/../img/51MCU/DualC_1.png" style="height:200px"/><h3 id="2-2-功能按键一">2.2 功能按键一</h3><img class="inline-img" src="/../img/51MCU/DualC_2.png" style="height:250px"/><h3 id="2-3-功能按键二与功能按键三">2.3 功能按键二与功能按键三</h3><img class="inline-img" src="/../img/51MCU/DualC_3.png" style="height:400px"/><h2 id="三、矩阵按键模块Key">三、矩阵按键模块Key</h2><p>这里矩阵按键代码只用于单片机A</p><h3 id="3-1-Key-c">3.1 Key.c</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">Delay</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> xms)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i, j;</span><br><span class="line"><span class="keyword">while</span>(xms--)</span><br><span class="line">&#123;</span><br><span class="line">i = <span class="number">2</span>;</span><br><span class="line">j = <span class="number">239</span>;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span> (--j);</span><br><span class="line">&#125; <span class="keyword">while</span> (--i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">KeyScan</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> KeyNumber=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">P1=<span class="number">0xFF</span>;</span><br><span class="line">P1_3=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span>(P1_7==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_7==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyNumber=<span class="number">1</span>;&#125;</span><br><span class="line"><span class="keyword">if</span>(P1_6==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_6==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyNumber=<span class="number">5</span>;&#125;</span><br><span class="line"><span class="keyword">if</span>(P1_5==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_5==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyNumber=<span class="number">9</span>;&#125;</span><br><span class="line"><span class="keyword">if</span>(P1_4==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_4==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyNumber=<span class="number">13</span>;&#125;</span><br><span class="line"></span><br><span class="line">P1=<span class="number">0xFF</span>;</span><br><span class="line">P1_2=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span>(P1_7==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_7==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyNumber=<span class="number">2</span>;&#125;</span><br><span class="line"><span class="keyword">if</span>(P1_6==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_6==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyNumber=<span class="number">6</span>;&#125;</span><br><span class="line"><span class="keyword">if</span>(P1_5==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_5==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyNumber=<span class="number">10</span>;&#125;</span><br><span class="line"><span class="keyword">if</span>(P1_4==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_4==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyNumber=<span class="number">14</span>;&#125;</span><br><span class="line"></span><br><span class="line">P1=<span class="number">0xFF</span>;</span><br><span class="line">P1_1=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span>(P1_7==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_7==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyNumber=<span class="number">3</span>;&#125;</span><br><span class="line"><span class="keyword">if</span>(P1_6==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_6==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyNumber=<span class="number">7</span>;&#125;</span><br><span class="line"><span class="keyword">if</span>(P1_5==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_5==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyNumber=<span class="number">11</span>;&#125;</span><br><span class="line"><span class="keyword">if</span>(P1_4==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_4==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyNumber=<span class="number">15</span>;&#125;</span><br><span class="line"></span><br><span class="line">P1=<span class="number">0xFF</span>;</span><br><span class="line">P1_0=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span>(P1_7==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_7==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyNumber=<span class="number">4</span>;&#125;</span><br><span class="line"><span class="keyword">if</span>(P1_6==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_6==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyNumber=<span class="number">8</span>;&#125;</span><br><span class="line"><span class="keyword">if</span>(P1_5==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_5==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyNumber=<span class="number">12</span>;&#125;</span><br><span class="line"><span class="keyword">if</span>(P1_4==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_4==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyNumber=<span class="number">16</span>;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> KeyNumber;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="3-2-Key-h">3.2 Key.h</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __KEY_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __KEY_H__</span></span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">KeyScan</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><h2 id="四、延时函数模块Delay">四、延时函数模块Delay</h2><p>这里延时函数代码只用于单片机B</p><h3 id="4-1-Delay-c">4.1 Delay.c</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Delay</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> xms)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i, j;</span><br><span class="line"><span class="keyword">while</span>(xms--)</span><br><span class="line">&#123;</span><br><span class="line">i = <span class="number">2</span>;</span><br><span class="line">j = <span class="number">239</span>;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span> (--j);</span><br><span class="line">&#125; <span class="keyword">while</span> (--i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="4-2-Delay-h">4.2 Delay.h</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __DELAY_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __DELAY_H__</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//用户调用函数：</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">Delay</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> xms)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><h2 id="五、DS18B20温度传感器">五、DS18B20温度传感器</h2><p>这里DS18B20代码只用于单片机B</p><h3 id="5-1-DS18B20-c">5.1 DS18B20.c</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;OneWire.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//DS18B20指令</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DS18B20_SKIP_ROM0xCC</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DS18B20_CONVERT_T0x44</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DS18B20_READ_SCRATCHPAD 0xBE</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  DS18B20开始温度变换</span></span><br><span class="line"><span class="comment">  * @param  无</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DS18B20_ConvertT</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">OneWire_Init();</span><br><span class="line">OneWire_SendByte(DS18B20_SKIP_ROM);</span><br><span class="line">OneWire_SendByte(DS18B20_CONVERT_T);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  DS18B20读取温度</span></span><br><span class="line"><span class="comment">  * @param  无</span></span><br><span class="line"><span class="comment">  * @retval 温度数值</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">float</span> <span class="title function_">DS18B20_ReadT</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> TLSB,TMSB;</span><br><span class="line"><span class="type">int</span> Temp;</span><br><span class="line"><span class="type">float</span> T;</span><br><span class="line">OneWire_Init();</span><br><span class="line">OneWire_SendByte(DS18B20_SKIP_ROM);</span><br><span class="line">OneWire_SendByte(DS18B20_READ_SCRATCHPAD);</span><br><span class="line">TLSB=OneWire_ReceiveByte();</span><br><span class="line">TMSB=OneWire_ReceiveByte();</span><br><span class="line">Temp=(TMSB&lt;&lt;<span class="number">8</span>)|TLSB;</span><br><span class="line">T=Temp/<span class="number">16.0</span>;</span><br><span class="line"><span class="keyword">return</span> T;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="5-2-DS18B20-h">5.2 DS18B20.h</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __DS18B20_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __DS18B20_H__</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">DS18B20_ConvertT</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"><span class="type">float</span> <span class="title function_">DS18B20_ReadT</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="5-3-OneWire-c">5.3 OneWire.c</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//引脚定义</span></span><br><span class="line">sbit OneWire_DQ=P3^<span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  单总线初始化</span></span><br><span class="line"><span class="comment">  * @param  无</span></span><br><span class="line"><span class="comment">  * @retval 从机响应位，0为响应，1为未响应</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">OneWire_Init</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> AckBit;</span><br><span class="line">OneWire_DQ=<span class="number">1</span>;</span><br><span class="line">OneWire_DQ=<span class="number">0</span>;</span><br><span class="line">i = <span class="number">247</span>;<span class="keyword">while</span> (--i);<span class="comment">//Delay 500us</span></span><br><span class="line">OneWire_DQ=<span class="number">1</span>;</span><br><span class="line">i = <span class="number">32</span>;<span class="keyword">while</span> (--i);<span class="comment">//Delay 70us</span></span><br><span class="line">AckBit=OneWire_DQ;</span><br><span class="line">i = <span class="number">247</span>;<span class="keyword">while</span> (--i);<span class="comment">//Delay 500us</span></span><br><span class="line"><span class="keyword">return</span> AckBit;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  单总线发送一位</span></span><br><span class="line"><span class="comment">  * @param  Bit 要发送的位</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">OneWire_SendBit</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Bit)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i;</span><br><span class="line">OneWire_DQ=<span class="number">0</span>;</span><br><span class="line">i = <span class="number">4</span>;<span class="keyword">while</span> (--i);<span class="comment">//Delay 10us</span></span><br><span class="line">OneWire_DQ=Bit;</span><br><span class="line">i = <span class="number">24</span>;<span class="keyword">while</span> (--i);<span class="comment">//Delay 50us</span></span><br><span class="line">OneWire_DQ=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  单总线接收一位</span></span><br><span class="line"><span class="comment">  * @param  无</span></span><br><span class="line"><span class="comment">  * @retval 读取的位</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">OneWire_ReceiveBit</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> Bit;</span><br><span class="line">OneWire_DQ=<span class="number">0</span>;</span><br><span class="line">i = <span class="number">2</span>;<span class="keyword">while</span> (--i);<span class="comment">//Delay 5us</span></span><br><span class="line">OneWire_DQ=<span class="number">1</span>;</span><br><span class="line">i = <span class="number">2</span>;<span class="keyword">while</span> (--i);<span class="comment">//Delay 5us</span></span><br><span class="line">Bit=OneWire_DQ;</span><br><span class="line">i = <span class="number">24</span>;<span class="keyword">while</span> (--i);<span class="comment">//Delay 50us</span></span><br><span class="line"><span class="keyword">return</span> Bit;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  单总线发送一个字节</span></span><br><span class="line"><span class="comment">  * @param  Byte 要发送的字节</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">OneWire_SendByte</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Byte)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">8</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line">OneWire_SendBit(Byte&amp;(<span class="number">0x01</span>&lt;&lt;i));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  单总线接收一个字节</span></span><br><span class="line"><span class="comment">  * @param  无</span></span><br><span class="line"><span class="comment">  * @retval 接收的一个字节</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">OneWire_ReceiveByte</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> Byte=<span class="number">0x00</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">8</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(OneWire_ReceiveBit())&#123;Byte|=(<span class="number">0x01</span>&lt;&lt;i);&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> Byte;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="5-4-OneWire-h">5.4 OneWire.h</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __ONEWIRE_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __ONEWIRE_H__</span></span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">OneWire_Init</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">OneWire_SendBit</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Bit)</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">OneWire_ReceiveBit</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">OneWire_SendByte</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Byte)</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">OneWire_ReceiveByte</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="六、字符串处理模块StrFunction">六、字符串处理模块StrFunction</h2><h3 id="7-1-StrFunction-c">7.1 StrFunction.c</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 进行字符串的相等判断</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">StrEqual</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> *str, <span class="type">unsigned</span> <span class="type">char</span> *getStr)</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(*str!=<span class="string">&#x27;\0&#x27;</span>)&#123;</span><br><span class="line"><span class="keyword">if</span> (*str != *getStr) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">str++;</span><br><span class="line">getStr++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Int2Str</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> num, <span class="type">unsigned</span> <span class="type">char</span> *str)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> nums[<span class="number">5</span>];</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i = <span class="number">0</span>,j = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (num != <span class="number">0</span>) &#123;</span><br><span class="line">nums[i] = num % <span class="number">10</span>;</span><br><span class="line">num /= <span class="number">10</span>;</span><br><span class="line">i++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span> (i--) &#123;</span><br><span class="line">*(str + j) = nums[i] + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">j++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Float2Str</span><span class="params">(<span class="type">float</span> value, <span class="type">unsigned</span> <span class="type">char</span> *str)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> IntegerPart;</span><br><span class="line"><span class="type">float</span> DecimalPart;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> j = <span class="number">0</span>;</span><br><span class="line"><span class="type">char</span> temp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (value &gt;= <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">IntegerPart = (<span class="type">unsigned</span> <span class="type">char</span>) value;</span><br><span class="line">DecimalPart = value - IntegerPart;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (value &lt;= <span class="number">-1</span>)</span><br><span class="line">&#123;</span><br><span class="line">IntegerPart = (<span class="type">unsigned</span> <span class="type">char</span>) (-value);</span><br><span class="line">DecimalPart = -(value + IntegerPart);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">IntegerPart = <span class="number">0</span>;</span><br><span class="line">DecimalPart = value - IntegerPart;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Deal IntegerPart</span></span><br><span class="line"><span class="keyword">if</span> (IntegerPart == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">str[<span class="number">0</span>] = value &gt;= <span class="number">0</span> ? <span class="string">&#x27;+&#x27;</span> : <span class="string">&#x27;-&#x27;</span>;</span><br><span class="line">str[<span class="number">1</span>] = <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">str[<span class="number">2</span>] = <span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">i = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span>(IntegerPart &gt; <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">str[i] = IntegerPart % <span class="number">10</span> + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">IntegerPart /= <span class="number">10</span>;</span><br><span class="line">i++;</span><br><span class="line">&#125;</span><br><span class="line">str[i] = value &gt;= <span class="number">0</span> ? <span class="string">&#x27;+&#x27;</span> : <span class="string">&#x27;-&#x27;</span>;</span><br><span class="line"><span class="comment">// fix the result</span></span><br><span class="line"><span class="keyword">for</span> (j=<span class="number">0</span>;j&lt;i;j++)</span><br><span class="line">&#123;</span><br><span class="line">temp = str[j];</span><br><span class="line">str[j] = str[i - j];</span><br><span class="line">str[i - j] = temp;</span><br><span class="line">&#125;</span><br><span class="line">i++;</span><br><span class="line">str[i] = <span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// convert the Decimalpart</span></span><br><span class="line">i++;</span><br><span class="line">str[i++] = (<span class="type">unsigned</span> <span class="type">int</span>)(DecimalPart * <span class="number">10</span>) % <span class="number">10</span> + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">str[i++] = (<span class="type">unsigned</span> <span class="type">int</span>)(DecimalPart * <span class="number">100</span>) % <span class="number">10</span> + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">str[i++] = (<span class="type">unsigned</span> <span class="type">int</span>)(DecimalPart * <span class="number">1000</span>) % <span class="number">10</span> + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">str[i++] = (<span class="type">unsigned</span> <span class="type">int</span>)(DecimalPart * <span class="number">10000</span>) % <span class="number">10</span> + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">str[i] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="6-2-StrFunction-h">6.2 StrFunction.h</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __STRFUNCTION_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __STRFUNCTION_H__</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//用户调用函数：</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">StrEqual</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> *str)</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">Int2Str</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> num, <span class="type">unsigned</span> <span class="type">char</span> *str)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">Float2Str</span><span class="params">(<span class="type">float</span> value, <span class="type">unsigned</span> <span class="type">char</span> *str)</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id=""></h2><h2 id="七、串口模块UART">七、串口模块UART</h2><h3 id="7-1-UART-c">7.1 UART.c</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 串口初始化</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_Init</span><span class="params">(<span class="type">void</span>)</span>  <span class="comment">//4800bps@11.0592MHz</span></span><br><span class="line">&#123;</span><br><span class="line"> PCON |= <span class="number">0x80</span>;  <span class="comment">//</span></span><br><span class="line"> SCON = <span class="number">0x50</span>;  <span class="comment">//</span></span><br><span class="line"> TMOD &amp;= <span class="number">0x0F</span>;  <span class="comment">//</span></span><br><span class="line"> TMOD |= <span class="number">0x20</span>;  <span class="comment">//</span></span><br><span class="line"> TL1 = <span class="number">0xF4</span>;  <span class="comment">//</span></span><br><span class="line"> TH1 = <span class="number">0xF4</span>;  <span class="comment">//</span></span><br><span class="line"> ET1 = <span class="number">0</span>;  <span class="comment">//</span></span><br><span class="line"> TR1 = <span class="number">1</span>;  <span class="comment">//</span></span><br><span class="line"> EA = <span class="number">1</span>;</span><br><span class="line"> ES = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 发送一位字符</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_SendByte</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> byte)</span> &#123;</span><br><span class="line">   SBUF = byte;</span><br><span class="line">    <span class="keyword">while</span>(TI == <span class="number">0</span>);</span><br><span class="line">    TI = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 发送一个数字</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_SendNum</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> num)</span> &#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> nums[<span class="number">5</span>];</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (num != <span class="number">0</span>) &#123;</span><br><span class="line">nums[i] = num % <span class="number">10</span>;</span><br><span class="line">num /= <span class="number">10</span>;</span><br><span class="line">i++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span> (i--) &#123;</span><br><span class="line">UART_SendByte(nums[i] + <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 发送一行字符串</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_SendString</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> *str)</span> &#123;</span><br><span class="line"><span class="keyword">while</span>(*str!=<span class="string">&#x27;\0&#x27;</span>)&#123;</span><br><span class="line">SBUF = *str;</span><br><span class="line">    <span class="keyword">while</span>(TI == <span class="number">0</span>);</span><br><span class="line">    TI = <span class="number">0</span>;</span><br><span class="line">str++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="7-2-UART-h">7.2 UART.h</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __UART_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __UART_H__</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//用户调用函数：</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_Init</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_SendByte</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> byte)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_SendNum</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> num)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_SendString</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> *str)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="八、显示屏幕LCD1602模块">八、显示屏幕LCD1602模块</h2><h3 id="8-1-LCD1602-c">8.1 LCD1602.c</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//引脚配置：</span></span><br><span class="line">sbit LCD_RS=P2^<span class="number">6</span>;</span><br><span class="line">sbit LCD_RW=P2^<span class="number">5</span>;</span><br><span class="line">sbit LCD_EN=P2^<span class="number">7</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> LCD_DataPort P0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//函数定义：</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  LCD1602延时函数，12MHz调用可延时1ms</span></span><br><span class="line"><span class="comment">  * @param  无</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_Delay</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i, j;</span><br><span class="line"></span><br><span class="line">i = <span class="number">2</span>;</span><br><span class="line">j = <span class="number">239</span>;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span> (--j);</span><br><span class="line">&#125; <span class="keyword">while</span> (--i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  LCD1602写命令</span></span><br><span class="line"><span class="comment">  * @param  Command 要写入的命令</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_WriteCommand</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Command)</span></span><br><span class="line">&#123;</span><br><span class="line">LCD_RS=<span class="number">0</span>;</span><br><span class="line">LCD_RW=<span class="number">0</span>;</span><br><span class="line">LCD_DataPort=Command;</span><br><span class="line">LCD_EN=<span class="number">1</span>;</span><br><span class="line">LCD_Delay();</span><br><span class="line">LCD_EN=<span class="number">0</span>;</span><br><span class="line">LCD_Delay();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  LCD1602写数据</span></span><br><span class="line"><span class="comment">  * @param  Data 要写入的数据</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_WriteData</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Data)</span></span><br><span class="line">&#123;</span><br><span class="line">LCD_RS=<span class="number">1</span>;</span><br><span class="line">LCD_RW=<span class="number">0</span>;</span><br><span class="line">LCD_DataPort=Data;</span><br><span class="line">LCD_EN=<span class="number">1</span>;</span><br><span class="line">LCD_Delay();</span><br><span class="line">LCD_EN=<span class="number">0</span>;</span><br><span class="line">LCD_Delay();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  LCD1602设置光标位置</span></span><br><span class="line"><span class="comment">  * @param  Line 行位置，范围：1~2</span></span><br><span class="line"><span class="comment">  * @param  Column 列位置，范围：1~16</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_SetCursor</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Line,<span class="type">unsigned</span> <span class="type">char</span> Column)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(Line==<span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">LCD_WriteCommand(<span class="number">0x80</span>|(Column<span class="number">-1</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(Line==<span class="number">2</span>)</span><br><span class="line">&#123;</span><br><span class="line">LCD_WriteCommand(<span class="number">0x80</span>|(Column<span class="number">-1</span>+<span class="number">0x40</span>));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  LCD1602初始化函数</span></span><br><span class="line"><span class="comment">  * @param  无</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_Init</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">LCD_WriteCommand(<span class="number">0x38</span>);<span class="comment">//八位数据接口，两行显示，5*7点阵</span></span><br><span class="line">LCD_WriteCommand(<span class="number">0x0c</span>);<span class="comment">//显示开，光标关，闪烁关</span></span><br><span class="line">LCD_WriteCommand(<span class="number">0x06</span>);<span class="comment">//数据读写操作后，光标自动加一，画面不动</span></span><br><span class="line">LCD_WriteCommand(<span class="number">0x01</span>);<span class="comment">//光标复位，清屏</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  在LCD1602指定位置上显示一个字符</span></span><br><span class="line"><span class="comment">  * @param  Line 行位置，范围：1~2</span></span><br><span class="line"><span class="comment">  * @param  Column 列位置，范围：1~16</span></span><br><span class="line"><span class="comment">  * @param  Char 要显示的字符</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_ShowChar</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Line,<span class="type">unsigned</span> <span class="type">char</span> Column,<span class="type">char</span> Char)</span></span><br><span class="line">&#123;</span><br><span class="line">LCD_SetCursor(Line,Column);</span><br><span class="line">LCD_WriteData(Char);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  在LCD1602指定位置开始显示所给字符串</span></span><br><span class="line"><span class="comment">  * @param  Line 起始行位置，范围：1~2</span></span><br><span class="line"><span class="comment">  * @param  Column 起始列位置，范围：1~16</span></span><br><span class="line"><span class="comment">  * @param  String 要显示的字符串</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_ShowString</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Line,<span class="type">unsigned</span> <span class="type">char</span> Column,<span class="type">char</span> *String)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i;</span><br><span class="line">LCD_SetCursor(Line,Column);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;String[i]!=<span class="string">&#x27;\0&#x27;</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line">LCD_WriteData(String[i]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  返回值=X的Y次方</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">LCD_Pow</span><span class="params">(<span class="type">int</span> X,<span class="type">int</span> Y)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i;</span><br><span class="line"><span class="type">int</span> Result=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;Y;i++)</span><br><span class="line">&#123;</span><br><span class="line">Result*=X;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> Result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  在LCD1602指定位置开始显示所给数字</span></span><br><span class="line"><span class="comment">  * @param  Line 起始行位置，范围：1~2</span></span><br><span class="line"><span class="comment">  * @param  Column 起始列位置，范围：1~16</span></span><br><span class="line"><span class="comment">  * @param  Number 要显示的数字，范围：0~65535</span></span><br><span class="line"><span class="comment">  * @param  Length 要显示数字的长度，范围：1~5</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_ShowNum</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Line,<span class="type">unsigned</span> <span class="type">char</span> Column,<span class="type">unsigned</span> <span class="type">int</span> Number,<span class="type">unsigned</span> <span class="type">char</span> Length)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i;</span><br><span class="line">LCD_SetCursor(Line,Column);</span><br><span class="line"><span class="keyword">for</span>(i=Length;i&gt;<span class="number">0</span>;i--)</span><br><span class="line">&#123;</span><br><span class="line">LCD_WriteData(Number/LCD_Pow(<span class="number">10</span>,i<span class="number">-1</span>)%<span class="number">10</span>+<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  在LCD1602指定位置开始以有符号十进制显示所给数字</span></span><br><span class="line"><span class="comment">  * @param  Line 起始行位置，范围：1~2</span></span><br><span class="line"><span class="comment">  * @param  Column 起始列位置，范围：1~16</span></span><br><span class="line"><span class="comment">  * @param  Number 要显示的数字，范围：-32768~32767</span></span><br><span class="line"><span class="comment">  * @param  Length 要显示数字的长度，范围：1~5</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_ShowSignedNum</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Line,<span class="type">unsigned</span> <span class="type">char</span> Column,<span class="type">int</span> Number,<span class="type">unsigned</span> <span class="type">char</span> Length)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span> Number1;</span><br><span class="line">LCD_SetCursor(Line,Column);</span><br><span class="line"><span class="keyword">if</span>(Number&gt;=<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">LCD_WriteData(<span class="string">&#x27;+&#x27;</span>);</span><br><span class="line">Number1=Number;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">LCD_WriteData(<span class="string">&#x27;-&#x27;</span>);</span><br><span class="line">Number1=-Number;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=Length;i&gt;<span class="number">0</span>;i--)</span><br><span class="line">&#123;</span><br><span class="line">LCD_WriteData(Number1/LCD_Pow(<span class="number">10</span>,i<span class="number">-1</span>)%<span class="number">10</span>+<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  在LCD1602指定位置开始以十六进制显示所给数字</span></span><br><span class="line"><span class="comment">  * @param  Line 起始行位置，范围：1~2</span></span><br><span class="line"><span class="comment">  * @param  Column 起始列位置，范围：1~16</span></span><br><span class="line"><span class="comment">  * @param  Number 要显示的数字，范围：0~0xFFFF</span></span><br><span class="line"><span class="comment">  * @param  Length 要显示数字的长度，范围：1~4</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_ShowHexNum</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Line,<span class="type">unsigned</span> <span class="type">char</span> Column,<span class="type">unsigned</span> <span class="type">int</span> Number,<span class="type">unsigned</span> <span class="type">char</span> Length)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i,SingleNumber;</span><br><span class="line">LCD_SetCursor(Line,Column);</span><br><span class="line"><span class="keyword">for</span>(i=Length;i&gt;<span class="number">0</span>;i--)</span><br><span class="line">&#123;</span><br><span class="line">SingleNumber=Number/LCD_Pow(<span class="number">16</span>,i<span class="number">-1</span>)%<span class="number">16</span>;</span><br><span class="line"><span class="keyword">if</span>(SingleNumber&lt;<span class="number">10</span>)</span><br><span class="line">&#123;</span><br><span class="line">LCD_WriteData(SingleNumber+<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">LCD_WriteData(SingleNumber<span class="number">-10</span>+<span class="string">&#x27;A&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  在LCD1602指定位置开始以二进制显示所给数字</span></span><br><span class="line"><span class="comment">  * @param  Line 起始行位置，范围：1~2</span></span><br><span class="line"><span class="comment">  * @param  Column 起始列位置，范围：1~16</span></span><br><span class="line"><span class="comment">  * @param  Number 要显示的数字，范围：0~1111 1111 1111 1111</span></span><br><span class="line"><span class="comment">  * @param  Length 要显示数字的长度，范围：1~16</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_ShowBinNum</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Line,<span class="type">unsigned</span> <span class="type">char</span> Column,<span class="type">unsigned</span> <span class="type">int</span> Number,<span class="type">unsigned</span> <span class="type">char</span> Length)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i;</span><br><span class="line">LCD_SetCursor(Line,Column);</span><br><span class="line"><span class="keyword">for</span>(i=Length;i&gt;<span class="number">0</span>;i--)</span><br><span class="line">&#123;</span><br><span class="line">LCD_WriteData(Number/LCD_Pow(<span class="number">2</span>,i<span class="number">-1</span>)%<span class="number">2</span>+<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="8-2-LCD1602-h">8.2 LCD1602.h</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __LCD1602_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __LCD1602_H__</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//用户调用函数：</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_Init</span><span class="params">()</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_ShowChar</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Line,<span class="type">unsigned</span> <span class="type">char</span> Column,<span class="type">char</span> Char)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_ShowString</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Line,<span class="type">unsigned</span> <span class="type">char</span> Column,<span class="type">char</span> *String)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_ShowNum</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Line,<span class="type">unsigned</span> <span class="type">char</span> Column,<span class="type">unsigned</span> <span class="type">int</span> Number,<span class="type">unsigned</span> <span class="type">char</span> Length)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_ShowSignedNum</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Line,<span class="type">unsigned</span> <span class="type">char</span> Column,<span class="type">int</span> Number,<span class="type">unsigned</span> <span class="type">char</span> Length)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_ShowHexNum</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Line,<span class="type">unsigned</span> <span class="type">char</span> Column,<span class="type">unsigned</span> <span class="type">int</span> Number,<span class="type">unsigned</span> <span class="type">char</span> Length)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_ShowBinNum</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Line,<span class="type">unsigned</span> <span class="type">char</span> Column,<span class="type">unsigned</span> <span class="type">int</span> Number,<span class="type">unsigned</span> <span class="type">char</span> Length)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="九、main模块">九、main模块</h2><h3 id="9-1-单片机A的main-c">9.1 单片机A的main.c</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;StrFunction.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;UART.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;LCD1602.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Key.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MaxStrLen 20</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MaxExRate 5</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> getStr[MaxStrLen];</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> strIndex = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*******************************************************************************</span></span><br><span class="line"><span class="comment">* 函 数 名       : UART_Get</span></span><br><span class="line"><span class="comment">* 函数功能 : 处理UART传来的整组数据的函数，</span></span><br><span class="line"><span class="comment">主要功能：处理UART传来的数据</span></span><br><span class="line"><span class="comment">    如果接收到温度信息，则会在LCD1602显示温度内容；</span></span><br><span class="line"><span class="comment">    如果接收到汇率信息，则会在LCD1602显示汇率内容</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">* 输    入       : 无</span></span><br><span class="line"><span class="comment">* 输    出     : 无</span></span><br><span class="line"><span class="comment">*******************************************************************************/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_Get</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> rateShowLine; <span class="comment">// 汇率显示的行数</span></span><br><span class="line"><span class="comment">// 进行温度请求后将得到的温度信息进行温度的显示</span></span><br><span class="line"><span class="keyword">if</span> (getStr[<span class="number">0</span>] == <span class="string">&#x27;+&#x27;</span> || getStr[<span class="number">0</span>] == <span class="string">&#x27;-&#x27;</span>) &#123;</span><br><span class="line"><span class="comment">// 这两句是为了清楚LCD1602，避免出现显示错误</span></span><br><span class="line">LCD_ShowString(<span class="number">1</span>,<span class="number">1</span>,<span class="string">&quot;                &quot;</span>);</span><br><span class="line">LCD_ShowString(<span class="number">2</span>,<span class="number">1</span>,<span class="string">&quot;                &quot;</span>);</span><br><span class="line"><span class="comment">// 温度显示</span></span><br><span class="line">LCD_ShowString(<span class="number">1</span>,<span class="number">1</span>,<span class="string">&quot;Now Temperature &quot;</span>);</span><br><span class="line">LCD_ShowString(<span class="number">2</span>,<span class="number">5</span>, <span class="string">&quot;0000&quot;</span>);</span><br><span class="line">LCD_ShowString(<span class="number">2</span>,<span class="number">1</span>,getStr);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 除了温度请求外，得到自然就是汇率信息了</span></span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="comment">// 获取汇率信息第8位数据的信息，从而进行显示</span></span><br><span class="line">rateShowLine = getStr[<span class="number">7</span>] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">getStr[<span class="number">7</span>] = <span class="string">&#x27; &#x27;</span>;</span><br><span class="line"></span><br><span class="line">LCD_ShowString(rateShowLine,<span class="number">1</span>,getStr);</span><br><span class="line"><span class="comment">// if (getStr[7] == &#x27;1&#x27;) &#123;</span></span><br><span class="line"><span class="comment">// getStr[7] = &#x27; &#x27;;</span></span><br><span class="line"><span class="comment">// LCD_ShowString(1,1,getStr);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// else if (getStr[7] == &#x27;2&#x27;) &#123;</span></span><br><span class="line"><span class="comment">// getStr[7] = &#x27; &#x27;;</span></span><br><span class="line"><span class="comment">// LCD_ShowString(2,1,getStr);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*******************************************************************************</span></span><br><span class="line"><span class="comment">* 函 数 名       : UART_Routine</span></span><br><span class="line"><span class="comment">* 函数功能 : UART中断函数，</span></span><br><span class="line"><span class="comment">主要功能：UART接收到数据后发生中断进行处理</span></span><br><span class="line"><span class="comment">    如果接收到&#x27;;&#x27;，说明收到的一组数据结束，</span></span><br><span class="line"><span class="comment">    需要对这组数据进行处理并且清除接收数据的容器；</span></span><br><span class="line"><span class="comment">    如果接收数据满，则会直接清除接收数据的容器，不作回应。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">* 输    入       : 无</span></span><br><span class="line"><span class="comment">* 输    出     : 无</span></span><br><span class="line"><span class="comment">*******************************************************************************/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_Routine</span><span class="params">()</span> interrupt 4</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (RI == <span class="number">1</span>) &#123; </span><br><span class="line"><span class="comment">// 如果收到&#x27;;&#x27;说明到达一组数据的尽头，所以需要进行判断和清除</span></span><br><span class="line"><span class="keyword">if</span> (SBUF == <span class="string">&#x27;;&#x27;</span>) &#123;</span><br><span class="line">RI = <span class="number">0</span>;</span><br><span class="line">UART_Get();</span><br><span class="line">strIndex = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">getStr[strIndex] = SBUF;</span><br><span class="line">RI = <span class="number">0</span>; <span class="comment">// </span></span><br><span class="line">strIndex++;</span><br><span class="line"><span class="comment">// 如果一次性收到的数据过多，也会清除数据</span></span><br><span class="line"><span class="keyword">if</span> (strIndex == MaxStrLen) &#123;</span><br><span class="line"><span class="comment">// UART_SendString(&quot;INPUT TO MANY!&quot;);</span></span><br><span class="line">strIndex = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*******************************************************************************</span></span><br><span class="line"><span class="comment">* 函 数 名       : main</span></span><br><span class="line"><span class="comment">* 函数功能 : 主函数</span></span><br><span class="line"><span class="comment">主要功能：初始化一些硬件，并且不断扫描按键，实现询问的功能。</span></span><br><span class="line"><span class="comment">    如果接收到&#x27;;&#x27;，说明收到的一组数据结束，</span></span><br><span class="line"><span class="comment">    需要对这组数据进行处理并且清除接收数据的容器；</span></span><br><span class="line"><span class="comment">    如果接收数据满，则会直接清除接收数据的容器，不作回应。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">* 输    入       : 无</span></span><br><span class="line"><span class="comment">* 输    出     : 无</span></span><br><span class="line"><span class="comment">*******************************************************************************/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> exrate = <span class="number">0</span>;</span><br><span class="line">LCD_Init();</span><br><span class="line">UART_Init();</span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>) &#123;</span><br><span class="line"><span class="comment">// 扫描矩阵键盘按键</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> key_push = KeyScan();</span><br><span class="line"><span class="keyword">if</span> (key_push == <span class="number">1</span>) &#123; <span class="comment">// 初始化按键，请求连接，如果不请求连接的话后续按键将无法得到回应</span></span><br><span class="line">UART_SendString(<span class="string">&quot;Ask to connect;&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (key_push == <span class="number">2</span>) &#123; <span class="comment">// 功能按键一，请求温度信息</span></span><br><span class="line">UART_SendString(<span class="string">&quot;Temper;&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (key_push == <span class="number">3</span>) &#123; <span class="comment">// 功能按键二：请求汇率</span></span><br><span class="line">UART_SendString(<span class="string">&quot;Exchange rate &quot;</span>);</span><br><span class="line"><span class="comment">// 逐位发送，主要是为了让exrate变得可以调整，方便进行功能拓展</span></span><br><span class="line">UART_SendByte(exrate + <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">UART_SendByte(<span class="string">&#x27;;&#x27;</span>);</span><br><span class="line">exrate++;</span><br><span class="line"><span class="keyword">if</span> (exrate == MaxExRate) exrate = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (key_push == <span class="number">4</span>) &#123; <span class="comment">// 功能按键三：汇率逆序</span></span><br><span class="line">UART_SendString(<span class="string">&quot;Exchange rate inver;&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="9-2-单片机B的main-c">9.2 单片机B的main.c</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;StrFunction.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;UART.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;LCD1602.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;DS18B20.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Delay.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MaxStrLen 20</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MaxExRate 5</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> RateStrLen 6</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> CNY <span class="string">&quot;CNY    &quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ConsNum <span class="string">&quot;1.0000 &quot;</span></span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> getStr[MaxStrLen];</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> strIndex = <span class="number">0</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> isRateInver = <span class="number">0</span>;</span><br><span class="line"><span class="type">float</span> temperature;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> whatRate;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> isConnected;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> code *rate[<span class="number">3</span>][<span class="number">5</span>] = &#123;&#123;<span class="string">&quot;1.0866 &quot;</span>, <span class="string">&quot;0.1394 &quot;</span>, <span class="string">&quot;0.1276 &quot;</span>, <span class="string">&quot;4.40   &quot;</span>, <span class="string">&quot;20.7104&quot;</span>&#125;,</span><br><span class="line"> &#123;<span class="string">&quot;0.9202 &quot;</span>, <span class="string">&quot;7.1728 &quot;</span>, <span class="string">&quot;7.8370 &quot;</span>, <span class="string">&quot;0.22727&quot;</span>, <span class="string">&quot;0.04829&quot;</span>&#125;,</span><br><span class="line">&#123;<span class="string">&quot;HKD    &quot;</span>, <span class="string">&quot;USD    &quot;</span>, <span class="string">&quot;EUR    &quot;</span>, <span class="string">&quot;TWD    &quot;</span>, <span class="string">&quot;JPY    &quot;</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*******************************************************************************</span></span><br><span class="line"><span class="comment">* 函 数 名       : sendLine</span></span><br><span class="line"><span class="comment">* 函数功能 : 发送行数据，用于汇率查询的功能</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">* 输    入       : line = 1,通过UART发送的数据为请求数据的单片机需要显示的第一行数据；</span></span><br><span class="line"><span class="comment">*   line = 2,通过UART发送的数据为请求数据的单片机需要显示的第二行数据；</span></span><br><span class="line"><span class="comment">* str1：需要发送的一组数据中前面的部分；str2:需要发送的一组数据中后面的部分。</span></span><br><span class="line"><span class="comment">* 输    出     : 无</span></span><br><span class="line"><span class="comment">*******************************************************************************/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">sendLine</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> line, <span class="type">unsigned</span> <span class="type">char</span> *str1, <span class="type">unsigned</span> <span class="type">char</span> *str2)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> *tmp;</span><br><span class="line"><span class="comment">// 如果是汇率逆序的状态，所要显示的str就要进行交换</span></span><br><span class="line"><span class="keyword">if</span> (isRateInver == <span class="number">1</span>) &#123;</span><br><span class="line">tmp = str1;</span><br><span class="line">str1 = str2;</span><br><span class="line">str2 = tmp;</span><br><span class="line">&#125;</span><br><span class="line">UART_SendString(str1);</span><br><span class="line"><span class="comment">// 这里的line处于整个16位数据的第8位，这样传输到另外一个单片机就便于其将信息显示到LCD1602对应的列上</span></span><br><span class="line"><span class="comment">// 本质上将line信号也一同传输过去，并且不会干扰传输过去的有效信息</span></span><br><span class="line">UART_SendByte(line + <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">UART_SendString(str2);</span><br><span class="line">UART_SendByte(<span class="string">&#x27;;&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*******************************************************************************</span></span><br><span class="line"><span class="comment">* 函 数 名       : UART_Get</span></span><br><span class="line"><span class="comment">* 函数功能 : 处理UART传来的整组数据的函数，</span></span><br><span class="line"><span class="comment">主要功能：处理UART传来的数据</span></span><br><span class="line"><span class="comment">    如果处于初始状态或者拒绝连接状态，接收到请求连接信息，则会在LCD1602显示连接成功，并且进入连接状态，允许进行数据访问；</span></span><br><span class="line"><span class="comment">    如果处于连接状态，接收到请求连接信息，将会在LCD1602显示拒绝连接，进入不连接状态，不允许进行数据访问。</span></span><br><span class="line"><span class="comment">    如果处于连接状态，接收到温度请求信息，将会调用自身的DS18B20获取浮点数的温度结果，然后逐个拆解DS18B20来将结果通过UART输出；</span></span><br><span class="line"><span class="comment">    如果处于连接状态，接收到汇率逆序输出请求，将会使得自身的汇率输出状态取反，并且将上一次要求输出的的汇率信息逆序分为两组输出；</span></span><br><span class="line"><span class="comment">    如果处于连接状态，接收到汇率输出请求，将会根据接收的内容里面的汇率表的索引来将本机表里面对应汇率信息分两组输出。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">* 输    入       : 无</span></span><br><span class="line"><span class="comment">* 输    出     : 无</span></span><br><span class="line"><span class="comment">*******************************************************************************/</span>  </span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_Get</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// 初始化的处理，通过该按键可以控制是否连接本单片机</span></span><br><span class="line"><span class="keyword">if</span> (StrEqual(<span class="string">&quot;Ask to connect&quot;</span>, getStr)) &#123;</span><br><span class="line">isConnected = isConnected == <span class="number">0</span> ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (isConnected == <span class="number">1</span>)&#123;</span><br><span class="line">LCD_ShowString(<span class="number">1</span>,<span class="number">1</span>,<span class="string">&quot;Connecting      &quot;</span>);</span><br><span class="line">LCD_ShowString(<span class="number">2</span>,<span class="number">1</span>,<span class="string">&quot;Successfully!!! &quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">LCD_ShowString(<span class="number">1</span>,<span class="number">1</span>,<span class="string">&quot;No Connecting   &quot;</span>);</span><br><span class="line">LCD_ShowString(<span class="number">2</span>,<span class="number">1</span>,<span class="string">&quot;                &quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 如果连接成功，将会运行使用下面功能</span></span><br><span class="line"><span class="keyword">if</span> (isConnected == <span class="number">1</span>)&#123;</span><br><span class="line"><span class="comment">// 温度询问信息的回复</span></span><br><span class="line"><span class="keyword">if</span> (StrEqual(<span class="string">&quot;Temper&quot;</span>, getStr)) &#123;</span><br><span class="line"><span class="comment">// 调用DS18B20得到float数据</span></span><br><span class="line">DS18B20_ConvertT();</span><br><span class="line">temperature = DS18B20_ReadT();</span><br><span class="line"><span class="comment">// 判断是否为整数从而发送&#x27;-&#x27; or &#x27;+&#x27;</span></span><br><span class="line"><span class="keyword">if</span> (temperature &lt;<span class="number">0</span>) &#123;</span><br><span class="line">UART_SendByte(<span class="string">&#x27;-&#x27;</span>);</span><br><span class="line">temperature = -temperature;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">UART_SendByte(<span class="string">&#x27;+&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 首先发送整数部分</span></span><br><span class="line">UART_SendNum(temperature);</span><br><span class="line"><span class="comment">// 再发送小数点</span></span><br><span class="line">UART_SendByte(<span class="string">&#x27;.&#x27;</span>);</span><br><span class="line"><span class="comment">// 再发送小数点后四位</span></span><br><span class="line">UART_SendNum((<span class="type">unsigned</span> <span class="type">long</span>)(temperature*<span class="number">10000</span>)%<span class="number">10000</span>);</span><br><span class="line"><span class="comment">// 补充足够的空格，可以让接收温度信息的单片机进行数据显示的时候可以显示正确，不会被前面的信息影响</span></span><br><span class="line">UART_SendString(<span class="string">&quot;      &quot;</span>);</span><br><span class="line">UART_SendByte(<span class="string">&#x27;;&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 如果需要进行汇率逆转</span></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(StrEqual(<span class="string">&quot;Exchange rate inver&quot;</span>, getStr)) &#123;</span><br><span class="line"><span class="comment">// 先反转后显示</span></span><br><span class="line">isRateInver = isRateInver == <span class="number">0</span> ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line"><span class="comment">//sendRate();</span></span><br><span class="line">sendLine(<span class="number">1</span>, CNY, rate[<span class="number">2</span>][whatRate]);</span><br><span class="line">Delay(<span class="number">300</span>);</span><br><span class="line">sendLine(<span class="number">2</span>, ConsNum, rate[isRateInver][whatRate]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 这里就是进行汇率读取</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// 得到第15位的数据，从而输出对应序号与人民币之间的汇率</span></span><br><span class="line">whatRate = getStr[<span class="number">14</span>] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line"><span class="keyword">if</span> (whatRate &lt; <span class="number">5</span>) &#123;</span><br><span class="line">sendLine(<span class="number">1</span>, CNY, rate[<span class="number">2</span>][whatRate]);</span><br><span class="line">Delay(<span class="number">300</span>);</span><br><span class="line">sendLine(<span class="number">2</span>, ConsNum, rate[isRateInver][whatRate]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*******************************************************************************</span></span><br><span class="line"><span class="comment">* 函 数 名       : UART_Routine</span></span><br><span class="line"><span class="comment">* 函数功能 : UART中断函数，</span></span><br><span class="line"><span class="comment">主要功能：UART接收到数据后发生中断进行处理</span></span><br><span class="line"><span class="comment">    如果接收到&#x27;;&#x27;，说明收到的一组数据结束，</span></span><br><span class="line"><span class="comment">    需要对这组数据进行处理并且清除接收数据的容器；</span></span><br><span class="line"><span class="comment">    如果接收数据满，则会直接清除接收数据的容器，不作回应。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">* 输    入       : 无</span></span><br><span class="line"><span class="comment">* 输    出     : 无</span></span><br><span class="line"><span class="comment">*******************************************************************************/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_Routine</span><span class="params">()</span> interrupt 4</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (RI == <span class="number">1</span>) &#123; <span class="comment">//</span></span><br><span class="line"><span class="keyword">if</span> (SBUF == <span class="string">&#x27;;&#x27;</span>) &#123;</span><br><span class="line">RI = <span class="number">0</span>;</span><br><span class="line">UART_Get();</span><br><span class="line">strIndex = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">getStr[strIndex] = SBUF;</span><br><span class="line">RI = <span class="number">0</span>; <span class="comment">// </span></span><br><span class="line">strIndex++;</span><br><span class="line"><span class="keyword">if</span> (strIndex == MaxStrLen) &#123;</span><br><span class="line"><span class="comment">// UART_SendString(&quot;INPUT TO MANY!&quot;);</span></span><br><span class="line">strIndex = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*******************************************************************************</span></span><br><span class="line"><span class="comment">* 函 数 名       : main</span></span><br><span class="line"><span class="comment">* 函数功能 : 主函数</span></span><br><span class="line"><span class="comment">主要功能：初始化硬件部分的内容，并进入死循环，整体程序依靠中断运行</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">* 输    入       : 无</span></span><br><span class="line"><span class="comment">* 输    出     : 无</span></span><br><span class="line"><span class="comment">*******************************************************************************/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">UART_Init();</span><br><span class="line">DS18B20_ConvertT();</span><br><span class="line">LCD_Init();</span><br><span class="line">Delay(<span class="number">1000</span>);</span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> MCU C51 </category>
          
          <category> The finished product of the code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MCU C51 </tag>
            
            <tag> STC89C51 </tag>
            
            <tag> STC89C52 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C51单片机-示例代码成品（2）</title>
      <link href="/2023/10/22/C51%E5%8D%95%E7%89%87%E6%9C%BA-%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%E6%88%90%E5%93%81%EF%BC%882%EF%BC%89%E2%80%94%E2%80%94%E5%A4%9A%E5%A4%96%E8%AE%BEPC%E4%B8%B2%E5%8F%A3%E6%9F%A5%E8%AF%A2%E7%B3%BB%E7%BB%9F/"/>
      <url>/2023/10/22/C51%E5%8D%95%E7%89%87%E6%9C%BA-%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%E6%88%90%E5%93%81%EF%BC%882%EF%BC%89%E2%80%94%E2%80%94%E5%A4%9A%E5%A4%96%E8%AE%BEPC%E4%B8%B2%E5%8F%A3%E6%9F%A5%E8%AF%A2%E7%B3%BB%E7%BB%9F/</url>
      
        <content type="html"><![CDATA[<h1>C51单片机-示例代码成品（2）——多外设PC串口查询系统</h1><h2 id="一、功能说明">一、功能说明</h2><p>在室温、板载电压、ROM密钥等目标中选定PC串口查询系统的功能</p><h2 id="二、main-c文件">二、main.c文件</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;DS18B20.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;XPT2046.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;AT24C02.h&quot;</span></span></span><br><span class="line">code <span class="type">unsigned</span> <span class="type">char</span> *whatADJ = <span class="string">&quot;Now the ADJ is &quot;</span>;</span><br><span class="line">code <span class="type">unsigned</span> <span class="type">char</span> *whatNTC = <span class="string">&quot;Now the NTC is &quot;</span>;</span><br><span class="line">code <span class="type">unsigned</span> <span class="type">char</span> *whatGR = <span class="string">&quot;Now the GR is &quot;</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> strIndex;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> getStr[<span class="number">20</span>];</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> Timer_count;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span> AD_Num;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> continue_show_type;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> ADisMore;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span> ADValue;</span><br><span class="line"><span class="type">float</span> tem;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> *tempStr;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 进行字符串的相等判断</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">StrEqual</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> *str)</span> &#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(*str!=<span class="string">&#x27;\0&#x27;</span>)&#123;</span><br><span class="line"><span class="keyword">if</span> (*str != getStr[i]) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">str++;</span><br><span class="line">i++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Delay</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> xms)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i, j;</span><br><span class="line"><span class="keyword">while</span>(xms--)</span><br><span class="line">&#123;</span><br><span class="line">i = <span class="number">2</span>;</span><br><span class="line">j = <span class="number">239</span>;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span> (--j);</span><br><span class="line">&#125; <span class="keyword">while</span> (--i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 发送一位字符</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_SendByte</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> byte)</span> &#123;</span><br><span class="line">   SBUF = byte;</span><br><span class="line">    <span class="keyword">while</span>(TI == <span class="number">0</span>);</span><br><span class="line">    TI = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 发送一个数字</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_SendNum</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> num)</span> &#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> nums[<span class="number">5</span>];</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (num != <span class="number">0</span>) &#123;</span><br><span class="line">nums[i] = num % <span class="number">10</span>;</span><br><span class="line">num /= <span class="number">10</span>;</span><br><span class="line">i++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span> (i--) &#123;</span><br><span class="line">UART_SendByte(nums[i] + <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 发送一行字符串</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_SendStringLine</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> *str)</span> &#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(*str!=<span class="string">&#x27;\0&#x27;</span>)&#123;</span><br><span class="line">SBUF = *str;</span><br><span class="line">    <span class="keyword">while</span>(TI == <span class="number">0</span>);</span><br><span class="line">    TI = <span class="number">0</span>;</span><br><span class="line">str++;</span><br><span class="line">i++;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">i = <span class="number">36</span> * (i / <span class="number">36</span> + <span class="number">1</span>) - i;</span><br><span class="line"><span class="keyword">while</span> (i != <span class="number">0</span>) &#123;</span><br><span class="line">UART_SendByte(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">i--;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 发送一行字符串以及数字</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_SendStringAndNumLine</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> *str, <span class="type">unsigned</span> <span class="type">int</span> num)</span> &#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> j = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(*str!=<span class="string">&#x27;\0&#x27;</span>)&#123;</span><br><span class="line">SBUF = *str;</span><br><span class="line">    <span class="keyword">while</span>(TI == <span class="number">0</span>);</span><br><span class="line">    TI = <span class="number">0</span>;</span><br><span class="line">str++;</span><br><span class="line">i++;</span><br><span class="line">&#125;</span><br><span class="line">UART_SendNum(num);</span><br><span class="line"><span class="keyword">while</span> (num != <span class="number">0</span>) &#123;</span><br><span class="line">num /= <span class="number">10</span>;</span><br><span class="line">j++;</span><br><span class="line">&#125;</span><br><span class="line">i = <span class="number">34</span> - i - j;;</span><br><span class="line"><span class="keyword">while</span> (i != <span class="number">0</span>) &#123;</span><br><span class="line">UART_SendByte(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">i--;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//if (num &gt; 999) &#123;</span></span><br><span class="line"><span class="comment">//UART_SendByte(48 + num / 1000);</span></span><br><span class="line"><span class="comment">//num = num % 1000;</span></span><br><span class="line"><span class="comment">//i++;</span></span><br><span class="line"><span class="comment">//if(num &lt; 10) &#123;</span></span><br><span class="line"><span class="comment">//UART_SendByte(48 + 0);</span></span><br><span class="line"><span class="comment">//UART_SendByte(48 + 0);</span></span><br><span class="line"><span class="comment">//i = i + 2;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//else if (num &lt; 100) &#123;</span></span><br><span class="line"><span class="comment">//UART_SendByte(48 + 0);</span></span><br><span class="line"><span class="comment">//i++;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//if (num &gt; 99) &#123;</span></span><br><span class="line"><span class="comment">//UART_SendByte(48 + num / 100);</span></span><br><span class="line"><span class="comment">//num = num % 100;</span></span><br><span class="line"><span class="comment">//if (num &lt; 10) &#123;</span></span><br><span class="line"><span class="comment">//UART_SendByte(48 + 0);</span></span><br><span class="line"><span class="comment">//i++;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//i++;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//if (num &gt; 9) &#123;</span></span><br><span class="line"><span class="comment">//UART_SendByte(48 + num / 10);</span></span><br><span class="line"><span class="comment">//num = num % 10;</span></span><br><span class="line"><span class="comment">//i++;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//UART_SendByte(48 + num);</span></span><br><span class="line"><span class="comment">//i++;</span></span><br><span class="line"><span class="comment">//i = 36 * (i / 36 + 1) - i;</span></span><br><span class="line"><span class="comment">//while (i != 0) &#123;</span></span><br><span class="line"><span class="comment">//UART_SendByte(&#x27; &#x27;);</span></span><br><span class="line"><span class="comment">//i--;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span> <span class="title function_">get_AD_Num</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> showAD)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span> type;</span><br><span class="line"><span class="keyword">if</span> (showAD % <span class="number">10</span>  == <span class="number">1</span>) type = XPT2046_XP;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (showAD % <span class="number">10</span>  == <span class="number">2</span>) type = XPT2046_YP;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (showAD % <span class="number">10</span>  == <span class="number">3</span>) type = XPT2046_VBAT;</span><br><span class="line"><span class="keyword">if</span> (showAD / <span class="number">10</span> == <span class="number">1</span>) type = type &amp; <span class="number">0xF7</span>;</span><br><span class="line"><span class="keyword">return</span> XPT2046_ReadAD(type);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">show_line</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> printLines, <span class="type">unsigned</span> <span class="type">char</span> type)</span>&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i = <span class="number">8</span> - printLines - <span class="number">1</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> nulls = <span class="number">28</span>;</span><br><span class="line"><span class="keyword">if</span> (type == <span class="number">1</span>) &#123;</span><br><span class="line">AD_Num = get_AD_Num(<span class="number">1</span> + <span class="number">10</span>*ADisMore);</span><br><span class="line"></span><br><span class="line">AT24C02_WriteByte(<span class="number">0</span>,AD_Num%<span class="number">256</span>);</span><br><span class="line">Delay(<span class="number">5</span>);</span><br><span class="line">AT24C02_WriteByte(<span class="number">1</span>,AD_Num/<span class="number">256</span>);</span><br><span class="line">Delay(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">UART_SendStringAndNumLine(whatADJ, AD_Num);</span><br><span class="line">AD_Num = get_AD_Num(<span class="number">2</span> + <span class="number">10</span>*ADisMore);</span><br><span class="line"></span><br><span class="line">AT24C02_WriteByte(<span class="number">2</span>,AD_Num%<span class="number">256</span>);</span><br><span class="line">Delay(<span class="number">5</span>);</span><br><span class="line">AT24C02_WriteByte(<span class="number">3</span>,AD_Num/<span class="number">256</span>);</span><br><span class="line">Delay(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">UART_SendStringAndNumLine(whatNTC, AD_Num);</span><br><span class="line">AD_Num = get_AD_Num(<span class="number">3</span> + <span class="number">10</span>*ADisMore);</span><br><span class="line"></span><br><span class="line">AT24C02_WriteByte(<span class="number">4</span>,AD_Num%<span class="number">256</span>);</span><br><span class="line">Delay(<span class="number">5</span>);</span><br><span class="line">AT24C02_WriteByte(<span class="number">5</span>,AD_Num/<span class="number">256</span>);</span><br><span class="line">Delay(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">UART_SendStringAndNumLine(whatGR, AD_Num);</span><br><span class="line">i--;</span><br><span class="line"><span class="keyword">if</span> (continue_show_type == <span class="number">1</span>) &#123;</span><br><span class="line"><span class="keyword">while</span> (i--) &#123;</span><br><span class="line">UART_SendStringLine(<span class="string">&quot; &quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (type == <span class="number">2</span>) &#123;</span><br><span class="line">DS18B20_ConvertT();</span><br><span class="line">tem = DS18B20_ReadT();</span><br><span class="line"><span class="keyword">if</span> (tem &lt;<span class="number">0</span>) &#123;</span><br><span class="line">UART_SendByte(<span class="string">&#x27;-&#x27;</span>);</span><br><span class="line">tem = -tem;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">UART_SendByte(<span class="string">&#x27;+&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">UART_SendNum(tem);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">UART_SendByte(<span class="string">&#x27;.&#x27;</span>);</span><br><span class="line"></span><br><span class="line">UART_SendNum((<span class="type">unsigned</span> <span class="type">long</span>)(tem*<span class="number">10000</span>)%<span class="number">10000</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (nulls--) UART_SendByte(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">UART_SendStringLine(<span class="string">&quot; &quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">ReadRom</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span> Num;</span><br><span class="line">Num=AT24C02_ReadByte(<span class="number">0</span>);</span><br><span class="line">Num|=AT24C02_ReadByte(<span class="number">1</span>)&lt;&lt;<span class="number">8</span>;</span><br><span class="line">UART_SendStringAndNumLine(<span class="string">&quot;ADJ:&quot;</span>, Num);</span><br><span class="line">Num=AT24C02_ReadByte(<span class="number">2</span>);</span><br><span class="line">Num|=AT24C02_ReadByte(<span class="number">3</span>)&lt;&lt;<span class="number">8</span>;</span><br><span class="line">UART_SendStringAndNumLine(<span class="string">&quot;NTC:&quot;</span>, Num);</span><br><span class="line">Num=AT24C02_ReadByte(<span class="number">4</span>);</span><br><span class="line">Num|=AT24C02_ReadByte(<span class="number">5</span>)&lt;&lt;<span class="number">8</span>;</span><br><span class="line">UART_SendStringAndNumLine(<span class="string">&quot;GR:&quot;</span>, Num);</span><br><span class="line">UART_SendStringLine(<span class="string">&quot; &quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Timer0Init</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">TMOD &amp;= <span class="number">0xF0</span>;</span><br><span class="line">TMOD |= <span class="number">0x01</span>;</span><br><span class="line">TL0 = <span class="number">0x18</span>;</span><br><span class="line">TH0 = <span class="number">0xFC</span>;</span><br><span class="line">TF0 = <span class="number">0</span>;</span><br><span class="line">TR0 = <span class="number">1</span>;</span><br><span class="line">ET0=<span class="number">1</span>;</span><br><span class="line">EA=<span class="number">1</span>;</span><br><span class="line">PT0=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Timer0_Routine</span><span class="params">()</span> interrupt 1</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(Timer_count == <span class="number">10</span>) <span class="comment">// 相隔一定时间进行一次输出</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (continue_show_type == <span class="number">1</span>) </span><br><span class="line">&#123;</span><br><span class="line">show_line(<span class="number">3</span>,continue_show_type);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (continue_show_type == <span class="number">2</span>)</span><br><span class="line">&#123;</span><br><span class="line">show_line(<span class="number">1</span>,continue_show_type);</span><br><span class="line">&#125;</span><br><span class="line">Timer_count = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> Timer_count++;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_Init</span><span class="params">(<span class="type">void</span>)</span>  <span class="comment">//4800bps@11.0592MHz</span></span><br><span class="line">&#123;</span><br><span class="line"> PCON |= <span class="number">0x80</span>;  <span class="comment">//</span></span><br><span class="line"> SCON = <span class="number">0x50</span>;  <span class="comment">//</span></span><br><span class="line"> TMOD &amp;= <span class="number">0x0F</span>;  <span class="comment">//</span></span><br><span class="line"> TMOD |= <span class="number">0x20</span>;  <span class="comment">//</span></span><br><span class="line"> TL1 = <span class="number">0xF4</span>;  <span class="comment">//</span></span><br><span class="line"> TH1 = <span class="number">0xF4</span>;  <span class="comment">//</span></span><br><span class="line"> ET1 = <span class="number">0</span>;  <span class="comment">//</span></span><br><span class="line"> TR1 = <span class="number">1</span>;  <span class="comment">//</span></span><br><span class="line"> EA = <span class="number">1</span>;</span><br><span class="line"> ES = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_Get</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="type">char</span> num;</span><br><span class="line"></span><br><span class="line">EA = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (continue_show_type == <span class="number">0</span>) <span class="comment">// 如果此时不是处于持续输出的状态</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (StrEqual(<span class="string">&quot;show AD;&quot;</span>) == <span class="number">1</span>) </span><br><span class="line">&#123;</span><br><span class="line">show_line(<span class="number">3</span>,<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (StrEqual(<span class="string">&quot;continue show AD;&quot;</span>) == <span class="number">1</span>) </span><br><span class="line">&#123;</span><br><span class="line">Timer0Init();</span><br><span class="line">continue_show_type = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (StrEqual(<span class="string">&quot;show AD more;&quot;</span>) == <span class="number">1</span>) </span><br><span class="line">&#123;</span><br><span class="line">ADisMore = <span class="number">1</span>;</span><br><span class="line">show_line(<span class="number">3</span>,<span class="number">1</span>);</span><br><span class="line">ADisMore = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (StrEqual(<span class="string">&quot;Temper;&quot;</span>) == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">show_line(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (StrEqual(<span class="string">&quot;continue show Temper;&quot;</span>) == <span class="number">1</span>) </span><br><span class="line">&#123;</span><br><span class="line">Timer0Init();</span><br><span class="line">continue_show_type = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (StrEqual(<span class="string">&quot;read rom;&quot;</span>) == <span class="number">1</span>) &#123;</span><br><span class="line">ReadRom();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">&#123;</span><br><span class="line">UART_SendStringLine(<span class="string">&quot;INPUT ERROR!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (StrEqual(<span class="string">&quot;end;&quot;</span>) == <span class="number">1</span>) </span><br><span class="line">&#123;</span><br><span class="line">TR0 = <span class="number">0</span>;</span><br><span class="line">continue_show_type = <span class="number">0</span>;</span><br><span class="line">UART_SendStringLine(<span class="string">&quot;END SUCCESSFULLY&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">&#123;</span><br><span class="line">UART_SendStringLine(<span class="string">&quot;INPUT ERROR!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">strIndex = <span class="number">0</span>;</span><br><span class="line">EA = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_Routine</span><span class="params">()</span> interrupt 4</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (RI == <span class="number">1</span>) &#123; <span class="comment">//</span></span><br><span class="line"><span class="keyword">if</span> (SBUF == <span class="string">&#x27;;&#x27;</span>) &#123;</span><br><span class="line">getStr[strIndex] = SBUF;</span><br><span class="line">RI = <span class="number">0</span>;</span><br><span class="line">UART_Get();</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">getStr[strIndex] = SBUF;</span><br><span class="line">RI = <span class="number">0</span>; <span class="comment">// </span></span><br><span class="line">strIndex++;</span><br><span class="line"><span class="keyword">if</span> (strIndex == <span class="number">20</span>) &#123;</span><br><span class="line">UART_SendStringLine(<span class="string">&quot;INPUT TO MANY!&quot;</span>);</span><br><span class="line">strIndex = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">UART_Init();</span><br><span class="line">DS18B20_ConvertT();</span><br><span class="line">Delay(<span class="number">1000</span>);</span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="三、温度传感器DS18B20">三、温度传感器DS18B20</h2><h3 id="3-1-DS18B20-c">3.1 DS18B20.c</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;OneWire.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//DS18B20指令</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DS18B20_SKIP_ROM0xCC</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DS18B20_CONVERT_T0x44</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DS18B20_READ_SCRATCHPAD 0xBE</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  DS18B20开始温度变换</span></span><br><span class="line"><span class="comment">  * @param  无</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">DS18B20_ConvertT</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">OneWire_Init();</span><br><span class="line">OneWire_SendByte(DS18B20_SKIP_ROM);</span><br><span class="line">OneWire_SendByte(DS18B20_CONVERT_T);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  DS18B20读取温度</span></span><br><span class="line"><span class="comment">  * @param  无</span></span><br><span class="line"><span class="comment">  * @retval 温度数值</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">float</span> <span class="title function_">DS18B20_ReadT</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> TLSB,TMSB;</span><br><span class="line"><span class="type">int</span> Temp;</span><br><span class="line"><span class="type">float</span> T;</span><br><span class="line">OneWire_Init();</span><br><span class="line">OneWire_SendByte(DS18B20_SKIP_ROM);</span><br><span class="line">OneWire_SendByte(DS18B20_READ_SCRATCHPAD);</span><br><span class="line">TLSB=OneWire_ReceiveByte();</span><br><span class="line">TMSB=OneWire_ReceiveByte();</span><br><span class="line">Temp=(TMSB&lt;&lt;<span class="number">8</span>)|TLSB;</span><br><span class="line">T=Temp/<span class="number">16.0</span>;</span><br><span class="line"><span class="keyword">return</span> T;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="3-2-DS18B20-h">3.2 DS18B20.h</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __DS18B20_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __DS18B20_H__</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">DS18B20_ConvertT</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"><span class="type">float</span> <span class="title function_">DS18B20_ReadT</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="3-3-OneWire-c">3.3 OneWire.c</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//引脚定义</span></span><br><span class="line">sbit OneWire_DQ=P3^<span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  单总线初始化</span></span><br><span class="line"><span class="comment">  * @param  无</span></span><br><span class="line"><span class="comment">  * @retval 从机响应位，0为响应，1为未响应</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">OneWire_Init</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> AckBit;</span><br><span class="line">OneWire_DQ=<span class="number">1</span>;</span><br><span class="line">OneWire_DQ=<span class="number">0</span>;</span><br><span class="line">i = <span class="number">247</span>;<span class="keyword">while</span> (--i);<span class="comment">//Delay 500us</span></span><br><span class="line">OneWire_DQ=<span class="number">1</span>;</span><br><span class="line">i = <span class="number">32</span>;<span class="keyword">while</span> (--i);<span class="comment">//Delay 70us</span></span><br><span class="line">AckBit=OneWire_DQ;</span><br><span class="line">i = <span class="number">247</span>;<span class="keyword">while</span> (--i);<span class="comment">//Delay 500us</span></span><br><span class="line"><span class="keyword">return</span> AckBit;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  单总线发送一位</span></span><br><span class="line"><span class="comment">  * @param  Bit 要发送的位</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">OneWire_SendBit</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Bit)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i;</span><br><span class="line">OneWire_DQ=<span class="number">0</span>;</span><br><span class="line">i = <span class="number">4</span>;<span class="keyword">while</span> (--i);<span class="comment">//Delay 10us</span></span><br><span class="line">OneWire_DQ=Bit;</span><br><span class="line">i = <span class="number">24</span>;<span class="keyword">while</span> (--i);<span class="comment">//Delay 50us</span></span><br><span class="line">OneWire_DQ=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  单总线接收一位</span></span><br><span class="line"><span class="comment">  * @param  无</span></span><br><span class="line"><span class="comment">  * @retval 读取的位</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">OneWire_ReceiveBit</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> Bit;</span><br><span class="line">OneWire_DQ=<span class="number">0</span>;</span><br><span class="line">i = <span class="number">2</span>;<span class="keyword">while</span> (--i);<span class="comment">//Delay 5us</span></span><br><span class="line">OneWire_DQ=<span class="number">1</span>;</span><br><span class="line">i = <span class="number">2</span>;<span class="keyword">while</span> (--i);<span class="comment">//Delay 5us</span></span><br><span class="line">Bit=OneWire_DQ;</span><br><span class="line">i = <span class="number">24</span>;<span class="keyword">while</span> (--i);<span class="comment">//Delay 50us</span></span><br><span class="line"><span class="keyword">return</span> Bit;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  单总线发送一个字节</span></span><br><span class="line"><span class="comment">  * @param  Byte 要发送的字节</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">OneWire_SendByte</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Byte)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">8</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line">OneWire_SendBit(Byte&amp;(<span class="number">0x01</span>&lt;&lt;i));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  单总线接收一个字节</span></span><br><span class="line"><span class="comment">  * @param  无</span></span><br><span class="line"><span class="comment">  * @retval 接收的一个字节</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">OneWire_ReceiveByte</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> Byte=<span class="number">0x00</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">8</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(OneWire_ReceiveBit())&#123;Byte|=(<span class="number">0x01</span>&lt;&lt;i);&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> Byte;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="3-4-OneWire-h">3.4 OneWire.h</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __ONEWIRE_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __ONEWIRE_H__</span></span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">OneWire_Init</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">OneWire_SendBit</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Bit)</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">OneWire_ReceiveBit</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">OneWire_SendByte</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Byte)</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">OneWire_ReceiveByte</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="四、模数转换器XPT2046">四、模数转换器XPT2046</h2><h3 id="4-1-XPT2046-c">4.1 XPT2046.c</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;INTRINS.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//引脚定义</span></span><br><span class="line">sbit XPT2046_DIN=P3^<span class="number">4</span>;</span><br><span class="line">sbit XPT2046_CS=P3^<span class="number">5</span>;</span><br><span class="line">sbit XPT2046_DCLK=P3^<span class="number">6</span>;</span><br><span class="line">sbit XPT2046_DOUT=P3^<span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  ZPT2046读取AD值</span></span><br><span class="line"><span class="comment">  * @param  Command 命令字，范围：头文件内定义的宏，结尾的数字表示转换的位数</span></span><br><span class="line"><span class="comment">  * @retval AD转换后的数字量，范围：8位为0~255，12位为0~4095</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span> <span class="title function_">XPT2046_ReadAD</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Command)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span> Data=<span class="number">0</span>;</span><br><span class="line">XPT2046_DCLK=<span class="number">0</span>; <span class="comment">// 初始化clk置零</span></span><br><span class="line">XPT2046_CS=<span class="number">0</span>; <span class="comment">// 启用XPT2046</span></span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">8</span>;i++)</span><br><span class="line">&#123; <span class="comment">// 依次发出command中八位信息</span></span><br><span class="line">XPT2046_DIN=Command&amp;(<span class="number">0x80</span>&gt;&gt;i);</span><br><span class="line">XPT2046_DCLK=<span class="number">1</span>;</span><br><span class="line">XPT2046_DCLK=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">16</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line">XPT2046_DCLK=<span class="number">1</span>;</span><br><span class="line">XPT2046_DCLK=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span>(XPT2046_DOUT)&#123;Data|=(<span class="number">0x8000</span>&gt;&gt;i);&#125; <span class="comment">// 如果得到的数据为1则对应data位置加1</span></span><br><span class="line">&#125;</span><br><span class="line">XPT2046_CS=<span class="number">1</span>; <span class="comment">// 位选信息CS置高，结束程序</span></span><br><span class="line"><span class="keyword">if</span>(Command &amp;<span class="number">0x08</span>)</span><br><span class="line"><span class="keyword">return</span> Data&gt;&gt;<span class="number">8</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">return</span> Data&gt;&gt;<span class="number">4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="4-2-XPT2046-h">4.2 XPT2046.h</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __XPT2046_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __XPT2046_H__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> XPT2046_VBAT0xAC <span class="comment">// 1010 1100</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> XPT2046_AUX0xEC</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> XPT2046_XP0x9C</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> XPT2046_YP0xDC</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> XPT2046_VBAT_120xA4 <span class="comment">// 1010 0100 1111 0111</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> XPT2046_AUX_120xE4</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> XPT2046_XP_120x94</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> XPT2046_YP_120xD4 </span></span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span> <span class="title function_">XPT2046_ReadAD</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Command)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="五、ROM存储器AT24C02">五、ROM存储器AT24C02</h2><h3 id="5-1-AT24C02-c">5.1 AT24C02.c</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;I2C.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> AT24C02_ADDRESS0xA0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  AT24C02写入一个字节</span></span><br><span class="line"><span class="comment">  * @param  WordAddress 要写入字节的地址</span></span><br><span class="line"><span class="comment">  * @param  Data 要写入的数据</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">AT24C02_WriteByte</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> WordAddress,Data)</span></span><br><span class="line">&#123;</span><br><span class="line">I2C_Start();</span><br><span class="line">I2C_SendByte(AT24C02_ADDRESS);</span><br><span class="line">I2C_ReceiveAck();</span><br><span class="line">I2C_SendByte(WordAddress);</span><br><span class="line">I2C_ReceiveAck();</span><br><span class="line">I2C_SendByte(Data);</span><br><span class="line">I2C_ReceiveAck();</span><br><span class="line">I2C_Stop();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  AT24C02读取一个字节</span></span><br><span class="line"><span class="comment">  * @param  WordAddress 要读出字节的地址</span></span><br><span class="line"><span class="comment">  * @retval 读出的数据</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">AT24C02_ReadByte</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> WordAddress)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> Data;</span><br><span class="line">I2C_Start();</span><br><span class="line">I2C_SendByte(AT24C02_ADDRESS);</span><br><span class="line">I2C_ReceiveAck();</span><br><span class="line">I2C_SendByte(WordAddress);</span><br><span class="line">I2C_ReceiveAck();</span><br><span class="line">I2C_Start();</span><br><span class="line">I2C_SendByte(AT24C02_ADDRESS|<span class="number">0x01</span>);</span><br><span class="line">I2C_ReceiveAck();</span><br><span class="line">Data=I2C_ReceiveByte();</span><br><span class="line">I2C_SendAck(<span class="number">1</span>);</span><br><span class="line">I2C_Stop();</span><br><span class="line"><span class="keyword">return</span> Data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="5-2-AT24C02-h">5.2 AT24C02.h</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __AT24C02_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __AT24C02_H__</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">AT24C02_WriteByte</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> WordAddress,Data)</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">AT24C02_ReadByte</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> WordAddress)</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="5-3-I2C-c">5.3 I2C.c</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"></span><br><span class="line">sbit I2C_SCL=P2^<span class="number">1</span>;</span><br><span class="line">sbit I2C_SDA=P2^<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  I2C开始</span></span><br><span class="line"><span class="comment">  * @param  无</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">I2C_Start</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">I2C_SDA=<span class="number">1</span>;</span><br><span class="line">I2C_SCL=<span class="number">1</span>;</span><br><span class="line">I2C_SDA=<span class="number">0</span>;</span><br><span class="line">I2C_SCL=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  I2C停止</span></span><br><span class="line"><span class="comment">  * @param  无</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">I2C_Stop</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">I2C_SDA=<span class="number">0</span>;</span><br><span class="line">I2C_SCL=<span class="number">1</span>;</span><br><span class="line">I2C_SDA=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  I2C发送一个字节</span></span><br><span class="line"><span class="comment">  * @param  Byte 要发送的字节</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">I2C_SendByte</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Byte)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">8</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line">I2C_SDA=Byte&amp;(<span class="number">0x80</span>&gt;&gt;i);</span><br><span class="line">I2C_SCL=<span class="number">1</span>;</span><br><span class="line">I2C_SCL=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  I2C接收一个字节</span></span><br><span class="line"><span class="comment">  * @param  无</span></span><br><span class="line"><span class="comment">  * @retval 接收到的一个字节数据</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">I2C_ReceiveByte</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i,Byte=<span class="number">0x00</span>;</span><br><span class="line">I2C_SDA=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">8</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line">I2C_SCL=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(I2C_SDA)&#123;Byte|=(<span class="number">0x80</span>&gt;&gt;i);&#125;</span><br><span class="line">I2C_SCL=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> Byte;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  I2C发送应答</span></span><br><span class="line"><span class="comment">  * @param  AckBit 应答位，0为应答，1为非应答</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">I2C_SendAck</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> AckBit)</span></span><br><span class="line">&#123;</span><br><span class="line">I2C_SDA=AckBit;</span><br><span class="line">I2C_SCL=<span class="number">1</span>;</span><br><span class="line">I2C_SCL=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  I2C接收应答位</span></span><br><span class="line"><span class="comment">  * @param  无</span></span><br><span class="line"><span class="comment">  * @retval 接收到的应答位，0为应答，1为非应答</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">I2C_ReceiveAck</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> AckBit;</span><br><span class="line">I2C_SDA=<span class="number">1</span>;</span><br><span class="line">I2C_SCL=<span class="number">1</span>;</span><br><span class="line">AckBit=I2C_SDA;</span><br><span class="line">I2C_SCL=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">return</span> AckBit;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="5-4-I2C-h">5.4 I2C.h</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __I2C_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __I2C_H__</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">I2C_Start</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">I2C_Stop</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">I2C_SendByte</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Byte)</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">I2C_ReceiveByte</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">I2C_SendAck</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> AckBit)</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">I2C_ReceiveAck</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> MCU C51 </category>
          
          <category> The finished product of the code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MCU C51 </tag>
            
            <tag> STC89C51 </tag>
            
            <tag> STC89C52 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C51单片机-示例代码成品（1）</title>
      <link href="/2023/09/22/C51%E5%8D%95%E7%89%87%E6%9C%BA-%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%E6%88%90%E5%93%81%EF%BC%881%EF%BC%89/"/>
      <url>/2023/09/22/C51%E5%8D%95%E7%89%87%E6%9C%BA-%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%E6%88%90%E5%93%81%EF%BC%881%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<h1>C51单片机-示例代码成品（1）</h1><h2 id="一、独立按键和LED之间的简单联动">一、独立按键和LED之间的简单联动</h2><h3 id="1-1-简单叙述">1.1 简单叙述</h3><p>编写代码，获取开发板上独立按键状态，并控制LED亮灭。</p><h3 id="1-2-具体实现功能">1.2 具体实现功能</h3><p>通过编写代码，控制C51单片机上面的四个按键，从左往右分别控制LED彩灯进行：</p><ol><li>当按下一次从左往右数的第一个按键，51单片机的8个LED灯将从左往右按照一定时间间隔依次亮灯，然后在从左往右按照同样的时间间隔依次灭灯。</li><li>当按下一次从左往右数的第二个按键，51单片机的8个LED灯将以最左边为低位，进行着二进制的加一计算。</li><li>当按下一次从左往右数的第三个按键，51单片机的8个LED灯将以最左边为低位，进行着二进制的减一计算。</li><li>当按下一次从左往右的第四个按键，51单片机的8个LED灯将全部向右移位一个单位，并且第8个LED灯向右移位将会移到第1个LED灯。</li></ol><h3 id="1-3-实现代码">1.3 实现代码</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;INTRINS.H&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;MATH.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 设定按键的引脚</span></span><br><span class="line"><span class="comment">// 注意：此处key的印脚位置从左到右一依次是P3的1、0、2、3号引脚</span></span><br><span class="line">sbit KEY1=P3^<span class="number">1</span>;</span><br><span class="line">sbit KEY2=P3^<span class="number">0</span>;</span><br><span class="line">sbit KEY3=P3^<span class="number">2</span>;</span><br><span class="line">sbit KEY4=P3^<span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设定LED对应的引脚</span></span><br><span class="line">sbit LED1=P2^<span class="number">0</span>;</span><br><span class="line">sbit LED2=P2^<span class="number">1</span>;</span><br><span class="line">sbit LED3=P2^<span class="number">2</span>;</span><br><span class="line">sbit LED4=P2^<span class="number">3</span>;</span><br><span class="line">sbit LED5=P2^<span class="number">4</span>;</span><br><span class="line">sbit LED6=P2^<span class="number">5</span>;</span><br><span class="line">sbit LED7=P2^<span class="number">6</span>;</span><br><span class="line">sbit LED8=P2^<span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义每次按下key后的状态</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> KEY1_PRESS1</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> KEY2_PRESS2</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> KEY3_PRESS3</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> KEY4_PRESS4</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> KEY_UNPRESS0</span></span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> num;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设定延迟函数，延迟的时间为(10*us_10)ns</span></span><br><span class="line"><span class="comment">// 如果输入的值为20 000 00，则为延时20ms </span></span><br><span class="line"><span class="type">void</span> <span class="title function_">delay</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> us_10)</span>&#123;</span><br><span class="line"><span class="keyword">while</span>(us_10--);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设定的扫描按键按下的函数</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">key_scan</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> mode)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">static</span> <span class="type">unsigned</span> <span class="type">char</span> key=<span class="number">1</span>; <span class="comment">// 设置static的key，全局变量</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(mode)key=<span class="number">1</span>; </span><br><span class="line">  <span class="comment">// 设定检测按键触发模式，如果mode=1则可以长按进行多次检测，如果mode=0则只能按下进行一次检测</span></span><br><span class="line"><span class="keyword">if</span>(key==<span class="number">1</span>&amp;&amp;(KEY1==<span class="number">0</span>||KEY2==<span class="number">0</span>||KEY3==<span class="number">0</span>||KEY4==<span class="number">0</span>)) <span class="comment">// </span></span><br><span class="line">&#123;</span><br><span class="line">delay(<span class="number">2000</span>); <span class="comment">// 进行延迟20ms</span></span><br><span class="line">key=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span>(KEY1==<span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> KEY1_PRESS;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(KEY2==<span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> KEY2_PRESS;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(KEY3==<span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> KEY3_PRESS;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(KEY4==<span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> KEY4_PRESS;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(KEY1==<span class="number">1</span>&amp;&amp;KEY2==<span class="number">1</span>&amp;&amp;KEY3==<span class="number">1</span>&amp;&amp;KEY4==<span class="number">1</span>)<span class="comment">// 如果按键没有按下时将会重置key的值</span></span><br><span class="line">&#123;</span><br><span class="line">key=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> KEY_UNPRESS;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设定的亮灯模式的函数</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">light_way</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> way)</span>&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i;</span><br><span class="line"><span class="keyword">if</span> (way == <span class="number">1</span>) &#123; <span class="comment">// 方式1，进行从左到右亮灯，然后从左到右灭灯</span></span><br><span class="line">num = <span class="number">0</span>;</span><br><span class="line">P2 = ~num;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++)&#123;</span><br><span class="line">      num = num &lt;&lt; <span class="number">1</span>;</span><br><span class="line">      num++;</span><br><span class="line">P2 = ~num;</span><br><span class="line">delay(<span class="number">10000</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++)&#123;</span><br><span class="line">num = num &lt;&lt; <span class="number">1</span>;</span><br><span class="line">P2 = ~num;</span><br><span class="line">delay(<span class="number">10000</span>);</span><br><span class="line">&#125;</span><br><span class="line">num = <span class="number">0</span>;</span><br><span class="line">P2 = ~num;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (way == <span class="number">2</span>) &#123; <span class="comment">// 方式2，进行二进制的加一</span></span><br><span class="line">num++;</span><br><span class="line">P2 = ~num;</span><br><span class="line">delay(<span class="number">30000</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (way == <span class="number">3</span>) &#123; <span class="comment">// 方式3，进行二进制的减一</span></span><br><span class="line">num--;</span><br><span class="line">P2 = ~num;</span><br><span class="line">delay(<span class="number">30000</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (way == <span class="number">4</span>) &#123; <span class="comment">// 方式四，进行LED数量不变的右移</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> isIn;</span><br><span class="line">isIn = num &gt;= <span class="number">128</span> ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">num *= <span class="number">2</span>;</span><br><span class="line">num += isIn; <span class="comment">// 0000 0011 -&gt; 1000 0001 -&gt; 1100 0000</span></span><br><span class="line">P2 = ~num;</span><br><span class="line">delay(<span class="number">30000</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">num = <span class="number">0</span>;</span><br><span class="line">P2 = ~num;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">  &#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> key = key_scan(<span class="number">1</span>);</span><br><span class="line">light_way(key);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1-4-代码功能描述和解读">1.4 代码功能描述和解读</h3><ol><li>延时函数<code>delay</code>，主要是利用MCU上面晶振进行设定，如果输入为1，则延迟10us；如果输入为10，则延迟100us，如果输入为100，则延迟1ms。</li><li>按键检测函数<code>key_scan</code>，里面只有一个输入参数<code>mode</code>。关于这个输入参数，下面将会进行详细讲解：<ul><li>如果输入为1，那么在每次触发函数时，将会只执行<code>if(key==1&amp;&amp;(KEY1==0||KEY2==0||KEY3==0||KEY4==0)) </code>里面的语句，由于里面那些语句会让key置零无效，但是我们输入的mode会使得key在执行第二个<code>if</code>前已经被第一个<code>if</code>设为有效的状态1了。这就会出现一种情况，如果一直按住一个按键不松手，如果我输入的参数<code>mode</code>为1，那么我这个函数就会不断返回那个按键对应的参数。</li><li>如果输入为0，那么在每次触发函数时，执行了一次<code>if(key==1&amp;&amp;(KEY1==0||KEY2==0||KEY3==0||KEY4==0)) </code>里面的语句后将会对<code>key</code>进行置零，那么我下次触发这个函数时，如果此时还是按住某个按键进行第二次触发该按键检测函数时，它就不会返回按下按键对应的参数，而是识别为未按下按键。而只有松开四个按键，即满足<code>else if(KEY1==1&amp;&amp;KEY2==1&amp;&amp;KEY3==1&amp;&amp;KEY4==1)</code>条件时，才会将<code>key</code>重新设置为有效的1。</li><li>简而言之，如果输入参数<code>mode</code>为1，此时一直长按某个按键不松手，那么按键检测函数将会<mark class="hl-label blue">一直返回</mark> 这个按键对应设置的返回值；如果输入参数<code>mode</code>为0，此时一直长按某个按键不松手，那么按键检测函数<mark class="hl-label blue">只会返回一次</mark> 该按键对应的返回值，只有将所有按键的状态还原到都没有被按的情况下，才能使得下次触发按键有效。</li></ul></li><li>亮灯函数<code>light_way</code>，里面只有一个输入参数<code>way</code>。不同的输入会触发其他条件：<ul><li>如果输入参数<code>way=1</code>:将会对num通过移位的方法，然后再让P2取反实现灯光从左到右亮灯，然后从左到右灭灯。</li><li>如果输入参数<code>way=2</code>：将对num进行简单的加一，使得P2像二进制递增一样移动。</li><li>如果输入参数<code>way=3</code>：将对num进行简单的减一，使得P2像二进制递减一样移动。</li><li>如果输入参数<code>way=4</code>：对num进行右移，并且记录右移出来最高位的数是否为1，如果为1则需要在右移后在最低位加一，从而保证右移后所亮灯数量不变。</li></ul></li></ol><h2 id="二、流水灯与蜂鸣器的简单联动">二、流水灯与蜂鸣器的简单联动</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX51.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义每次按下key后的状态，对应从左到右四个独立按键</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> KEY1_PRESS1</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> KEY2_PRESS2</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> KEY3_PRESS3</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> KEY4_PRESS4</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> KEY_UNPRESS0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 说明蜂鸣器的引脚、四个按键的引脚</span></span><br><span class="line">sbit Buzzer = P2^<span class="number">5</span>;</span><br><span class="line">sbit KEY1=P3^<span class="number">1</span>;</span><br><span class="line">sbit KEY2=P3^<span class="number">0</span>;</span><br><span class="line">sbit KEY3=P3^<span class="number">2</span>;</span><br><span class="line">sbit KEY4=P3^<span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 设定的蜂鸣器音乐，简易乐谱</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span> code Music[] = &#123;<span class="number">5024</span>, <span class="number">2014</span>, <span class="number">1014</span>, <span class="number">5024</span>, <span class="number">1012</span>, <span class="number">2012</span>, <span class="number">3012</span>, <span class="number">2012</span>, <span class="number">1012</span>, <span class="number">2012</span>,</span><br><span class="line">                              <span class="number">5024</span>, <span class="number">2014</span>, <span class="number">1014</span>, <span class="number">5024</span>, <span class="number">1012</span>, <span class="number">2012</span>, <span class="number">3012</span>, <span class="number">2012</span>, <span class="number">1012</span>, <span class="number">2012</span>,</span><br><span class="line">                              <span class="number">5024</span>, <span class="number">2014</span>, <span class="number">1014</span>, <span class="number">5024</span>, <span class="number">1012</span>, <span class="number">2012</span>, <span class="number">3012</span>, <span class="number">2012</span>, <span class="number">1012</span>, <span class="number">2012</span>,</span><br><span class="line">                              <span class="number">5024</span>, <span class="number">2014</span>, <span class="number">1014</span>, <span class="number">5024</span>, </span><br><span class="line">                              <span class="number">1024</span>, <span class="number">3022</span>, <span class="number">5022</span>, <span class="number">6024</span>, <span class="number">5024</span>, <span class="number">1024</span>, <span class="number">2022</span>, <span class="number">2022</span>, <span class="number">1024</span>, <span class="number">3024</span>,</span><br><span class="line">                              <span class="number">3022</span>, <span class="number">5022</span>, <span class="number">6022</span>, <span class="number">7022</span>, <span class="number">6022</span>, <span class="number">5022</span>, <span class="number">3022</span>, <span class="number">2022</span>, <span class="number">2022</span>, <span class="number">1022</span>, <span class="number">2024</span>, <span class="number">2024</span>, <span class="number">3024</span>, <span class="number">1024</span>,</span><br><span class="line">                              <span class="number">1024</span>, <span class="number">3022</span>, <span class="number">5022</span>, <span class="number">6024</span>, <span class="number">5024</span>, <span class="number">1024</span>, <span class="number">2022</span>, <span class="number">2022</span>, <span class="number">1024</span>, <span class="number">3024</span>,</span><br><span class="line">                              <span class="number">2024</span>, <span class="number">3024</span>, <span class="number">5024</span>, <span class="number">6024</span>, <span class="number">1014</span>, <span class="number">2014</span>, <span class="number">3014</span>, <span class="number">2014</span>, <span class="number">1014</span>, <span class="number">6024</span>, <span class="number">1014</span>, <span class="number">2014</span>, <span class="number">2014</span>, <span class="number">1014</span>, <span class="number">1014</span>,</span><br><span class="line">                              <span class="number">6024</span>, <span class="number">1014</span>, <span class="number">2014</span>, <span class="number">2014</span>, <span class="number">1014</span>, <span class="number">1014</span>,</span><br><span class="line">                              <span class="number">914</span>, <span class="number">7014</span>, <span class="number">6014</span>, <span class="number">5014</span>, <span class="number">914</span>, <span class="number">7014</span>, <span class="number">6014</span>, <span class="number">7012</span>, <span class="number">6012</span>, <span class="number">5012</span>, <span class="number">3012</span>, </span><br><span class="line">                              <span class="number">5024</span>, <span class="number">6024</span>, <span class="number">1014</span>, <span class="number">2014</span>, <span class="number">3014</span>, <span class="number">2014</span>, <span class="number">3014</span>, <span class="number">2014</span>, <span class="number">3014</span>, <span class="number">2014</span>, <span class="number">3014</span>, <span class="number">5014</span>, <span class="number">2014</span>, <span class="number">3014</span>, <span class="number">1014</span>, <span class="number">6024</span>, <span class="number">1014</span>, <span class="number">2014</span>, <span class="number">1014</span>&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span> code Music_little_star[] = &#123;<span class="number">1024</span>, <span class="number">1024</span>, <span class="number">5024</span>, <span class="number">5024</span>, <span class="number">6024</span>, <span class="number">6024</span>, <span class="number">5028</span>, <span class="number">4024</span>, <span class="number">4024</span>, <span class="number">3024</span>, <span class="number">3024</span>, <span class="number">2024</span>, <span class="number">2024</span>, <span class="number">1028</span>, </span><br><span class="line">                                       <span class="number">5024</span>, <span class="number">5024</span>, <span class="number">4024</span>, <span class="number">4024</span>, <span class="number">3024</span>, <span class="number">3024</span>, <span class="number">2028</span>, <span class="number">5024</span>, <span class="number">5024</span>, <span class="number">4024</span>, <span class="number">4024</span>, <span class="number">3024</span>, <span class="number">3024</span>, <span class="number">2028</span>,</span><br><span class="line">                                       <span class="number">1024</span>, <span class="number">1024</span>, <span class="number">5024</span>, <span class="number">5024</span>, <span class="number">6024</span>, <span class="number">6024</span>, <span class="number">5028</span>, <span class="number">4024</span>, <span class="number">4024</span>, <span class="number">3024</span>, <span class="number">3024</span>, <span class="number">2024</span>, <span class="number">2024</span>, <span class="number">1028</span>,</span><br><span class="line">                                       <span class="number">1014</span>, <span class="number">1014</span>, <span class="number">5014</span>, <span class="number">5014</span>, <span class="number">6014</span>, <span class="number">6014</span>, <span class="number">5018</span>, <span class="number">4014</span>, <span class="number">4014</span>, <span class="number">3014</span>, <span class="number">3014</span>, <span class="number">2014</span>, <span class="number">2014</span>, <span class="number">1018</span>,</span><br><span class="line">                                       <span class="number">5014</span>, <span class="number">5014</span>, <span class="number">4014</span>, <span class="number">4014</span>, <span class="number">3014</span>, <span class="number">3014</span>, <span class="number">2018</span>, <span class="number">5014</span>, <span class="number">5014</span>, <span class="number">4014</span>, <span class="number">4014</span>, <span class="number">3014</span>, <span class="number">3014</span>, <span class="number">2018</span>,</span><br><span class="line">                                       <span class="number">1014</span>, <span class="number">1014</span>, <span class="number">5014</span>, <span class="number">5014</span>, <span class="number">6014</span>, <span class="number">6014</span>, <span class="number">5018</span>, <span class="number">4014</span>, <span class="number">4014</span>, <span class="number">3014</span>, <span class="number">3014</span>, <span class="number">2014</span>, <span class="number">2014</span>, <span class="number">918</span>&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">******************************************************************************</span></span><br><span class="line"><span class="comment">* 函 数 名      : delay</span></span><br><span class="line"><span class="comment">* 函数功能    : 延时函数，ten_us=1时，大约延时10us，有一定的使用误差，这里测试的单片机的晶振频率为11.0592MHz</span></span><br><span class="line"><span class="comment">* 输    入      : ten_us</span></span><br><span class="line"><span class="comment">* 输    出      : 无</span></span><br><span class="line"><span class="comment">******************************************************************************</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">delay</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> ten_us)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span>(ten_us--);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">******************************************************************************</span></span><br><span class="line"><span class="comment">* 函 数 名       : time0_init</span></span><br><span class="line"><span class="comment">* 函数功能 : 定时器0中断配置函数，通过设置TH和TL即可确定定时时间，这里设定的是1ms</span></span><br><span class="line"><span class="comment">* 输    入       : 无</span></span><br><span class="line"><span class="comment">* 输    出     : 无</span></span><br><span class="line"><span class="comment">******************************************************************************</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">time0_init</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">TMOD|=<span class="number">0X01</span>;<span class="comment">// 选择为定时器0模式，工作方式1</span></span><br><span class="line">TH0=<span class="number">0XFC</span>;<span class="comment">// 给分别给定时器TH0和TL0赋初值，定时1ms</span></span><br><span class="line">TL0=<span class="number">0x66</span> ;</span><br><span class="line">TF0 = <span class="number">0</span>; <span class="comment">// 清除TF0标志</span></span><br><span class="line">ET0=<span class="number">1</span>; <span class="comment">// 打开定时器0中断允许</span></span><br><span class="line">EA=<span class="number">1</span>; <span class="comment">// 打开总中断</span></span><br><span class="line">TR0=<span class="number">1</span>; <span class="comment">// 打开定时器，定时器0开始计时</span></span><br><span class="line">PT0 = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">******************************************************************************</span></span><br><span class="line"><span class="comment">* 函 数 名       : key_scan</span></span><br><span class="line"><span class="comment">* 函数功能     : 检测独立按键是否按下，按下则返回对应键值</span></span><br><span class="line"><span class="comment">* 输    入       : mode=0：单次扫描按键；mode=1：连续扫描按键</span></span><br><span class="line"><span class="comment">* 输    出     : KEY1_PRESS：K1按下</span></span><br><span class="line"><span class="comment"> KEY2_PRESS：K2按下</span></span><br><span class="line"><span class="comment"> KEY3_PRESS：K3按下</span></span><br><span class="line"><span class="comment"> KEY4_PRESS：K4按下</span></span><br><span class="line"><span class="comment"> KEY_UNPRESS：未有按键按下</span></span><br><span class="line"><span class="comment">******************************************************************************</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">key_scan</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> mode)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">static</span> <span class="type">unsigned</span> <span class="type">char</span> key=<span class="number">1</span>; <span class="comment">// 设置static的key，全局变量</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(mode)key=<span class="number">1</span>; </span><br><span class="line"><span class="comment">// 如果mode输入1，则会让key一直保持1，这样就只会进行进入下面的if语句，不会进入else if语句</span></span><br><span class="line">  <span class="comment">// 设定检测按键触发模式，如果mode=1则可以长按进行多次检测，如果mode=0则只能按下无论时间长短只能进行一次检测</span></span><br><span class="line"><span class="keyword">if</span>(key==<span class="number">1</span>&amp;&amp;(KEY1==<span class="number">0</span>||KEY2==<span class="number">0</span>||KEY3==<span class="number">0</span>||KEY4==<span class="number">0</span>))&#123;</span><br><span class="line">delay(<span class="number">2000</span>); <span class="comment">// 进行延迟20ms，消抖</span></span><br><span class="line">key=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span>(KEY1==<span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> KEY1_PRESS;  <span class="comment">// 返回从左往右数的第一个按键的数值1</span></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(KEY2==<span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> KEY2_PRESS;  <span class="comment">// 返回从左往右数的第二个按键的数值2</span></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(KEY3==<span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> KEY3_PRESS;  <span class="comment">// 返回从左往右数的第三个按键的数值3</span></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(KEY4==<span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> KEY4_PRESS;<span class="comment">// 返回从左往右数的第四个按键的数值4</span></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(KEY1==<span class="number">1</span>&amp;&amp;KEY2==<span class="number">1</span>&amp;&amp;KEY3==<span class="number">1</span>&amp;&amp;KEY4==<span class="number">1</span>)&#123;</span><br><span class="line"><span class="comment">// 如果能来到这一句，说明输入的mode一定为0且key为0</span></span><br><span class="line"><span class="comment">// 这么就说明此时已经按下四个独立按键中的其中一个</span></span><br><span class="line"><span class="comment">// 如果现在按住该按键未松手，那么即使来到key_scan这个函数里面，也不会进行任何按键检测，因为此时key为0</span></span><br><span class="line"><span class="comment">// 只有按键松开时才会来到这个else if语句，此时将会重置key的值为1</span></span><br><span class="line">key=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 如果都没有触发，说明此时没有扫描到按键，返回0</span></span><br><span class="line"><span class="keyword">return</span> KEY_UNPRESS;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">******************************************************************************</span></span><br><span class="line"><span class="comment">* 函 数 名       : buzzer_time</span></span><br><span class="line"><span class="comment">* 函数功能 : 蜂鸣器震动函数，按照一定时间和频率震动</span></span><br><span class="line"><span class="comment">* 输    入       : times：需要震动的时间</span></span><br><span class="line"><span class="comment"> delay_time： 需要震动的频率的周期</span></span><br><span class="line"><span class="comment">* 输    出     : 无</span></span><br><span class="line"><span class="comment">******************************************************************************</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">buzzer_time</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> times, <span class="type">unsigned</span> <span class="type">int</span> delay_time)</span> &#123;</span><br><span class="line"><span class="comment">// 如果蜂鸣器需要进行500ms的1000Hz震动，则需要</span></span><br><span class="line"><span class="comment">// 输入times的值为5000，delay_time输入为100,因为delay函数是延迟10us的</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span> i;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; (times / delay_time) * <span class="number">10</span> * <span class="number">2</span>; i++) &#123; <span class="comment">// 那么这里就要计时500 * 2次</span></span><br><span class="line">Buzzer = !Buzzer;</span><br><span class="line">delay(delay_time / <span class="number">2</span>); <span class="comment">// 每隔500us翻转一次，那么周期就是1000us，即1ms</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">******************************************************************************</span></span><br><span class="line"><span class="comment">* 函 数 名       : sound</span></span><br><span class="line"><span class="comment">* 函数功能 : 控制蜂鸣器进行奏乐发声的函数</span></span><br><span class="line"><span class="comment">* 输    入       : way：一般为3位数，高2位代表音色，低位代表音调（低位值取1、2、4分别代表高音、中音、低音）</span></span><br><span class="line"><span class="comment"> time_way： 选择一个音调发声的基本时间，简而言之就是发一个声音需要的时间,也可以通过修改它的值从而使得音乐节奏的快慢改变</span></span><br><span class="line"><span class="comment">* 输    出     : 无</span></span><br><span class="line"><span class="comment">******************************************************************************</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"> <span class="comment">// 输入的way高位表示音调，低位表示音高</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">sound</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> way, <span class="type">unsigned</span> <span class="type">char</span> time_way)</span> &#123;</span><br><span class="line"><span class="comment">// 需要进行延时的时间数据</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span> time = <span class="number">625</span> * time_way;</span><br><span class="line"><span class="keyword">if</span> (time_way == <span class="number">9</span>) &#123; <span class="comment">// 由于设置timeway最多显示9，所以只能将特殊情况进行处理</span></span><br><span class="line">time = <span class="number">10000</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (time_way == <span class="number">7</span>) &#123;</span><br><span class="line">time = <span class="number">7500</span>; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">time_way一般取值和对应的延迟时间</span></span><br><span class="line"><span class="comment">1：62.5ms</span></span><br><span class="line"><span class="comment">2：125ms</span></span><br><span class="line"><span class="comment">4：250ms  这是正常四分之一拍的时间</span></span><br><span class="line"><span class="comment">6：325ms</span></span><br><span class="line"><span class="comment">8: 500ms</span></span><br><span class="line"><span class="comment">7：750ms</span></span><br><span class="line"><span class="comment">9：1000ms</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 判断way的高位，从而得知其音色，再通过低位的判断得到音调高低，从而调整蜂鸣器震动的频率</span></span><br><span class="line"><span class="keyword">switch</span>(way / <span class="number">10</span>) &#123;</span><br><span class="line"><span class="comment">// 这里case 9设置的是1的高高音，本来设计的时候只选择中低高3个音调段，但是由于本次音频中需要使用到1个高高音，所以就独立出来了</span></span><br><span class="line"><span class="keyword">case</span> <span class="number">9</span>: buzzer_time(time, <span class="number">96</span> * (way % <span class="number">10</span>) / <span class="number">2</span>); <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">10</span>: buzzer_time(time, <span class="number">96</span> * (way % <span class="number">10</span>)); <span class="keyword">break</span>; <span class="comment">// 1</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">11</span>: buzzer_time(time, <span class="number">90</span> * (way % <span class="number">10</span>)); <span class="keyword">break</span>; <span class="comment">// #1</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">20</span>: buzzer_time(time, <span class="number">85</span> * (way % <span class="number">10</span>)); <span class="keyword">break</span>; <span class="comment">// 2</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">21</span>: buzzer_time(time, <span class="number">81</span> * (way % <span class="number">10</span>)); <span class="keyword">break</span>; <span class="comment">// #2</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">30</span>: buzzer_time(time, <span class="number">76</span> * (way % <span class="number">10</span>)); <span class="keyword">break</span>; <span class="comment">// 3</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">40</span>: buzzer_time(time, <span class="number">72</span> * (way % <span class="number">10</span>)); <span class="keyword">break</span>; <span class="comment">// 4</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">41</span>: buzzer_time(time, <span class="number">68</span> * (way % <span class="number">10</span>)); <span class="keyword">break</span>; <span class="comment">// #4</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">50</span>: buzzer_time(time, <span class="number">64</span> * (way % <span class="number">10</span>)); <span class="keyword">break</span>; <span class="comment">// 5</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">51</span>: buzzer_time(time, <span class="number">60</span> * (way % <span class="number">10</span>)); <span class="keyword">break</span>; <span class="comment">// #5</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">60</span>: buzzer_time(time, <span class="number">57</span> * (way % <span class="number">10</span>)); <span class="keyword">break</span>; <span class="comment">// 6</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">61</span>: buzzer_time(time, <span class="number">54</span> * (way % <span class="number">10</span>)); <span class="keyword">break</span>; <span class="comment">// #6</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">70</span>: buzzer_time(time, <span class="number">51</span> * (way % <span class="number">10</span>)); <span class="keyword">break</span>; <span class="comment">// 7</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">0</span>: delay(time * <span class="number">10</span>); <span class="keyword">break</span>; <span class="comment">// 延时</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">******************************************************************************</span></span><br><span class="line"><span class="comment">* 函 数 名       : music</span></span><br><span class="line"><span class="comment">* 函数功能 : 操作音乐播放的函数</span></span><br><span class="line"><span class="comment">* 输    入       : speed：音乐播放速率的选择，</span></span><br><span class="line"><span class="comment">如果输入值为2，则会以正常速度播放；</span></span><br><span class="line"><span class="comment">如果输入值为1，则会以较快速度播放；</span></span><br><span class="line"><span class="comment">如果输入值为4，则会以较慢速度播放。</span></span><br><span class="line"><span class="comment">* 输    出     : 无</span></span><br><span class="line"><span class="comment">******************************************************************************</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">music</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> speed)</span> &#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> m;</span><br><span class="line"><span class="keyword">for</span> (m = <span class="number">0</span>; m &lt; <span class="number">99</span>; m++) &#123; <span class="comment">// 简单的遍历乐谱，将乐谱里面的数据传入sound函数处理</span></span><br><span class="line">sound(Music[m]/<span class="number">10</span>, Music[m]%<span class="number">10</span>/<span class="number">2</span> * speed);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">music_1</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> speed)</span> &#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> m;</span><br><span class="line"><span class="keyword">for</span> (m = <span class="number">0</span>; m &lt; <span class="number">84</span>; m++) &#123; <span class="comment">// 简单的遍历乐谱，将乐谱里面的数据传入sound函数处理</span></span><br><span class="line">sound(Music_little_star[m]/<span class="number">10</span>, Music_little_star[m]%<span class="number">10</span>/<span class="number">2</span> * speed);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个全局变量n，与音乐播放时LED闪烁位置有关</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> n;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">******************************************************************************</span></span><br><span class="line"><span class="comment">* 函 数 名       : music_led_light</span></span><br><span class="line"><span class="comment">* 函数功能 : 音乐播放时LED进行闪烁的函数</span></span><br><span class="line"><span class="comment">* 输    入       : 无</span></span><br><span class="line"><span class="comment">* 输    出     : 无</span></span><br><span class="line"><span class="comment">******************************************************************************</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">music_led_light</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="comment">// 音乐播放时进行闪烁，为了使其位置随机，设置了关于n的四阶的关系进行移位</span></span><br><span class="line">P2 -= (<span class="number">0x01</span> &lt;&lt; (n * n * n * n* n* <span class="number">7</span> + n * n * n * n* <span class="number">5</span> + n * n * n* <span class="number">3</span>)%<span class="number">8</span>);</span><br><span class="line"><span class="keyword">if</span> (n % <span class="number">10</span> == <span class="number">0</span>) &#123; <span class="comment">// music_led_light函数每进行10次就要重置一次P2</span></span><br><span class="line">P2 = <span class="number">0xFF</span>;</span><br><span class="line">&#125;</span><br><span class="line">n++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">******************************************************************************</span></span><br><span class="line"><span class="comment">* 函 数 名       : time0</span></span><br><span class="line"><span class="comment">* 函数功能 : 定时器中断处理函数，每定时500ms进行一次闪烁</span></span><br><span class="line"><span class="comment">* 输    入       : 无</span></span><br><span class="line"><span class="comment">* 输    出     : 无</span></span><br><span class="line"><span class="comment">******************************************************************************</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">time0</span><span class="params">()</span> interrupt 1 <span class="comment">//定时器0中断函数</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">static</span> <span class="type">unsigned</span> <span class="type">int</span> i;<span class="comment">//定义静态变量i</span></span><br><span class="line">TH0=<span class="number">0XFC</span>;<span class="comment">//给定时器赋初值，定时1ms</span></span><br><span class="line">TL0=<span class="number">0X66</span>;</span><br><span class="line">i++;</span><br><span class="line"><span class="keyword">if</span>(i==<span class="number">500</span>)</span><br><span class="line">&#123;</span><br><span class="line">i=<span class="number">0</span>;</span><br><span class="line">music_led_light();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">******************************************************************************</span></span><br><span class="line"><span class="comment">* 函 数 名       : light_play</span></span><br><span class="line"><span class="comment">* 函数功能 : 控制led进行跑马灯闪烁以及跑马灯速率</span></span><br><span class="line"><span class="comment">* 输    入       : way：输入1、2、3、4、5、6分别对应6种跑马灯模式，</span></span><br><span class="line"><span class="comment"> vote: 输入1~12分别对应12档不同的速率</span></span><br><span class="line"><span class="comment">* 输    出     : 无</span></span><br><span class="line"><span class="comment">******************************************************************************</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">light_play</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> way, <span class="type">unsigned</span> <span class="type">char</span> vote)</span>&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i;</span><br><span class="line"><span class="keyword">if</span> (way == <span class="number">1</span>) &#123; <span class="comment">// 方式1</span></span><br><span class="line">P2 = <span class="number">0xFF</span>;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++)&#123;</span><br><span class="line">P2 -= <span class="number">0x01</span> &lt;&lt; i;</span><br><span class="line">delay(<span class="number">5000</span> * vote);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++)&#123;</span><br><span class="line">P2 += <span class="number">0x01</span> &lt;&lt; i;</span><br><span class="line">delay(<span class="number">5000</span> * vote);</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (way == <span class="number">2</span>) &#123; <span class="comment">// 方式2，</span></span><br><span class="line">P2 = <span class="number">0xFF</span>;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)&#123;</span><br><span class="line">P2 -= (<span class="number">0x01</span> &lt;&lt; i) + (<span class="number">0x80</span> &gt;&gt; i);</span><br><span class="line">delay(<span class="number">5000</span> * vote);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)&#123;</span><br><span class="line">P2 += (<span class="number">0x01</span> &lt;&lt; i) + (<span class="number">0x80</span> &gt;&gt; i);</span><br><span class="line">delay(<span class="number">5000</span> * vote);</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (way == <span class="number">3</span>) &#123; <span class="comment">// 方式3</span></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++)&#123;</span><br><span class="line">P2 -= (<span class="number">0x07</span> &lt;&lt; i) | (<span class="number">0xE0</span> &gt;&gt; i);</span><br><span class="line">delay(<span class="number">5000</span> * vote);</span><br><span class="line">P2 = <span class="number">0xFF</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (way == <span class="number">4</span>) &#123; <span class="comment">// 方式4</span></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)&#123;</span><br><span class="line">P2 = <span class="number">0x55</span> + (<span class="number">0x02</span> &lt;&lt; i);</span><br><span class="line">delay(<span class="number">5000</span> * vote);</span><br><span class="line">P2 = ~P2;</span><br><span class="line">delay(<span class="number">5000</span> * vote);</span><br><span class="line">P2 = P2 &gt;&gt; <span class="number">1</span>;</span><br><span class="line">delay(<span class="number">5000</span> * vote);</span><br><span class="line">P2 = ~P2;</span><br><span class="line">delay(<span class="number">5000</span> * vote);</span><br><span class="line">&#125;</span><br><span class="line">P2 = <span class="number">0xFF</span>;</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (way == <span class="number">5</span>) &#123; <span class="comment">// 方式5</span></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++)&#123;</span><br><span class="line">P2 = (<span class="number">0x03</span> &lt;&lt; i);</span><br><span class="line">delay(<span class="number">5000</span> * vote);</span><br><span class="line">P2 = (<span class="number">0xC0</span> &gt;&gt; i);</span><br><span class="line">delay(<span class="number">5000</span> * vote);</span><br><span class="line">&#125;</span><br><span class="line">P2 = <span class="number">0xFF</span>;</span><br><span class="line">delay(<span class="number">5000</span> * vote);</span><br><span class="line">P2 = <span class="number">0xFF</span>;</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (way == <span class="number">6</span>) &#123; <span class="comment">// 方式6</span></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++)&#123;</span><br><span class="line">P2 = (<span class="number">0xF8</span> &lt;&lt; i);</span><br><span class="line">delay(<span class="number">5000</span> * vote);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++)&#123;</span><br><span class="line">P2 += (<span class="number">0x01</span> &lt;&lt; i);</span><br><span class="line">delay(<span class="number">5000</span> * vote);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++)&#123;</span><br><span class="line">P2 = (<span class="number">0x1F</span> &gt;&gt; i);</span><br><span class="line">delay(<span class="number">5000</span> * vote);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++)&#123;</span><br><span class="line">P2 += (<span class="number">0x80</span> &gt;&gt; i);</span><br><span class="line">delay(<span class="number">5000</span> * vote);</span><br><span class="line">&#125;</span><br><span class="line">delay(<span class="number">5000</span> * vote);</span><br><span class="line">P2 = <span class="number">0xFF</span>;</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (way == <span class="number">0</span>) &#123; <span class="comment">// 方式0,先重置n，然后激活定时器，再进行音乐播放，播放结束关闭定时器</span></span><br><span class="line">n = <span class="number">0</span>;</span><br><span class="line">P2 = <span class="number">0xFF</span>;</span><br><span class="line"><span class="keyword">if</span> (vote &lt;= <span class="number">2</span>) &#123; <span class="comment">// 如果跑马灯是前面的两种模式，那么将会播放音乐时闪烁</span></span><br><span class="line">time0_init();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (vote &amp; <span class="number">0x01</span>) &#123; <span class="comment">// 跑马灯模式的单双数决定播放音乐的类型</span></span><br><span class="line">music_1(vote == <span class="number">3</span> ? <span class="number">2</span> : <span class="number">4</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">music(vote == <span class="number">4</span> ? <span class="number">2</span> : <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">P2 = <span class="number">0xFF</span>;</span><br><span class="line">TR0 = <span class="number">0</span>;</span><br><span class="line">n = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*******************************************************************************</span></span><br><span class="line"><span class="comment">* 函 数 名       : main</span></span><br><span class="line"><span class="comment">* 函数功能 : 主函数</span></span><br><span class="line"><span class="comment">* 输    入       : 无</span></span><br><span class="line"><span class="comment">* 输    出     : 无</span></span><br><span class="line"><span class="comment">*******************************************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> vote = <span class="number">1</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> way = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>) &#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> key_push = key_scan(<span class="number">0</span>); <span class="comment">// 进行按键扫描</span></span><br><span class="line"><span class="keyword">if</span> (key_push == <span class="number">4</span>) &#123;</span><br><span class="line">light_play(<span class="number">0</span>, way); <span class="comment">// 如果触发第四个按键，将会播放音乐,会根据way的不同来确定播放的方式</span></span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span> (key_push != <span class="number">0</span>)&#123;</span><br><span class="line"><span class="keyword">if</span> (key_push == <span class="number">1</span>) &#123; <span class="comment">// 如果触发第一个按键，将会改变跑马灯的显示方式</span></span><br><span class="line">way = way == <span class="number">6</span> ? <span class="number">1</span> : way + <span class="number">1</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (key_push == <span class="number">2</span>)&#123; <span class="comment">// 如果触发第二个按键，将会改变跑马灯的速率</span></span><br><span class="line">vote = vote == <span class="number">12</span> ? <span class="number">1</span> : vote + <span class="number">1</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (key_push == <span class="number">3</span>)&#123; <span class="comment">// 如果触发第三个按键，将会将跑马灯的显示方式和速率都重置为初始状态的第一档</span></span><br><span class="line">vote = <span class="number">1</span>;</span><br><span class="line">way = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">light_play(way, vote);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="三、时钟中断与数码管显示的简单联动">三、时钟中断与数码管显示的简单联动</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义每次按下key后的状态，对应从左到右四个独立按键</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> KEY1_PRESS1</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> KEY2_PRESS2</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> KEY3_PRESS3</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> KEY4_PRESS4</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> KEY_UNPRESS0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 说明蜂鸣器的引脚、四个按键的引脚</span></span><br><span class="line">sbit Buzzer = P2^<span class="number">5</span>;</span><br><span class="line">sbit KEY1=P3^<span class="number">1</span>;</span><br><span class="line">sbit KEY2=P3^<span class="number">0</span>;</span><br><span class="line">sbit KEY3=P3^<span class="number">2</span>;</span><br><span class="line">sbit KEY4=P3^<span class="number">3</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> digit = <span class="number">0</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> count = <span class="number">99</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> count_flag = <span class="number">0</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span> buzzer_f = <span class="number">63628</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> NixieTable[] = &#123;<span class="number">0x3F</span>, <span class="number">0x06</span>, <span class="number">0x5B</span>, <span class="number">0x4F</span>, <span class="number">0x66</span>, <span class="number">0x6D</span>, <span class="number">0x7D</span>, <span class="number">0x07</span>, <span class="number">0x7F</span>, <span class="number">0x6F</span>&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">delay_10us</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> ten_us)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span>(ten_us--);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">light</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> location, <span class="type">unsigned</span> <span class="type">char</span> number)</span> &#123;</span><br><span class="line">  <span class="keyword">switch</span>(location) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>: P2_4=<span class="number">0</span>; P2_3=<span class="number">0</span>; P2_2=<span class="number">0</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>: P2_4=<span class="number">0</span>; P2_3=<span class="number">0</span>; P2_2=<span class="number">1</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>: P2_4=<span class="number">0</span>; P2_3=<span class="number">1</span>; P2_2=<span class="number">0</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">4</span>: P2_4=<span class="number">0</span>; P2_3=<span class="number">1</span>; P2_2=<span class="number">1</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">5</span>: P2_4=<span class="number">1</span>; P2_3=<span class="number">0</span>; P2_2=<span class="number">0</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">6</span>: P2_4=<span class="number">1</span>; P2_3=<span class="number">0</span>; P2_2=<span class="number">1</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">7</span>: P2_4=<span class="number">1</span>; P2_3=<span class="number">1</span>; P2_2=<span class="number">0</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">8</span>: P2_4=<span class="number">1</span>; P2_3=<span class="number">1</span>; P2_2=<span class="number">1</span>; <span class="keyword">break</span>;     </span><br><span class="line">  &#125;</span><br><span class="line">  P0 = NixieTable[number];</span><br><span class="line">  delay_10us(<span class="number">100</span>);</span><br><span class="line">  P0 = <span class="number">0x00</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Delay10ms</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> num)</span><span class="comment">//@11.0592MHz</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i, j;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(num--) &#123;</span><br><span class="line">i = <span class="number">18</span>;</span><br><span class="line">j = <span class="number">145</span>;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span> (--j);</span><br><span class="line">&#125; <span class="keyword">while</span> (--i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">key_scan</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> mode)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">static</span> <span class="type">unsigned</span> <span class="type">char</span> key=<span class="number">1</span>; <span class="comment">// 设置static的key，全局变量</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(mode)key=<span class="number">1</span>; </span><br><span class="line"><span class="comment">// 如果mode输入1，则会让key一直保持1，这样就只会进行进入下面的if语句，不会进入else if语句</span></span><br><span class="line">  <span class="comment">// 设定检测按键触发模式，如果mode=1则可以长按进行多次检测，如果mode=0则只能按下无论时间长短只能进行一次检测</span></span><br><span class="line"><span class="keyword">if</span>(key==<span class="number">1</span>&amp;&amp;(KEY1==<span class="number">0</span>||KEY2==<span class="number">0</span>||KEY3==<span class="number">0</span>||KEY4==<span class="number">0</span>))&#123;</span><br><span class="line">Delay10ms(<span class="number">2</span>); <span class="comment">// 进行延迟20ms，消抖</span></span><br><span class="line">key=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span>(KEY1==<span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> KEY1_PRESS;  <span class="comment">// 返回从左往右数的第一个按键的数值1</span></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(KEY2==<span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> KEY2_PRESS;  <span class="comment">// 返回从左往右数的第二个按键的数值2</span></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(KEY3==<span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> KEY3_PRESS;  <span class="comment">// 返回从左往右数的第三个按键的数值3</span></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(KEY4==<span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> KEY4_PRESS;<span class="comment">// 返回从左往右数的第四个按键的数值4</span></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(KEY1==<span class="number">1</span>&amp;&amp;KEY2==<span class="number">1</span>&amp;&amp;KEY3==<span class="number">1</span>&amp;&amp;KEY4==<span class="number">1</span>)&#123;</span><br><span class="line"><span class="comment">// 如果能来到这一句，说明输入的mode一定为0且key为0</span></span><br><span class="line"><span class="comment">// 这么就说明此时已经按下四个独立按键中的其中一个</span></span><br><span class="line"><span class="comment">// 如果现在按住该按键未松手，那么即使来到key_scan这个函数里面，也不会进行任何按键检测，因为此时key为0</span></span><br><span class="line"><span class="comment">// 只有按键松开时才会来到这个else if语句，此时将会重置key的值为1</span></span><br><span class="line">key=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 如果都没有触发，说明此时没有扫描到按键，返回0</span></span><br><span class="line"><span class="keyword">return</span> KEY_UNPRESS;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Timer0Init</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">TMOD &amp;= <span class="number">0xF0</span>;<span class="comment">//设置定时器模式</span></span><br><span class="line">TMOD |= <span class="number">0x01</span>;<span class="comment">//设置定时器模式</span></span><br><span class="line">TL0 = <span class="number">0x18</span>;<span class="comment">//设置定时初值</span></span><br><span class="line">TH0 = <span class="number">0xFC</span>;<span class="comment">//设置定时初值</span></span><br><span class="line">TF0 = <span class="number">0</span>;<span class="comment">//清除TF0标志</span></span><br><span class="line">TR0 = <span class="number">1</span>;<span class="comment">//定时器0开始计时</span></span><br><span class="line">ET0=<span class="number">1</span>;</span><br><span class="line">EA=<span class="number">1</span>;</span><br><span class="line">PT0=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Timer0_Routine</span><span class="params">()</span> interrupt 1</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="number">1</span>)<span class="comment">//如果不是休止符</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">/*取对应频率值的重装载值到定时器*/</span></span><br><span class="line">TL0 = buzzer_f % <span class="number">256</span>;<span class="comment">//设置定时初值</span></span><br><span class="line">TH0 = buzzer_f / <span class="number">256</span>;<span class="comment">//设置定时初值</span></span><br><span class="line">Buzzer=!Buzzer;<span class="comment">//翻转蜂鸣器IO口</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Timer1Init</span><span class="params">(<span class="type">void</span>)</span><span class="comment">//1毫秒@11.0592MHz</span></span><br><span class="line">&#123;</span><br><span class="line">TMOD &amp;= <span class="number">0x0F</span>;<span class="comment">//设置定时器模式</span></span><br><span class="line">TMOD |= <span class="number">0x10</span>;<span class="comment">//设置定时器模式</span></span><br><span class="line">TL1 = <span class="number">0x18</span>;<span class="comment">//设置定时初值</span></span><br><span class="line">TH1 = <span class="number">0xFC</span>;<span class="comment">//设置定时初值</span></span><br><span class="line">TF1 = <span class="number">0</span>;<span class="comment">//清除TF1标志</span></span><br><span class="line">TR1 = <span class="number">1</span>;<span class="comment">//定时器1开始计时</span></span><br><span class="line">ET1=<span class="number">1</span>;</span><br><span class="line">EA=<span class="number">1</span>;</span><br><span class="line">PT1=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Timer1_Routine</span><span class="params">()</span> interrupt 3</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="type">unsigned</span> <span class="type">int</span> T1Count;</span><br><span class="line">TL1 = <span class="number">0x18</span>;<span class="comment">//设置定时初值</span></span><br><span class="line">TH1 = <span class="number">0xFC</span>;<span class="comment">//设置定时初值</span></span><br><span class="line">T1Count++;<span class="comment">//T0Count计次，对中断频率进行分频</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(T1Count&gt;=<span class="number">1000</span>)<span class="comment">//分频500次，500ms</span></span><br><span class="line">&#123;</span><br><span class="line">T1Count=<span class="number">0</span>;</span><br><span class="line">count--;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">buzzer_frequency_higer</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> i)</span>&#123;</span><br><span class="line"><span class="keyword">if</span> (buzzer_f &gt;= <span class="number">65350</span>) &#123;</span><br><span class="line">buzzer_f = <span class="number">63500</span>;</span><br><span class="line">&#125; <span class="keyword">else</span></span><br><span class="line">buzzer_f += i*<span class="number">50</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">sec_light</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> times)</span> &#123;</span><br><span class="line"><span class="keyword">while</span>(times--) &#123;</span><br><span class="line">P2_4=<span class="number">1</span>; P2_3=<span class="number">1</span>; P2_2=<span class="number">1</span>;</span><br><span class="line">P0 = NixieTable[count / <span class="number">10</span>];</span><br><span class="line">delay_10us(<span class="number">100</span>);</span><br><span class="line">P0 = <span class="number">0x00</span>;</span><br><span class="line"></span><br><span class="line">P2_4=<span class="number">1</span>; P2_3=<span class="number">1</span>; P2_2=<span class="number">0</span>;</span><br><span class="line">P0 = NixieTable[count % <span class="number">10</span>];</span><br><span class="line">delay_10us(<span class="number">100</span>);</span><br><span class="line">P0 = <span class="number">0x00</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">count_change</span><span class="params">()</span> &#123;</span><br><span class="line">count = <span class="number">9</span> + <span class="number">5</span> * count_flag;</span><br><span class="line">count_flag++;</span><br><span class="line"><span class="keyword">if</span> (count_flag &gt;= <span class="number">20</span>) &#123;</span><br><span class="line">count_flag = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">display_time</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (count &gt; <span class="number">5</span> &amp;&amp; count &lt; <span class="number">100</span>) &#123;</span><br><span class="line">sec_light(<span class="number">1</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (count == <span class="number">0</span>) &#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span> buzzer_f_1 = buzzer_f;</span><br><span class="line">buzzer_f = <span class="number">65100</span>;</span><br><span class="line">Timer0Init();</span><br><span class="line">sec_light(<span class="number">300</span>);</span><br><span class="line">TR0 = <span class="number">0</span>;</span><br><span class="line">Delay10ms(<span class="number">12</span>);</span><br><span class="line">buzzer_f = buzzer_f_1;</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (count &lt;= <span class="number">5</span>)&#123;</span><br><span class="line">Timer0Init();</span><br><span class="line">sec_light(<span class="number">300</span>);</span><br><span class="line">TR0 = <span class="number">0</span>;</span><br><span class="line">Delay10ms(<span class="number">12</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">count_change();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>) &#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i = <span class="number">1</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> key = key_scan(<span class="number">1</span>);</span><br><span class="line">display_time();</span><br><span class="line"><span class="keyword">if</span> (key) &#123;</span><br><span class="line"><span class="keyword">if</span> (key == <span class="number">1</span>) Timer1Init();</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (key == <span class="number">2</span>) &#123;</span><br><span class="line">count_change();</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (key == <span class="number">4</span>) &#123;</span><br><span class="line">TR1 = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">count--;</span><br><span class="line"><span class="keyword">if</span> (key == <span class="number">3</span>) buzzer_frequency_higer(<span class="number">2</span>);</span><br><span class="line">Timer0Init();</span><br><span class="line">Delay10ms(<span class="number">5</span>);</span><br><span class="line">TR0 = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="四、矩阵键盘与蜂鸣器的简单联动">四、矩阵键盘与蜂鸣器的简单联动</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX51.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> KEY_MATRIX_PORTP1<span class="comment">//使用宏定义矩阵按键控制口</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SMG_A_DP_PORTP0<span class="comment">//使用宏定义数码管段码口</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> KEY1_PRESS1</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> KEY2_PRESS2</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> KEY3_PRESS3</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> KEY4_PRESS4</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> KEY_UNPRESS0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 说明蜂鸣器的引脚、四个按键的引脚</span></span><br><span class="line">sbit Buzzer = P2^<span class="number">5</span>;</span><br><span class="line">sbit KEY1=P3^<span class="number">1</span>;</span><br><span class="line">sbit KEY2=P3^<span class="number">0</span>;</span><br><span class="line">sbit KEY3=P3^<span class="number">2</span>;</span><br><span class="line">sbit KEY4=P3^<span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span> buzzer_f = <span class="number">63628</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span> code pitch[<span class="number">3</span>][<span class="number">8</span>] = &#123;&#123;<span class="number">63628</span>, <span class="number">63835</span>, <span class="number">64021</span>, <span class="number">64103</span>, <span class="number">64160</span>, <span class="number">64400</span>, <span class="number">64528</span>&#125;,</span><br><span class="line">                               &#123;<span class="number">64580</span>, <span class="number">64684</span>, <span class="number">64777</span>, <span class="number">64820</span>, <span class="number">64898</span>, <span class="number">64968</span>, <span class="number">65030</span>&#125;,</span><br><span class="line">                               &#123;<span class="number">65058</span>, <span class="number">65110</span>, <span class="number">65157</span>, <span class="number">65178</span>, <span class="number">65217</span>, <span class="number">65252</span>, <span class="number">65283</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span> code music[<span class="number">8</span>][<span class="number">13</span>] = &#123;&#123;<span class="number">8</span>, <span class="number">234</span>, <span class="number">232</span>, <span class="number">232</span>, <span class="number">244</span>, <span class="number">254</span>, <span class="number">236</span>, <span class="number">222</span>, <span class="number">228</span>&#125;,</span><br><span class="line">                                  &#123;<span class="number">8</span>, <span class="number">214</span>, <span class="number">212</span>, <span class="number">212</span>, <span class="number">224</span>, <span class="number">234</span>, <span class="number">236</span>, <span class="number">172</span>, <span class="number">176</span>&#125;,</span><br><span class="line">                                  &#123;<span class="number">6</span>, <span class="number">164</span>, <span class="number">234</span>, <span class="number">228</span>, <span class="number">164</span>, <span class="number">234</span>, <span class="number">228</span>&#125;,</span><br><span class="line">                                  &#123;<span class="number">5</span>, <span class="number">164</span>, <span class="number">234</span>, <span class="number">226</span>, <span class="number">212</span>, <span class="number">219</span>&#125;,</span><br><span class="line">                                  &#123;<span class="number">6</span>, <span class="number">232</span>, <span class="number">222</span>, <span class="number">257</span>, <span class="number">242</span>, <span class="number">234</span>, <span class="number">220</span>&#125;,</span><br><span class="line">                                  &#123;<span class="number">7</span>, <span class="number">252</span>, <span class="number">242</span>, <span class="number">234</span>, <span class="number">242</span>, <span class="number">256</span>, <span class="number">234</span>, <span class="number">227</span>&#125;,</span><br><span class="line">                                  &#123;<span class="number">9</span>, <span class="number">282</span>, <span class="number">212</span>, <span class="number">164</span>, <span class="number">234</span>, <span class="number">226</span>, <span class="number">212</span>, <span class="number">154</span>, <span class="number">222</span>, <span class="number">210</span>&#125;,</span><br><span class="line">                                  &#123;<span class="number">12</span>, <span class="number">242</span>, <span class="number">232</span>, <span class="number">242</span>, <span class="number">232</span>, <span class="number">218</span>, <span class="number">242</span>, <span class="number">232</span>, <span class="number">242</span>, <span class="number">232</span>, <span class="number">216</span>, <span class="number">222</span>, <span class="number">219</span>&#125;</span><br><span class="line">                                  &#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">delay_10us</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> ten_us)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span>(ten_us--);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Timer0Init</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">TMOD &amp;= <span class="number">0xF0</span>;<span class="comment">//设置定时器模式</span></span><br><span class="line">TMOD |= <span class="number">0x01</span>;<span class="comment">//设置定时器模式</span></span><br><span class="line">TL0 = <span class="number">0x18</span>;<span class="comment">//设置定时初值</span></span><br><span class="line">TH0 = <span class="number">0xFC</span>;<span class="comment">//设置定时初值</span></span><br><span class="line">TF0 = <span class="number">0</span>;<span class="comment">//清除TF0标志</span></span><br><span class="line">TR0 = <span class="number">1</span>;<span class="comment">//定时器0开始计时</span></span><br><span class="line">ET0=<span class="number">1</span>;</span><br><span class="line">EA=<span class="number">1</span>;</span><br><span class="line">PT0=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Timer0_Routine</span><span class="params">()</span> interrupt 1</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="number">1</span>)<span class="comment">//如果不是休止符</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">/*取对应频率值的重装载值到定时器*/</span></span><br><span class="line">TL0 = buzzer_f % <span class="number">256</span>;<span class="comment">//设置定时初值</span></span><br><span class="line">TH0 = buzzer_f / <span class="number">256</span>;<span class="comment">//设置定时初值</span></span><br><span class="line">Buzzer=!Buzzer;<span class="comment">//翻转蜂鸣器IO口</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">key_matrix_flip_scan</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">static</span> <span class="type">unsigned</span> <span class="type">char</span> key_value=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">KEY_MATRIX_PORT=<span class="number">0x0f</span>;<span class="comment">//给所有行赋值0，列全为1</span></span><br><span class="line"><span class="keyword">if</span>(KEY_MATRIX_PORT!=<span class="number">0x0f</span>)<span class="comment">//判断按键是否按下</span></span><br><span class="line">&#123;</span><br><span class="line">delay_10us(<span class="number">1000</span>);<span class="comment">//消抖</span></span><br><span class="line"><span class="keyword">if</span>(KEY_MATRIX_PORT!=<span class="number">0x0f</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//测试列</span></span><br><span class="line">KEY_MATRIX_PORT=<span class="number">0x0f</span>;</span><br><span class="line"><span class="keyword">switch</span>(KEY_MATRIX_PORT)<span class="comment">//保存行为0，按键按下后的列值</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0x07</span>: key_value=<span class="number">1</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0x0b</span>: key_value=<span class="number">2</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0x0d</span>: key_value=<span class="number">3</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0x0e</span>: key_value=<span class="number">4</span>;<span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//测试行</span></span><br><span class="line">KEY_MATRIX_PORT=<span class="number">0xf0</span>;</span><br><span class="line"><span class="keyword">switch</span>(KEY_MATRIX_PORT)<span class="comment">//保存列为0，按键按下后的键值</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0x70</span>: key_value=key_value;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0xb0</span>: key_value=key_value+<span class="number">4</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0xd0</span>: key_value=key_value+<span class="number">8</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0xe0</span>: key_value=key_value+<span class="number">12</span>;<span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>(KEY_MATRIX_PORT!=<span class="number">0xf0</span>);<span class="comment">//等待按键松开</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">key_value=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> key_value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Delay10ms</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> num)</span><span class="comment">//@11.0592MHz</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i, j;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(num--) &#123;</span><br><span class="line">i = <span class="number">108</span>;</span><br><span class="line">j = <span class="number">145</span>;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span> (--j);</span><br><span class="line">&#125; <span class="keyword">while</span> (--i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">key_scan</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> mode)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">static</span> <span class="type">unsigned</span> <span class="type">char</span> key=<span class="number">1</span>; <span class="comment">// 设置static的key，全局变量</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(mode)key=<span class="number">1</span>; </span><br><span class="line"><span class="comment">// 如果mode输入1，则会让key一直保持1，这样就只会进行进入下面的if语句，不会进入else if语句</span></span><br><span class="line">  <span class="comment">// 设定检测按键触发模式，如果mode=1则可以长按进行多次检测，如果mode=0则只能按下无论时间长短只能进行一次检测</span></span><br><span class="line"><span class="keyword">if</span>(key==<span class="number">1</span>&amp;&amp;(KEY1==<span class="number">0</span>||KEY2==<span class="number">0</span>||KEY3==<span class="number">0</span>||KEY4==<span class="number">0</span>))&#123;</span><br><span class="line">delay_10us(<span class="number">2000</span>); <span class="comment">// 进行延迟20ms，消抖</span></span><br><span class="line">key=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span>(KEY1==<span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> KEY1_PRESS;  <span class="comment">// 返回从左往右数的第一个按键的数值1</span></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(KEY2==<span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> KEY2_PRESS;  <span class="comment">// 返回从左往右数的第二个按键的数值2</span></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(KEY3==<span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> KEY3_PRESS;  <span class="comment">// 返回从左往右数的第三个按键的数值3</span></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(KEY4==<span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> KEY4_PRESS;<span class="comment">// 返回从左往右数的第四个按键的数值4</span></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(KEY1==<span class="number">1</span>&amp;&amp;KEY2==<span class="number">1</span>&amp;&amp;KEY3==<span class="number">1</span>&amp;&amp;KEY4==<span class="number">1</span>)&#123;</span><br><span class="line"><span class="comment">// 如果能来到这一句，说明输入的mode一定为0且key为0</span></span><br><span class="line"><span class="comment">// 这么就说明此时已经按下四个独立按键中的其中一个</span></span><br><span class="line"><span class="comment">// 如果现在按住该按键未松手，那么即使来到key_scan这个函数里面，也不会进行任何按键检测，因为此时key为0</span></span><br><span class="line"><span class="comment">// 只有按键松开时才会来到这个else if语句，此时将会重置key的值为1</span></span><br><span class="line">key=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 如果都没有触发，说明此时没有扫描到按键，返回0</span></span><br><span class="line"><span class="keyword">return</span> KEY_UNPRESS;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">pitch_change</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> height, <span class="type">unsigned</span> <span class="type">char</span> p)</span> &#123;</span><br><span class="line">buzzer_f = pitch[height - <span class="number">1</span>][p - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">music_play</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> height, <span class="type">unsigned</span> <span class="type">char</span> p, <span class="type">unsigned</span> <span class="type">char</span> delay_time)</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (p == <span class="number">8</span>) &#123;</span><br><span class="line">Delay10ms(delay_time);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">pitch_change(height, p);</span><br><span class="line">Timer0Init();</span><br><span class="line">Delay10ms(delay_time);</span><br><span class="line">TR0 = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">music_play_top</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> section)</span> &#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">1</span> ; i &lt;= music[section][<span class="number">0</span>]; i++) &#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> height = music[section][i] / <span class="number">100</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> p = music[section][i] % <span class="number">100</span> / <span class="number">10</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> delay_time = music[section][i] % <span class="number">10</span>;</span><br><span class="line"><span class="keyword">switch</span>(delay_time) &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>: delay_time = <span class="number">3</span>; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">4</span>: delay_time = <span class="number">6</span>; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">6</span>: delay_time = <span class="number">9</span>; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">8</span>: delay_time = <span class="number">12</span>; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">7</span>: delay_time = <span class="number">18</span>; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">9</span>: delay_time = <span class="number">24</span>; <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0</span>: delay_time = <span class="number">15</span>; <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">music_play(height, p, delay_time);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> key=<span class="number">0</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> Key = <span class="number">0</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> delay_time = <span class="number">5</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> height = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">  key=key_matrix_flip_scan();</span><br><span class="line">Key = key_scan(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">if</span>(key!=<span class="number">0</span>)&#123;</span><br><span class="line">delay_time = Key == <span class="number">1</span> ? <span class="number">10</span> : Key == <span class="number">4</span> ? <span class="number">3</span> : <span class="number">5</span>;</span><br><span class="line">height = Key == <span class="number">2</span> ? <span class="number">1</span> : Key == <span class="number">3</span> ? <span class="number">3</span> : <span class="number">2</span>;</span><br><span class="line"><span class="keyword">if</span> (key &lt;= <span class="number">7</span>) &#123;</span><br><span class="line">music_play(height, key, delay_time);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (key &gt; <span class="number">8</span>) &#123;</span><br><span class="line">music_play_top(key - <span class="number">9</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="五、LCD1602与矩阵键盘的简单联动——简易计算器">五、LCD1602与矩阵键盘的简单联动——简易计算器</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX51.H&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">int</span> uint;   <span class="comment">//定于无符号int</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">char</span> uchar;  <span class="comment">//定义无符号char</span></span><br><span class="line"><span class="comment">/*****************************定义引脚**********************************/</span></span><br><span class="line">sbit rw=P2^<span class="number">5</span>;           </span><br><span class="line">sbit rs=P2^<span class="number">6</span>;           </span><br><span class="line">sbit e=P2^<span class="number">7</span>;            </span><br><span class="line"><span class="comment">/*****************************定义变量**********************************/</span></span><br><span class="line">uchar fuhao,flag,j,k,num;         </span><br><span class="line">uchar ERROR[]=<span class="string">&quot;    ERROR!&quot;</span>;<span class="comment">//除数为0时，显示</span></span><br><span class="line">uchar wel[]=<span class="string">&quot;    Welcome!&quot;</span>;<span class="comment">//初始化时显示</span></span><br><span class="line"><span class="type">int</span> a,b;</span><br><span class="line"><span class="type">long</span> c,x;</span><br><span class="line">uchar cal_mode = <span class="number">0</span>;</span><br><span class="line">uchar ans_mode = <span class="number">0</span>;</span><br><span class="line"><span class="comment">/*****************************延时函数**********************************/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">delay</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> us_10)</span>&#123;</span><br><span class="line">       <span class="keyword">while</span>(us_10--);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*****************************LCD写命令————位置**********************************/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">lcdwrc</span><span class="params">(uint c)</span></span><br><span class="line">&#123;</span><br><span class="line"> delay(<span class="number">100</span>);</span><br><span class="line"> rs=<span class="number">0</span>;</span><br><span class="line"> rw=<span class="number">0</span>;</span><br><span class="line"> e=<span class="number">0</span>;</span><br><span class="line"> P0=c;</span><br><span class="line"> e=<span class="number">1</span>;</span><br><span class="line"> delay(<span class="number">10000</span>);</span><br><span class="line"> e=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/*****************************LCD写数据————内容**********************************/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">lcdwrd</span><span class="params">(uint dat)</span> <span class="comment">//设置LCD写数据</span></span><br><span class="line">&#123;</span><br><span class="line"> delay(<span class="number">10000</span>);</span><br><span class="line"> rs=<span class="number">1</span>;</span><br><span class="line"> rw=<span class="number">0</span>;</span><br><span class="line"> e=<span class="number">0</span>;</span><br><span class="line"> P0=dat;</span><br><span class="line"> e=<span class="number">1</span>;</span><br><span class="line"> delay(<span class="number">10000</span>);</span><br><span class="line"> e=<span class="number">0</span>;</span><br><span class="line"> rs=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*****************************初始化LCD**********************************/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">lcdinit</span><span class="params">()</span>   <span class="comment">//初始化LCD</span></span><br><span class="line">&#123;</span><br><span class="line"> delay(<span class="number">15000</span>);</span><br><span class="line"> lcdwrc(<span class="number">0x38</span>);<span class="comment">//写指令38H</span></span><br><span class="line"> delay(<span class="number">5000</span>);</span><br><span class="line"> lcdwrc(<span class="number">0x38</span>);<span class="comment">//显示模式设置</span></span><br><span class="line"> delay(<span class="number">5000</span>);</span><br><span class="line"> lcdwrc(<span class="number">0x38</span>);</span><br><span class="line"> delay(<span class="number">5000</span>);</span><br><span class="line"> lcdwrc(<span class="number">0x38</span>);<span class="comment">//功能设定指令</span></span><br><span class="line"> lcdwrc(<span class="number">0x08</span>);</span><br><span class="line"> lcdwrc(<span class="number">0x01</span>);<span class="comment">//清屏</span></span><br><span class="line"> lcdwrc(<span class="number">0x06</span>);<span class="comment">//显示光标移动设置</span></span><br><span class="line"> lcdwrc(<span class="number">0x0c</span>); <span class="comment">//显示开关控制指令</span></span><br><span class="line"> num=<span class="number">0</span>;<span class="comment">//用于判定按键是否为“=”或者“归零”时的变量</span></span><br><span class="line"> fuhao=<span class="number">0</span>;<span class="comment">//用于判定是否为运算符号</span></span><br><span class="line"> flag=<span class="number">0</span>;<span class="comment">//用于判定运算方式时的变量</span></span><br><span class="line"> a=<span class="number">0</span>;<span class="comment">//计算的第一个数</span></span><br><span class="line"> b=<span class="number">0</span>;<span class="comment">//计算的后一个数</span></span><br><span class="line"> c=<span class="number">0</span>;<span class="comment">//计算结果</span></span><br><span class="line"> x=<span class="number">0</span>;<span class="comment">//判定小数点的变量，暂存c值</span></span><br><span class="line"> k=<span class="number">0</span>;<span class="comment">//判定小数点的变量，小数点后非零数个数</span></span><br><span class="line"> j=<span class="number">0</span>;<span class="comment">//显示ERROR时的循环用变量</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//void show(int show_data)&#123;</span></span><br><span class="line"><span class="comment">//       uchar the_data;</span></span><br><span class="line"><span class="comment">//       if (show_data &lt; 10) &#123;</span></span><br><span class="line"><span class="comment">//              lcdwrd(0x30+show_data);</span></span><br><span class="line"><span class="comment">//              return;</span></span><br><span class="line"><span class="comment">//       &#125;</span></span><br><span class="line"><span class="comment">//       the_data = show_data % 10;</span></span><br><span class="line"><span class="comment">//       show(show_data / 10);</span></span><br><span class="line"><span class="comment">//       lcdwrd(0x30+the_data);</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"> </span><br><span class="line"><span class="type">void</span> <span class="title function_">show</span><span class="params">(<span class="type">int</span> show_data)</span> &#123;</span><br><span class="line">       uchar buffer[<span class="number">6</span>];</span><br><span class="line">       <span class="type">char</span> i = <span class="number">0</span>;</span><br><span class="line">       <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++) &#123;</span><br><span class="line">              buffer[i] = show_data % <span class="number">10</span>;</span><br><span class="line">              show_data /= <span class="number">10</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">do</span>&#123;</span><br><span class="line">              i--;</span><br><span class="line">       &#125;<span class="keyword">while</span> (buffer[i] == <span class="number">0</span>);</span><br><span class="line">       <span class="keyword">for</span> (;i &gt;= <span class="number">0</span>;i--) &#123;</span><br><span class="line">              lcdwrd(<span class="number">0x30</span> + buffer[i]);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span>;</span><br><span class="line">      </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment">/*****************************计算器函数**********************************/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">KeyDown</span><span class="params">()</span><span class="comment">//计算器函数</span></span><br><span class="line">&#123;</span><br><span class="line">  k=<span class="number">0</span>;    </span><br><span class="line">  P1=<span class="number">0x0f</span>;   <span class="comment">//0000 11111，行都为低电平0，列都为高电平</span></span><br><span class="line">  <span class="keyword">if</span>(P1!=<span class="number">0x0f</span>)<span class="comment">//P1不为0x0f，则判定为有按键被按下 </span></span><br><span class="line">  &#123;</span><br><span class="line">    delay(<span class="number">10000</span>);<span class="comment">//消抖</span></span><br><span class="line">    <span class="keyword">if</span>(P1!=<span class="number">0x0f</span>)<span class="comment">//延时后，再次判断 </span></span><br><span class="line">    &#123;</span><br><span class="line">      P1=<span class="number">0x0f</span>;<span class="comment">//0000 11111，行都为低电平0，列都为高电平</span></span><br><span class="line">      <span class="keyword">switch</span>(P1)<span class="comment">//</span></span><br><span class="line">      &#123;</span><br><span class="line">      <span class="comment">/********************第一列有按键按下*********************/</span> </span><br><span class="line">              <span class="keyword">case</span> <span class="number">0x07</span>:<span class="comment">//0000 0111 第一列有按键被按下 </span></span><br><span class="line">              &#123;</span><br><span class="line">          P1=<span class="number">0xf0</span>;<span class="comment">//列都为低电平0，行都为高电平1 </span></span><br><span class="line">          <span class="keyword">switch</span>(P1)<span class="comment">//判断哪一行的按键被按下 </span></span><br><span class="line">          &#123;</span><br><span class="line">          <span class="keyword">case</span> <span class="number">0x70</span>: num = <span class="number">1</span><span class="comment">/*S1*/</span>;k=<span class="number">1</span>;<span class="keyword">break</span>;    <span class="comment">//0111 0000第一列第一行 数字7</span></span><br><span class="line">          <span class="keyword">case</span> <span class="number">0xb0</span>: num = <span class="number">5</span><span class="comment">/*S5*/</span>;k=<span class="number">4</span>;<span class="keyword">break</span>;    <span class="comment">//1011 0000第一列第二行 数字4</span></span><br><span class="line">          <span class="keyword">case</span> <span class="number">0xd0</span>: num = <span class="number">9</span><span class="comment">/*S9*/</span>;k=<span class="number">7</span>;<span class="keyword">break</span>;    <span class="comment">//1101 0000第一列第三行 数字1</span></span><br><span class="line">          <span class="keyword">case</span> <span class="number">0xe0</span>: num = <span class="number">13</span><span class="comment">/*S13*/</span>;<span class="keyword">break</span>;       <span class="comment">//1110 0000第一列第四行 归零</span></span><br><span class="line">          &#125; </span><br><span class="line">                         </span><br><span class="line">                <span class="keyword">if</span>(num!=<span class="number">13</span>)<span class="comment">//被按下的按键不是归零键</span></span><br><span class="line">          &#123;</span><br><span class="line">            <span class="keyword">if</span>(fuhao==<span class="number">0</span>)<span class="comment">//fuhao==0，表示第一个数a，fuhao==1，表示第二个数b </span></span><br><span class="line">              a=a*<span class="number">10</span>+k;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">              b=b*<span class="number">10</span>+k;</span><br><span class="line">          &#125;</span><br><span class="line">          lcdwrd(<span class="number">0x30</span>+k);<span class="comment">//显示按下的数，0x30为ASCII码中数字组的开头，0x3k：显示k，即按下数字k </span></span><br><span class="line">         </span><br><span class="line">                <span class="keyword">if</span>(num==<span class="number">13</span>)<span class="comment">//按下的按键是清零键</span></span><br><span class="line">          &#123;</span><br><span class="line">                                          ans_mode = <span class="number">0</span>;</span><br><span class="line">                                          cal_mode = <span class="number">0</span>;</span><br><span class="line">            lcdwrc(<span class="number">0x01</span>); <span class="comment">//清屏指令  </span></span><br><span class="line">            lcdinit();<span class="comment">//重新初始化LCD1602 </span></span><br><span class="line">          &#125;     </span><br><span class="line">        &#125;<span class="keyword">while</span>(P1!=<span class="number">0xf0</span>);<span class="keyword">break</span>;<span class="comment">//当有按键被按下时，结束此次判断，进行下一次判断 </span></span><br><span class="line">       </span><br><span class="line">      </span><br><span class="line">      <span class="comment">/********************第二列有按键按下*********************/</span></span><br><span class="line">      <span class="keyword">case</span> <span class="number">0x0b</span>: <span class="comment">//0000 1011 第二列有按键被按下</span></span><br><span class="line">      &#123;</span><br><span class="line">        P1=<span class="number">0xf0</span>;<span class="comment">//行都为高电平1，列都为低电平0</span></span><br><span class="line">        <span class="keyword">switch</span>(P1)<span class="comment">//判断哪一行有按键被按下 </span></span><br><span class="line">        &#123;</span><br><span class="line">          <span class="keyword">case</span> <span class="number">0x70</span>: k=<span class="number">2</span>;<span class="keyword">break</span>;<span class="comment">//第二列第一行 数字8</span></span><br><span class="line">          <span class="keyword">case</span> <span class="number">0xb0</span>: k=<span class="number">5</span>;<span class="keyword">break</span>;<span class="comment">//第二列第二行 数字5</span></span><br><span class="line">          <span class="keyword">case</span> <span class="number">0xd0</span>: k=<span class="number">8</span>;<span class="keyword">break</span>;<span class="comment">//第二列第三行 数字2</span></span><br><span class="line">          <span class="keyword">case</span> <span class="number">0xe0</span>: k=<span class="number">0</span>;<span class="keyword">break</span>;<span class="comment">//第二列第四行 数字0</span></span><br><span class="line">        &#125;  </span><br><span class="line">       </span><br><span class="line">              <span class="keyword">if</span>(fuhao==<span class="number">0</span>)<span class="comment">//fuhao==0，表示第一个数a，fuhao==1，表示第二个数b</span></span><br><span class="line">          a=a*<span class="number">10</span>+k;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">          b=b*<span class="number">10</span>+k; </span><br><span class="line">        lcdwrd(<span class="number">0x30</span>+k);<span class="comment">//显示按下的数，0x30为ASCII码中数字组的开头，0x3k：显示k，即按下数字k </span></span><br><span class="line">      &#125;       <span class="keyword">while</span>(P1!=<span class="number">0xf0</span>);<span class="keyword">break</span>;<span class="comment">//当有按键被按下时，结束此次判断，进行下一次判断</span></span><br><span class="line">         </span><br><span class="line">        </span><br><span class="line">         <span class="comment">/********************第三列有按键按下*********************/</span></span><br><span class="line">      <span class="keyword">case</span> <span class="number">0x0d</span>: <span class="comment">//0000 1101 第三列有按键被按下</span></span><br><span class="line">      &#123;</span><br><span class="line">        P1=<span class="number">0xf0</span>;<span class="comment">//行都为高电平1，列都为低电平0</span></span><br><span class="line">        <span class="keyword">switch</span>(P1)<span class="comment">//判断哪一行有按键被按下</span></span><br><span class="line">        &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0x70</span>: num=<span class="number">3</span>;k=<span class="number">3</span>;<span class="keyword">break</span>;<span class="comment">//第三列第一行 数字9</span></span><br><span class="line">        <span class="keyword">case</span> <span class="number">0xb0</span>: num=<span class="number">7</span>;k=<span class="number">6</span>;<span class="keyword">break</span>;<span class="comment">//第三列第二行 数字6</span></span><br><span class="line">        <span class="keyword">case</span> <span class="number">0xd0</span>: num=<span class="number">11</span>;k=<span class="number">9</span>;<span class="keyword">break</span>;<span class="comment">//第三列第三行 数字3</span></span><br><span class="line">        <span class="keyword">case</span> <span class="number">0xe0</span>: num=<span class="number">15</span>;<span class="keyword">break</span>;<span class="comment">//第三列第四行 “=”键</span></span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">if</span>(num!=<span class="number">15</span>)<span class="comment">//按下的键不为“=”键 </span></span><br><span class="line">        &#123; </span><br><span class="line">          <span class="keyword">if</span>(fuhao==<span class="number">0</span>)<span class="comment">//fuhao==0，表示第一个数a，fuhao==1，表示第二个数b</span></span><br><span class="line">            a=a*<span class="number">10</span>+k;</span><br><span class="line">          <span class="keyword">else</span></span><br><span class="line">            b=b*<span class="number">10</span>+k; </span><br><span class="line">          lcdwrd(<span class="number">0x30</span>+k);<span class="comment">//显示按下的数，0x30为ASCII码中数字组的开头，0x3k：显示k，即按下数字k</span></span><br><span class="line">        &#125;</span><br><span class="line">       </span><br><span class="line">           <span class="comment">/************&quot;=&quot;键被按下************/</span></span><br><span class="line">              <span class="keyword">if</span>(num==<span class="number">15</span>)<span class="comment">//按下的键为=键</span></span><br><span class="line">        &#123;</span><br><span class="line">                                  </span><br><span class="line">          <span class="keyword">switch</span>(flag)<span class="comment">//判断进行哪种运算 </span></span><br><span class="line">          &#123;</span><br><span class="line">                 <span class="comment">/*******加法运算*********/</span></span><br><span class="line">                     <span class="keyword">case</span> <span class="number">1</span>:<span class="comment">//加法运算</span></span><br><span class="line">            &#123;</span><br><span class="line">              c=a+b;<span class="comment">//计算结果 </span></span><br><span class="line">                                                 x=a+b;</span><br><span class="line">              lcdwrc(<span class="number">0x4f</span><span class="comment">/*第二行末尾位置*/</span>+<span class="number">0x80</span>);<span class="comment">//光标置于第二行末尾 </span></span><br><span class="line">              lcdwrc(<span class="number">0x04</span>);<span class="comment">//设置显示方式：显示后指针减一，即前移一位 </span></span><br><span class="line">             </span><br><span class="line">                       <span class="keyword">if</span>(c==<span class="number">0</span>)<span class="comment">//若结果为0</span></span><br><span class="line">                lcdwrd(<span class="number">0x30</span>);<span class="comment">//显示0 </span></span><br><span class="line">              <span class="keyword">while</span>(c!=<span class="number">0</span>)</span><br><span class="line">              &#123;</span><br><span class="line">                lcdwrd(<span class="number">0x30</span>+c%<span class="number">10</span>);<span class="comment">//从后向前显示最后一位 </span></span><br><span class="line">                c=c/<span class="number">10</span>;<span class="comment">//去掉最后一位后再循环显示 </span></span><br><span class="line">              &#125;</span><br><span class="line">              lcdwrd(<span class="number">0x3d</span>);<span class="comment">//显示完计算结果后，显示“=” </span></span><br><span class="line">              &#125;<span class="keyword">break</span>;</span><br><span class="line">                            </span><br><span class="line">                            <span class="comment">/*******减法运算*********/</span></span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>:<span class="comment">//减法运算</span></span><br><span class="line">            &#123;</span><br><span class="line">              <span class="keyword">if</span>(a&gt;b)&#123;<span class="comment">//大数减小数</span></span><br><span class="line">                c=a-b;</span><br><span class="line">                                                        x=a-b;</span><br><span class="line">                                                 &#125;</span><br><span class="line">              <span class="keyword">else</span>&#123;<span class="comment">//小数减大数</span></span><br><span class="line">                c=b-a;<span class="comment">//计算两数相减的绝对值</span></span><br><span class="line">                                                        x=b-a;</span><br><span class="line">                                                 &#125;</span><br><span class="line">              lcdwrc(<span class="number">0x4f</span>+<span class="number">0x80</span>);<span class="comment">//将光标置于第二行末尾 </span></span><br><span class="line">              lcdwrc(<span class="number">0x04</span>);<span class="comment">//设置显示方式：显示后指针减一 </span></span><br><span class="line"> </span><br><span class="line">              <span class="keyword">if</span>(c==<span class="number">0</span>)<span class="comment">//若结果为零 </span></span><br><span class="line">                lcdwrd(<span class="number">0x30</span>);<span class="comment">//显示0 </span></span><br><span class="line">              <span class="keyword">while</span>(c!=<span class="number">0</span>) </span><br><span class="line">              &#123;</span><br><span class="line">                lcdwrd(<span class="number">0x30</span>+c%<span class="number">10</span>);<span class="comment">//从后向前显示最后一位</span></span><br><span class="line">                c=c/<span class="number">10</span>;<span class="comment">//去掉最后一位后再循环显示</span></span><br><span class="line">              &#125;</span><br><span class="line">              <span class="keyword">if</span>(a&lt;b)<span class="comment">//若结果为负数 </span></span><br><span class="line">                lcdwrd(<span class="number">0x2d</span>);<span class="comment">//ASCII中的“-”，显示负号</span></span><br><span class="line">              lcdwrd(<span class="number">0x3d</span>);<span class="comment">//显示= </span></span><br><span class="line">              &#125;<span class="keyword">break</span>;</span><br><span class="line">                            </span><br><span class="line">                            <span class="comment">/*******乘法运算*********/</span></span><br><span class="line">            <span class="keyword">case</span> <span class="number">3</span>:<span class="comment">//乘法运算</span></span><br><span class="line">            &#123;</span><br><span class="line">              c=a*b; <span class="comment">//计算结果</span></span><br><span class="line">                                                 x=a*b;</span><br><span class="line">              lcdwrc(<span class="number">0x4f</span>+<span class="number">0x80</span>);<span class="comment">//光标置于第二行末尾 </span></span><br><span class="line">              lcdwrc(<span class="number">0x04</span>);<span class="comment">//显示设置：显示后指针减一 </span></span><br><span class="line">              <span class="keyword">if</span>(c==<span class="number">0</span>)<span class="comment">//若结果为0 </span></span><br><span class="line">                lcdwrd(<span class="number">0x30</span>);<span class="comment">//显示0 </span></span><br><span class="line">              <span class="keyword">while</span>(c!=<span class="number">0</span>) </span><br><span class="line">              &#123;                          </span><br><span class="line">                lcdwrd(<span class="number">0x30</span>+c%<span class="number">10</span>);<span class="comment">//从后向前显示最后一位</span></span><br><span class="line">                c=c/<span class="number">10</span>;<span class="comment">//去掉最后一位后再循环显示 </span></span><br><span class="line">              &#125;</span><br><span class="line">              lcdwrd(<span class="number">0x3d</span>);<span class="comment">//显示= </span></span><br><span class="line">            &#125;<span class="keyword">break</span>;</span><br><span class="line"> </span><br><span class="line">                            <span class="comment">/*******除法运算*********/</span></span><br><span class="line">            <span class="keyword">case</span> <span class="number">4</span>: <span class="comment">//除法运算</span></span><br><span class="line">            &#123; </span><br><span class="line">              <span class="keyword">if</span>(b==<span class="number">0</span>)<span class="comment">//若除数为0 </span></span><br><span class="line">              &#123; </span><br><span class="line">                lcdwrc(<span class="number">0x01</span>);<span class="comment">//清屏 </span></span><br><span class="line">                <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;<span class="number">11</span>;j++)</span><br><span class="line">                &#123;</span><br><span class="line">                  lcdwrd(ERROR[j]);<span class="comment">//显示语句：ERROR！ </span></span><br><span class="line">                &#125;</span><br><span class="line">                delay(<span class="number">100000</span>);<span class="comment">//延时 </span></span><br><span class="line">                lcdinit();<span class="comment">//重新初始化LCD1602</span></span><br><span class="line">              &#125;</span><br><span class="line">             </span><br><span class="line">                       <span class="keyword">else</span></span><br><span class="line">              &#123; </span><br><span class="line">                c=(<span class="type">long</span>)(((<span class="type">float</span>)a/b)*<span class="number">1000</span>);<span class="comment">//将结果放大10000倍，即：若无法整除，保留4位小数</span></span><br><span class="line">                x = c;</span><br><span class="line">                lcdwrc(<span class="number">0x4f</span>+<span class="number">0x80</span>);<span class="comment">//光标置于第二行末尾</span></span><br><span class="line">                lcdwrc(<span class="number">0x04</span>);<span class="comment">//显示设置：显示后指针减一</span></span><br><span class="line">                <span class="keyword">while</span>(c!=<span class="number">0</span>)<span class="comment">//一位一位显示</span></span><br><span class="line">                &#123;</span><br><span class="line">                  k++;</span><br><span class="line">                  lcdwrd(<span class="number">0x30</span>+c%<span class="number">10</span>);<span class="comment">//显示结果的最后一位在0x4f的位置  //0  00  000  0000</span></span><br><span class="line">                  c=c/<span class="number">10</span>;<span class="comment">//取前面的结果数据</span></span><br><span class="line">                  <span class="keyword">if</span>(x&gt;<span class="number">0</span>&amp;&amp;x&lt;=<span class="number">9</span>)<span class="comment">//0.0001到0.0009</span></span><br><span class="line">                  &#123;</span><br><span class="line">                    <span class="keyword">if</span>(k==<span class="number">1</span>)<span class="comment">//只有小数点后最后一位  x.000x</span></span><br><span class="line">                    &#123; </span><br><span class="line">                      lcdwrd(<span class="number">0x30</span>);<span class="comment">//0</span></span><br><span class="line">                      lcdwrd(<span class="number">0x30</span>);<span class="comment">//0</span></span><br><span class="line">                      lcdwrd(<span class="number">0x30</span>);<span class="comment">//0 </span></span><br><span class="line">                      lcdwrd(<span class="number">0x2e</span>);<span class="comment">//.</span></span><br><span class="line">                      k=<span class="number">0</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                  &#125;</span><br><span class="line">                  <span class="keyword">if</span>(x&gt;<span class="number">9</span>&amp;&amp;x&lt;=<span class="number">99</span>)<span class="comment">//0.0010到0.0099</span></span><br><span class="line">                  &#123; </span><br><span class="line">                    <span class="keyword">if</span>(k==<span class="number">2</span>)<span class="comment">//只有小数点后最后两位  x.00xx</span></span><br><span class="line">                    &#123; </span><br><span class="line">                    lcdwrd(<span class="number">0x30</span>);<span class="comment">//0</span></span><br><span class="line">                    lcdwrd(<span class="number">0x30</span>);<span class="comment">//0</span></span><br><span class="line">                    lcdwrd(<span class="number">0x2e</span>);<span class="comment">//.</span></span><br><span class="line">                    k=<span class="number">0</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                  &#125;</span><br><span class="line">                  <span class="keyword">if</span>(x&gt;<span class="number">99</span>&amp;&amp;x&lt;=<span class="number">999</span>)<span class="comment">//0.0100到0.0999</span></span><br><span class="line">                  &#123;</span><br><span class="line">                    <span class="keyword">if</span>(k==<span class="number">3</span>)<span class="comment">//只有小数点后最后三位  x.0xxx</span></span><br><span class="line">                    &#123;</span><br><span class="line">                      lcdwrd(<span class="number">0x30</span>);<span class="comment">//0</span></span><br><span class="line">                      lcdwrd(<span class="number">0x2e</span>);<span class="comment">//.</span></span><br><span class="line">                      k=<span class="number">0</span>;</span><br><span class="line">                    &#125; </span><br><span class="line">                  &#125;</span><br><span class="line">                  <span class="keyword">else</span> <span class="keyword">if</span>(k==<span class="number">4</span>)<span class="comment">//小数点后四位都非零  x.xxxx</span></span><br><span class="line">                  &#123;</span><br><span class="line">                    lcdwrd(<span class="number">0x2e</span>);<span class="comment">//.        </span></span><br><span class="line">                  &#125; </span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(x&lt;<span class="number">10000</span>)<span class="comment">//若结果小于1，在个位补0 </span></span><br><span class="line">                  lcdwrd(<span class="number">0x30</span>);<span class="comment">//个位补0</span></span><br><span class="line">                                                               lcdwrd(<span class="number">0x3d</span>);<span class="comment">//显示=</span></span><br><span class="line">                                                               k=<span class="number">0</span>;<span class="comment">//将k定回0用于下次计算  </span></span><br><span class="line">                                                               x /= <span class="number">1000</span>;</span><br><span class="line">              &#125; </span><br><span class="line">            &#125; <span class="keyword">break</span>;</span><br><span class="line">          &#125;</span><br><span class="line">                                   cal_mode = <span class="number">0</span>;</span><br><span class="line">                                   ans_mode = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">while</span>(P1!=<span class="number">0xf0</span>);<span class="keyword">break</span>;<span class="comment">//当有按键被按下时，结束此次判断，进行下一次判断</span></span><br><span class="line">     </span><br><span class="line">        </span><br><span class="line">         <span class="comment">/********************第四列有按键按下*********************/</span></span><br><span class="line">      <span class="keyword">case</span> <span class="number">0x0e</span>:<span class="comment">//0000 1110 第四列有按键被按下</span></span><br><span class="line">      &#123;</span><br><span class="line">                            <span class="keyword">if</span> (ans_mode == <span class="number">1</span>) &#123;</span><br><span class="line">                                   fuhao = <span class="number">1</span>;</span><br><span class="line">                                   a = x;</span><br><span class="line">                                   lcdwrc(<span class="number">0x01</span>); <span class="comment">//清屏指令</span></span><br><span class="line">                                   show(x);</span><br><span class="line">                                   b = <span class="number">0</span>;</span><br><span class="line">                                   c = <span class="number">0</span>;</span><br><span class="line">                                   cal_mode = <span class="number">0</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">        <span class="keyword">if</span> (cal_mode == <span class="number">0</span>) &#123;</span><br><span class="line">                                   fuhao=<span class="number">1</span>;<span class="comment">//有符号键被按下</span></span><br><span class="line">                                   P1=<span class="number">0xf0</span>;<span class="comment">//1111 0000</span></span><br><span class="line">                                   <span class="keyword">switch</span>(P1)</span><br><span class="line">                                   &#123;</span><br><span class="line">                                          <span class="keyword">case</span> <span class="number">0x70</span>:<span class="comment">/*0111 0000*/</span>flag=<span class="number">1</span>;lcdwrd(<span class="number">0x2b</span>);cal_mode = <span class="number">1</span>;<span class="keyword">break</span>;<span class="comment">//“/”第四列第一行</span></span><br><span class="line">                                          <span class="keyword">case</span> <span class="number">0xb0</span>:<span class="comment">/*1011 0000*/</span>flag=<span class="number">2</span>;lcdwrd(<span class="number">0x2d</span>);cal_mode = <span class="number">1</span>;<span class="keyword">break</span>;<span class="comment">//“*”第四列第二行</span></span><br><span class="line">                                          <span class="keyword">case</span> <span class="number">0xd0</span>:<span class="comment">/*1101 0000*/</span>flag=<span class="number">3</span>;lcdwrd(<span class="number">0x2a</span>);cal_mode = <span class="number">1</span>;<span class="keyword">break</span>;<span class="comment">//“-”第四列第三行</span></span><br><span class="line">                                          <span class="keyword">case</span> <span class="number">0xe0</span>:<span class="comment">/*1110 0000*/</span>flag=<span class="number">4</span>;lcdwrd(<span class="number">0xfd</span>);cal_mode = <span class="number">1</span>;<span class="keyword">break</span>;<span class="comment">//“+”第四列第四行                                   </span></span><br><span class="line">                                   &#125;</span><br><span class="line">                                   cal_mode = <span class="number">1</span>;</span><br><span class="line">                            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                                   <span class="keyword">break</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">      &#125; </span><br><span class="line">      <span class="keyword">while</span>(P1!=<span class="number">0xf0</span>);<span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*****************************主函数**********************************/</span>     </span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  uchar x;</span><br><span class="line">  lcdinit();<span class="comment">//LCD1602初始化 </span></span><br><span class="line">  <span class="keyword">for</span>(x=<span class="number">0</span>;x&lt;<span class="number">12</span>;x++)</span><br><span class="line">    lcdwrd(wel[x]);<span class="comment">//显示欢迎语句：Welcome </span></span><br><span class="line">  delay(<span class="number">100000</span>); </span><br><span class="line">  lcdwrc(<span class="number">0x01</span>);<span class="comment">//LCd1602清屏 </span></span><br><span class="line">  <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">  &#123; </span><br><span class="line">    KeyDown();<span class="comment">//按键判断函数 </span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="六、通过UART串口进行电脑端到单片机端的通信">六、通过UART串口进行电脑端到单片机端的通信</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;REGX51.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> Sec;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> strIndex;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> getStr[<span class="number">20</span>];</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> way = <span class="number">1</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> vote = <span class="number">1</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> *whatWay = <span class="string">&quot;Now the way is &quot;</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> *whatVote = <span class="string">&quot;Now the vote is &quot;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">delay</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> ten_us)</span></span><br><span class="line">&#123;</span><br><span class="line"> <span class="keyword">while</span>(ten_us--);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_Init</span><span class="params">(<span class="type">void</span>)</span>  <span class="comment">//4800bps@11.0592MHz</span></span><br><span class="line">&#123;</span><br><span class="line"> PCON |= <span class="number">0x80</span>;  <span class="comment">//使能波特率倍速位SOMD</span></span><br><span class="line"> SCON = <span class="number">0x50</span>;  <span class="comment">//8位数据，可变波特率</span></span><br><span class="line"> TMOD &amp;= <span class="number">0x0F</span>;  <span class="comment">//清除定时器1模式位</span></span><br><span class="line"> TMOD |= <span class="number">0x20</span>;  <span class="comment">//设定定时器1为8位自动重装方式</span></span><br><span class="line"> TL1 = <span class="number">0xF4</span>;  <span class="comment">//设定定时初值</span></span><br><span class="line"> TH1 = <span class="number">0xF4</span>;  <span class="comment">//设定定时器重装值</span></span><br><span class="line"> ET1 = <span class="number">0</span>;  <span class="comment">//禁止定时器1中断</span></span><br><span class="line"> TR1 = <span class="number">1</span>;  <span class="comment">//启动定时器1</span></span><br><span class="line"> EA = <span class="number">1</span>;</span><br><span class="line"> ES = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_SendByte</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> byte)</span> &#123;</span><br><span class="line">   SBUF = byte;</span><br><span class="line">    <span class="keyword">while</span>(TI == <span class="number">0</span>);</span><br><span class="line">    TI = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_SendStringLine</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> *str)</span> &#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(*str!=<span class="string">&#x27;\0&#x27;</span>)&#123;</span><br><span class="line">SBUF = *str;</span><br><span class="line">    <span class="keyword">while</span>(TI == <span class="number">0</span>);</span><br><span class="line">    TI = <span class="number">0</span>;</span><br><span class="line">str++;</span><br><span class="line">i++;</span><br><span class="line"> &#125;</span><br><span class="line">i = <span class="number">36</span> * (i / <span class="number">36</span> + <span class="number">1</span>) - i;</span><br><span class="line"><span class="keyword">while</span> (i != <span class="number">0</span>) &#123;</span><br><span class="line">UART_SendByte(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">i--;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_SendStringAndNumLine</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> *str, <span class="type">unsigned</span> <span class="type">char</span> num)</span> &#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(*str!=<span class="string">&#x27;\0&#x27;</span>)&#123;</span><br><span class="line">SBUF = *str;</span><br><span class="line">    <span class="keyword">while</span>(TI == <span class="number">0</span>);</span><br><span class="line">    TI = <span class="number">0</span>;</span><br><span class="line">str++;</span><br><span class="line">i++;</span><br><span class="line"> &#125;</span><br><span class="line"><span class="keyword">if</span> (num &gt; <span class="number">10</span>) &#123;</span><br><span class="line">UART_SendByte(<span class="number">48</span> + num / <span class="number">10</span>);</span><br><span class="line">UART_SendByte(<span class="number">48</span> + num % <span class="number">10</span>);</span><br><span class="line">i++;</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">UART_SendByte(<span class="number">48</span> + num);</span><br><span class="line">&#125;</span><br><span class="line">i++;</span><br><span class="line">i = <span class="number">36</span> * (i / <span class="number">36</span> + <span class="number">1</span>) - i;</span><br><span class="line"><span class="keyword">while</span> (i != <span class="number">0</span>) &#123;</span><br><span class="line">UART_SendByte(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">i--;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">light_play</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> way, <span class="type">unsigned</span> <span class="type">char</span> vote)</span>&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i;</span><br><span class="line"><span class="keyword">if</span> (way == <span class="number">1</span>) &#123; <span class="comment">// 方式1</span></span><br><span class="line">P2 = <span class="number">0xFF</span>;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++)&#123;</span><br><span class="line">P2 -= <span class="number">0x01</span> &lt;&lt; i;</span><br><span class="line">delay(<span class="number">1000</span> * vote);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++)&#123;</span><br><span class="line">P2 += <span class="number">0x01</span> &lt;&lt; i;</span><br><span class="line">delay(<span class="number">1000</span> * vote);</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (way == <span class="number">2</span>) &#123; <span class="comment">// 方式2</span></span><br><span class="line">P2 = <span class="number">0xFF</span>;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)&#123;</span><br><span class="line">P2 -= (<span class="number">0x01</span> &lt;&lt; i) + (<span class="number">0x80</span> &gt;&gt; i);</span><br><span class="line">delay(<span class="number">1000</span> * vote);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)&#123;</span><br><span class="line">P2 += (<span class="number">0x01</span> &lt;&lt; i) + (<span class="number">0x80</span> &gt;&gt; i);</span><br><span class="line">delay(<span class="number">1000</span> * vote);</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (way == <span class="number">3</span>) &#123; <span class="comment">// 方式3</span></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++)&#123;</span><br><span class="line">P2 -= (<span class="number">0x07</span> &lt;&lt; i) | (<span class="number">0xE0</span> &gt;&gt; i);</span><br><span class="line">delay(<span class="number">1000</span> * vote);</span><br><span class="line">P2 = <span class="number">0xFF</span>;</span><br><span class="line">&#125;</span><br><span class="line"> &#125; <span class="keyword">else</span> <span class="keyword">if</span> (way == <span class="number">4</span>) &#123; <span class="comment">// 方式4</span></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)&#123;</span><br><span class="line">P2 = <span class="number">0x55</span> + (<span class="number">0x02</span> &lt;&lt; i);</span><br><span class="line">delay(<span class="number">1000</span> * vote);</span><br><span class="line">P2 = ~P2;</span><br><span class="line">delay(<span class="number">1000</span> * vote);</span><br><span class="line">P2 = P2 &gt;&gt; <span class="number">1</span>;</span><br><span class="line">delay(<span class="number">1000</span> * vote);</span><br><span class="line">P2 = ~P2;</span><br><span class="line">delay(<span class="number">1000</span> * vote);</span><br><span class="line">&#125;</span><br><span class="line">P2 = <span class="number">0xFF</span>;</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (way == <span class="number">5</span>) &#123; <span class="comment">// 方式5</span></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++)&#123;</span><br><span class="line">P2 = (<span class="number">0x03</span> &lt;&lt; i);</span><br><span class="line">delay(<span class="number">1000</span> * vote);</span><br><span class="line">P2 = (<span class="number">0xC0</span> &gt;&gt; i);</span><br><span class="line">delay(<span class="number">1000</span> * vote);</span><br><span class="line">&#125;</span><br><span class="line">P2 = <span class="number">0xFF</span>;</span><br><span class="line">delay(<span class="number">1000</span> * vote);</span><br><span class="line">P2 = <span class="number">0xFF</span>;</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (way == <span class="number">6</span>) &#123; <span class="comment">// 方式6</span></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++)&#123;</span><br><span class="line">P2 = (<span class="number">0xF8</span> &lt;&lt; i);</span><br><span class="line">delay(<span class="number">1000</span> * vote);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++)&#123;</span><br><span class="line">P2 += (<span class="number">0x01</span> &lt;&lt; i);</span><br><span class="line">delay(<span class="number">1000</span> * vote);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++)&#123;</span><br><span class="line">P2 = (<span class="number">0x1F</span> &gt;&gt; i);</span><br><span class="line">delay(<span class="number">1000</span> * vote);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++)&#123;</span><br><span class="line">P2 += (<span class="number">0x80</span> &gt;&gt; i);</span><br><span class="line">delay(<span class="number">1000</span> * vote);</span><br><span class="line">&#125;</span><br><span class="line">delay(<span class="number">1000</span> * vote);</span><br><span class="line">P2 = <span class="number">0xFF</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">StrEqual</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> *str)</span> &#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(*str!=<span class="string">&#x27;\0&#x27;</span>)&#123;</span><br><span class="line"><span class="keyword">if</span> (*str != getStr[i]) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">str++;</span><br><span class="line">i++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_Get</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="type">char</span> num;</span><br><span class="line">EA = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (StrEqual(<span class="string">&quot;show;&quot;</span>) == <span class="number">1</span>) &#123;</span><br><span class="line">UART_SendStringLine(<span class="string">&quot;Show light!&quot;</span>);</span><br><span class="line">light_play(way, vote);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (StrEqual(<span class="string">&quot;way add;&quot;</span>) == <span class="number">1</span>) &#123;</span><br><span class="line">way = way == <span class="number">6</span> ? <span class="number">0</span> : way + <span class="number">1</span>;</span><br><span class="line">UART_SendStringLine(<span class="string">&quot;Light way change!&quot;</span>);</span><br><span class="line">light_play(way, vote);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (StrEqual(<span class="string">&quot;vote add;&quot;</span>) == <span class="number">1</span>) &#123;</span><br><span class="line">vote = vote == <span class="number">60</span> ? <span class="number">0</span> : vote + <span class="number">1</span>;</span><br><span class="line">UART_SendStringLine(<span class="string">&quot;Light vote change!&quot;</span>);</span><br><span class="line">light_play(way, vote);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (StrEqual(<span class="string">&quot;what way;&quot;</span>) == <span class="number">1</span>) &#123;</span><br><span class="line">UART_SendStringAndNumLine(whatWay, way);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (StrEqual(<span class="string">&quot;what vote;&quot;</span>) == <span class="number">1</span>) &#123;</span><br><span class="line">UART_SendStringAndNumLine(whatVote, vote);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (StrEqual(<span class="string">&quot;show all;&quot;</span>) == <span class="number">1</span>) &#123;</span><br><span class="line">UART_SendStringAndNumLine(whatWay, way);</span><br><span class="line">UART_SendStringAndNumLine(whatVote, vote);</span><br><span class="line">light_play(way, vote);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (StrEqual(<span class="string">&quot;set way &quot;</span>) == <span class="number">1</span>) &#123;</span><br><span class="line">num = getStr[<span class="number">8</span>] - <span class="number">48</span>;</span><br><span class="line"><span class="keyword">if</span> (num &lt;= <span class="number">0</span> || num &gt; <span class="number">6</span> || getStr[<span class="number">9</span>] != <span class="string">&#x27;;&#x27;</span>)  UART_SendStringLine(<span class="string">&quot;WAY SET ERROR!&quot;</span>);</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">way = num;</span><br><span class="line">UART_SendStringAndNumLine(whatWay, way);</span><br><span class="line">light_play(way, vote);</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (StrEqual(<span class="string">&quot;set vote &quot;</span>) == <span class="number">1</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (getStr[<span class="number">10</span>] == <span class="string">&#x27;;&#x27;</span>) &#123;</span><br><span class="line">num = getStr[<span class="number">9</span>] - <span class="number">48</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">num = (getStr[<span class="number">9</span>] - <span class="number">48</span>) * <span class="number">10</span> + (getStr[<span class="number">10</span>] - <span class="number">48</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (num &lt;= <span class="number">0</span> || num &gt; <span class="number">60</span> || !(getStr[<span class="number">10</span>] == <span class="string">&#x27;;&#x27;</span> || getStr[<span class="number">11</span>] == <span class="string">&#x27;;&#x27;</span>)) UART_SendStringLine(<span class="string">&quot;VOTE SET ERROR!&quot;</span>);</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">vote = num;</span><br><span class="line">UART_SendStringAndNumLine(whatVote, vote);</span><br><span class="line">light_play(way, vote);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">UART_SendStringLine(<span class="string">&quot;INPUT ERROR!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">strIndex = <span class="number">0</span>;</span><br><span class="line">EA = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_Routine</span><span class="params">()</span> interrupt 4</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (RI == <span class="number">1</span>) &#123; <span class="comment">// 如果是电脑接送中断</span></span><br><span class="line"><span class="keyword">if</span> (SBUF == <span class="string">&#x27;;&#x27;</span>) &#123;</span><br><span class="line">getStr[strIndex] = SBUF;</span><br><span class="line">RI = <span class="number">0</span>;</span><br><span class="line">UART_Get();</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">getStr[strIndex] = SBUF;</span><br><span class="line">RI = <span class="number">0</span>; <span class="comment">// 内部对RI软件复位</span></span><br><span class="line">strIndex++;</span><br><span class="line"><span class="keyword">if</span> (strIndex == <span class="number">20</span>) &#123;</span><br><span class="line">UART_SendStringLine(<span class="string">&quot;INPUT TO MANY!&quot;</span>);</span><br><span class="line">strIndex = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line"> UART_Init();</span><br><span class="line"> <span class="keyword">while</span>(<span class="number">1</span>) &#123;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>命令：<code>show;</code>、 <code>way add;</code>、 <code>vote add;</code>、 <code>what way;</code>、 <code>what vote;</code>、<code>show all;</code>、 <code>set way n;</code>、 `set vote n;``。</li><li></li></ul><h2 id="七、其他模块化设计">七、其他模块化设计</h2><p>由于模块化设计涉及到多个模块，所以将会分别用多个文章进行记录，防止出现阅读错误的情况。</p>]]></content>
      
      
      <categories>
          
          <category> MCU C51 </category>
          
          <category> The finished product of the code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MCU C51 </tag>
            
            <tag> STC89C51 </tag>
            
            <tag> STC89C52 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C51单片机的学习</title>
      <link href="/2023/09/11/51%E5%8D%95%E7%89%87%E6%9C%BA%E7%9A%84%E5%AD%A6%E4%B9%A0/"/>
      <url>/2023/09/11/51%E5%8D%95%E7%89%87%E6%9C%BA%E7%9A%84%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<h1>51单片机的学习</h1><h2 id="一、单片机的介绍">一、单片机的介绍</h2><h3 id="1-1">1.1</h3><h3 id="1-2-如何使用软件">1.2 如何使用软件</h3><p>首先打开Keil 5软件，点击上面的project。</p><img class="inline-img" src="/../img/51MCU/2_1_1.png" style="height:300px"/><p>在下拉的菜单中选择New <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>μ</mi></mrow><annotation encoding="application/x-tex">\mu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">μ</span></span></span></span>Vision Project…</p><img class="inline-img" src="/../img/51MCU/2_1_2.png" style="height:300px"/><p>然后新增文件夹在桌面，例如我这里是<code>my_51project</code>，然后再新建一个文件名为<code>2_1 light LED</code>在我们的<code>my_51project</code>里面，最后可以将名为Project的文件建立在我们的<code>2_1 light LED</code>中，这是我们要写的第一个工程。</p><p>然后建立后点击保存，会出现下面的画面。</p><img class="inline-img" src="/../img/51MCU/2_1_3.png" style="height:300px"/><p>我们在Search栏中搜索AT89C52/AT89C51，点击OK，然后出现对话框</p><img class="inline-img" src="/../img/51MCU/2_1_4.png" style="height:300px"/><p>可以点击否，然后就可以看到我们的工程了，在工程下面有一个文件<code>Target 1</code>，在其里面有一个文件夹<code>Source Group 1</code>，这个就是我们写代码的地方。</p><img class="inline-img" src="/../img/51MCU/2_1_5.png" style="height:300px"/><p>来到文件夹<code>Source Group 1</code>，右键点击，选择<code>Add New Item to Group 'Source Group 1'...</code></p><img class="inline-img" src="/../img/51MCU/2_1_6.png" style="height:300px"/><p>选择C语言文件，将名字设为<code>main</code>，点击Add添加。</p><img class="inline-img" src="/../img/51MCU/2_1_7.png" style="height:300px"/><p>编写代码前，可以修改一下代码的字体大小</p><img class="inline-img" src="/../img/51MCU/2_1_8.png" style="height:300px"/><p>选择第二个选项<code>Color &amp; Fonts</code></p><img class="inline-img" src="/../img/51MCU/2_1_9.png" style="height:300px"/><p>在<code>Window</code>栏中选择<code>C/C++ Editor files</code></p><img class="inline-img" src="/../img/51MCU/2_1_10.png" style="height:300px"/><p>点击右边的<code>Courier New...</code></p><img class="inline-img" src="/../img/51MCU/2_1_11.png" style="height:300px"/><p>在<code>Size</code>栏中选择自己喜欢的大小就行了，这里推荐16。</p><img class="inline-img" src="/../img/51MCU/2_1_12.png" style="height:300px"/><p>写代码前，注意要右键点击代码第一行，选择<code>Insert '#include &lt;REGX52.H&gt;'</code></p><img class="inline-img" src="/../img/51MCU/2_1_13.png" style="height:300px"/><p>然后可以在下面写2.1的代码了，具体代码解析需要在[2.1](###2.1 点亮第一个LED)去看。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">  <span class="keyword">while</span>(<span class="number">1</span>) &#123;</span><br><span class="line">    P2 = <span class="number">0xFE</span>; <span class="comment">// 1111 1110</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>写完代码后记得点击编译，就是下图中三个图标里面的中间那个。</p><img class="inline-img" src="/../img/51MCU/2_1_14.png" style="height:300px"/><p>为了生成可以下载到单片机里面的hex文件，需要点击<code>Options for Target...</code>图标</p><img class="inline-img" src="/../img/51MCU/2_1_15.png" style="height:300px"/><p>打开该窗口后选择<code>Output</code></p><img class="inline-img" src="/../img/51MCU/2_1_16.png" style="height:300px"/><p>勾选上内容<code>Create HEX File</code>这个选项</p><img class="inline-img" src="/../img/51MCU/2_1_17.png" style="height:300px"/><p>重新编译，可以看到下面提示已经创建好hex文件了</p><img class="inline-img" src="/../img/51MCU/2_1_18.png" style="height:300px"/><p>然后用USB连接好51单片机和电脑，打开STC-ISP软件，选择好单片机型号，安装好驱动软件选择好串口号，打开正确的程序文件，点击“下载/编程”，当软件右下半部分显示“正在检测目标单片机…”时，重新关闭并打开单片机的总电源，就可以将程序烧录进去了。</p><h2 id="二、LED的学习">二、LED的学习</h2><p>LED相关的原理图</p><img class="inline-img" src="/../img/51MCU/4_1_3.png" style="height:450px"/><h3 id="2-1-点亮第一个LED">2.1 点亮第一个LED</h3><p>实现代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">  <span class="keyword">while</span>(<span class="number">1</span>) &#123;</span><br><span class="line">    P2 = <span class="number">0xFE</span>; <span class="comment">// 1111 1110</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>如果不设置循环，单片机会在跑完main函数之后重新不断地继续跑main函数，所以为了方便或者其他原因，我们可以在main函数里面设置一个while的死循环。</li><li>上面代码中，P2的表达方式是用两位十六进制，所以前面要加上<code>0x</code>。</li><li>P2代表的是单片机的8个LED灯，用两位十六进制表示，为0时对应的位置亮灯，为1时不亮。</li></ul><p>高级代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"></span><br><span class="line">sbit LED1 = P2^<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">mian</span><span class="params">()</span> &#123;</span><br><span class="line">  LED1 = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span>(<span class="number">1</span>) &#123;</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>在第3行代码中，<code>sbit</code> 用于特殊功能寄存器中可位寻址的位地址。<strong>类似于C语言中的宏定义</strong>，对选定位地址进行某特殊功能的命名。  格式为：<code>sbit 命名功能 = 位地址</code>。</li><li>与<code>sbit</code>使用相似的还有<code>str</code>，<code>sfr</code> 定义特殊功能寄存器中的字节。<strong>类似于C语言中的宏定义</strong>，对选定字节地址进行某特殊功能的命名。  格式为：<code>sfr 功能命名 = 地址</code>（位地址首位）</li><li>上面的代码对比前面的代码中，一开始就定义了LED1的位置，只需要定义变量一次，然后让程序一直进入死循环即可。可读性高，更加优雅。</li></ul><h3 id="2-2-LED闪烁">2.2 LED闪烁</h3><p>实现目的：让一个LED以1s为一周期闪烁</p><p>首先需要去寻找可用的延时函数，你可以打开STC-ISP软件，在右上部分右划到<code>软件延时计算器</code>部分，选择合适的系统频率（晶振的频率）以及适合芯片使用的8051指令集，最后选择需要的定时长度，然后点击下面的<code>生成C代码</code>，得到那一串代码进行复制粘贴就可以使用了。</p><img class="inline-img" src="/../img/51MCU/2_2_1.png" style="height:300px"/><p>实现代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REX52.H&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;INTRINS.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Delay500ms</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="type">unsigned</span> <span class="type">char</span> i, j, k;</span><br><span class="line">  </span><br><span class="line">  _nop_();</span><br><span class="line">  i = <span class="number">4</span>;</span><br><span class="line">  j = <span class="number">129</span>;</span><br><span class="line">  k = <span class="number">119</span>;</span><br><span class="line">  <span class="keyword">do</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">while</span> (--k);</span><br><span class="line">    &#125; <span class="keyword">while</span> (--j);</span><br><span class="line">  &#125; <span class="keyword">while</span> (--i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">  &#123;</span><br><span class="line">      P2 = <span class="number">0xFE</span>;</span><br><span class="line">  Delay500ms();</span><br><span class="line">    P2 = <span class="number">0xFF</span>;</span><br><span class="line">    Delay500ms();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>通过软件复制代码得到延时函数。</li><li>利用延时函数达到亮灭的效果。</li></ul><p>高级代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">int</span> u16;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">char</span> u8;</span><br><span class="line"></span><br><span class="line">sbit LED1 = P2^<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">delay_10us</span><span class="params">(u16 ten_us)</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">while</span>(ten_us--);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">    LED1 = <span class="number">0</span>;</span><br><span class="line">    delay_10us(<span class="number">50000</span>);</span><br><span class="line">    LED1 = <span class="number">1</span>;</span><br><span class="line">    delay_10us(<span class="number">50000</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>第3行的<code>typedef unsigned int u16</code>或者第4行<code>typedef unsigned char u8</code>，将变量名修改为<code>u16</code>和<code>u8</code>，即<code>u16</code>可以当<code>unsigned int</code>使用、<code>u8</code>可以当<code>unsigned char</code>使用。</li><li>第6行的<code>sbit LED1 = P2^0</code>是将<code>LED1</code>定义为管脚<code>P2</code>的0号管脚（第一个管脚，也是第一个led灯）的值，后面就可以使用<code>LED1</code>，给<code>LED1</code>定义值相当于给P2的第0位的值定义。</li></ul><h3 id="2-3-LED流水灯">2.3 LED流水灯</h3><p>实现目的：使得8个LED流水灯轮流闪烁</p><p>实现代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;INTRINS.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Delay500ms</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="type">unsigned</span> <span class="type">char</span> i, j, k;</span><br><span class="line">  </span><br><span class="line">  _nop_();</span><br><span class="line">  i = <span class="number">4</span>;</span><br><span class="line">  j = <span class="number">129</span>;</span><br><span class="line">  k = <span class="number">119</span>;</span><br><span class="line">  <span class="keyword">do</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">while</span> (--k);</span><br><span class="line">    &#125; <span class="keyword">while</span> (--j);</span><br><span class="line">  &#125; <span class="keyword">while</span> (--i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">  &#123;</span><br><span class="line">      P2 = <span class="number">0xFE</span>; <span class="comment">// 1111 1110</span></span><br><span class="line">  Delay500ms();</span><br><span class="line">    P2 = <span class="number">0xFD</span>; <span class="comment">// 1111 1101</span></span><br><span class="line">    Delay500ms();</span><br><span class="line">    P2 = <span class="number">0xFB</span>; <span class="comment">// 1111 1011</span></span><br><span class="line">    Delay500ms();</span><br><span class="line">    P2 = <span class="number">0xF7</span>; <span class="comment">// 1111 0111</span></span><br><span class="line">    Delay500ms();</span><br><span class="line">    P2 = <span class="number">0xEF</span>; <span class="comment">// 1110 1111</span></span><br><span class="line">    Delay500ms();</span><br><span class="line">    P2 = <span class="number">0xDF</span>; <span class="comment">// 1101 1111</span></span><br><span class="line">    Delay500ms();</span><br><span class="line">    P2 = <span class="number">0xBF</span>; <span class="comment">// 1011 1111</span></span><br><span class="line">    Delay500ms();</span><br><span class="line">    P2 = <span class="number">0x7F</span>; <span class="comment">// 0111 1111</span></span><br><span class="line">    Delay500ms();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>通过不断定义P2的值，可以使得8个LED灯轮流闪烁。</li></ul><p>高级代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;reg52.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;intrins.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">int</span> u16;<span class="comment">//对系统默认数据类型进行重定义</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">char</span> u8;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> LED_PORTP2<span class="comment">//使用宏定义P2端口</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">delay_10us</span><span class="params">(u16 ten_us)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span>(ten_us--);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">   u8 i=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">LED_PORT=~<span class="number">0x01</span>;</span><br><span class="line">delay_10us(<span class="number">50000</span>);</span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//方法1：使用移位+循环实现流水灯</span></span><br><span class="line"><span class="comment">//for(i=0;i&lt;8;i++)</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//LED_PORT=~(0x01&lt;&lt;i);//将1右移i位，然后取反将结果赋值到LED_PORT</span></span><br><span class="line"><span class="comment">//delay_10us(50000);</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//方法2：使用循环+_crol_或_cror_函数实现流水灯</span></span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">7</span>;i++) <span class="comment">//将led左移一位</span></span><br><span class="line">&#123;  </span><br><span class="line">LED_PORT=_crol_(LED_PORT,<span class="number">1</span>);</span><br><span class="line">delay_10us(<span class="number">50000</span>); </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">7</span>;i++)<span class="comment">//将led右移一位</span></span><br><span class="line">&#123;</span><br><span class="line">LED_PORT=_cror_(LED_PORT,<span class="number">1</span>);</span><br><span class="line">delay_10us(<span class="number">50000</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>高级代码中使用了文件<code>intrins.h</code>（<code>INTRINS.H</code>），来对流水灯进行移位，其中使用的函数分别为<code>_crol_</code>与<code>_cror_</code>，输入参数有两个，第一个为串口地址，第二个为需要左移或者右移的位数，其功能就是实现led左移或者右移输入的位数。</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;reg52.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;intrins.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">int</span> u16;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">char</span> u8;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> LED_PORTP2</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">delay_10us</span><span class="params">(u16 ten_us)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span>(ten_us--);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  u8 i=<span class="number">0</span>;</span><br><span class="line">LED_PORT=~<span class="number">0x01</span>;</span><br><span class="line">delay_10us(<span class="number">50000</span>);</span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">7</span>;i++)</span><br><span class="line">&#123;  </span><br><span class="line">LED_PORT=_crol_(LED_PORT,<span class="number">1</span>);</span><br><span class="line">delay_10us(<span class="number">50000</span>); </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">7</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line">LED_PORT=_cror_(LED_PORT,<span class="number">1</span>);</span><br><span class="line">delay_10us(<span class="number">50000</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="三、独立按键">三、独立按键</h2><p>与独立按键所相关的原理图</p><img class="inline-img" src="/../img/51MCU/3_1_1.png" style="height:350px"/><h3 id="3-1-独立按键控制LED亮灭">3.1 独立按键控制LED亮灭</h3><p>实现功能：左边第一个按键控制一个LED灯的亮灭。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (P3_1 == <span class="number">0</span>) &#123;</span><br><span class="line">      P2_0 = <span class="number">0</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      P2_0 = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>当按键按下时，其引脚返回的电平值为0；</li><li>LED灯为低电平亮灯。</li></ul><p>高级代码：</p><p>实现功能：按下“独立按键”模块中K1键，控制D1指示灯亮灭</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;reg52.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">int</span> u16;<span class="comment">//对系统默认数据类型进行重定义</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">char</span> u8;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义独立按键控制脚</span></span><br><span class="line">sbit KEY1=P3^<span class="number">1</span>;</span><br><span class="line">sbit KEY2=P3^<span class="number">0</span>;</span><br><span class="line">sbit KEY3=P3^<span class="number">2</span>;</span><br><span class="line">sbit KEY4=P3^<span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义LED1控制脚</span></span><br><span class="line">sbit LED1=P2^<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用宏定义独立按键按下的键值</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> KEY1_PRESS1</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> KEY2_PRESS2</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> KEY3_PRESS3</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> KEY4_PRESS4</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> KEY_UNPRESS0</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">delay_10us</span><span class="params">(u16 ten_us)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span>(ten_us--);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">u8 <span class="title function_">key_scan</span><span class="params">(u8 mode)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">static</span> u8 key=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(mode)key=<span class="number">1</span>;<span class="comment">//连续扫描按键</span></span><br><span class="line"><span class="keyword">if</span>(key==<span class="number">1</span>&amp;&amp;(KEY1==<span class="number">0</span>||KEY2==<span class="number">0</span>||KEY3==<span class="number">0</span>||KEY4==<span class="number">0</span>))<span class="comment">//任意按键按下</span></span><br><span class="line">&#123;</span><br><span class="line">delay_10us(<span class="number">1000</span>);<span class="comment">//消抖</span></span><br><span class="line">key=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span>(KEY1==<span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> KEY1_PRESS;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(KEY2==<span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> KEY2_PRESS;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(KEY3==<span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> KEY3_PRESS;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(KEY4==<span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> KEY4_PRESS;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(KEY1==<span class="number">1</span>&amp;&amp;KEY2==<span class="number">1</span>&amp;&amp;KEY3==<span class="number">1</span>&amp;&amp;KEY4==<span class="number">1</span>)<span class="comment">//无按键按下</span></span><br><span class="line">&#123;</span><br><span class="line">key=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> KEY_UNPRESS;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">u8 key=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">   key=key_scan(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">if</span>(key==KEY1_PRESS)<span class="comment">//检测按键K1是否按下</span></span><br><span class="line">LED1=!LED1;<span class="comment">//LED1状态翻转</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>在前面重定义了默认数据类型，将<code>unsigned char</code>定义为<code>u8</code>，将<code>unsigned int</code>定义为<code>u16</code>，更加方便简洁清晰。</li><li>分别定义了独立按键的控制脚和LED控制脚，注意对比原理图和控制脚的位置，独立按键的四个控制脚上面的管脚数字顺序并不是有顺序的。</li><li>利用宏定义确定了返回数据值，这样使得代码更加易读。</li><li>按键扫描函数<code>key_scan</code>：检测独立按键是否按下，按下则返回对应键值。只有一个输入参数<code>mode</code>, <code>mode=0</code>：单次扫描按键，<code>mode=1</code>：连续扫描按键。</li></ul><h3 id="3-2-独立按键控制LED状态">3.2 独立按键控制LED状态</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">delay_10us</span><span class="params">(u16 ten_us)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span>(ten_us--);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (P3_1 == <span class="number">0</span>) &#123;</span><br><span class="line">      delay_10us(<span class="number">2000</span>);</span><br><span class="line">      <span class="keyword">while</span> (P3_1 == <span class="number">0</span>) &#123;</span><br><span class="line">        P2_0 = <span class="number">0</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      delay_10us(<span class="number">2000</span>);</span><br><span class="line">      P2_2 = ~P2_2;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>由于LED的引脚输入低电平的时候会亮灯，所以只要按键按下后，经过20ms的消抖，如果按键依旧是按下的状态，那么对应的LED就会亮灯，如果松开，则会在延迟20ms之后灭灯。</li></ul><h3 id="3-3-独立按键控制LED显示二进制">3.3 独立按键控制LED显示二进制</h3><p>实现功能：按键松开会使得所有的LED灯进行二进制变换亮灯。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">delay_10us</span><span class="params">(u16 ten_us)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span>(ten_us--);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="type">unsigned</span> <span class="type">char</span> LED_num = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (P3_1 == <span class="number">0</span>) &#123;</span><br><span class="line">      delay_10us(<span class="number">2000</span>);</span><br><span class="line">      <span class="keyword">while</span> (P3_1 == <span class="number">0</span>) ;</span><br><span class="line">      delay_10us(<span class="number">2000</span>);</span><br><span class="line">      LED_num++;</span><br><span class="line">      P2 = ~LED_num;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>与前面不同的是，这里的LED灯会进行二进制的变换。</li><li>不同的是，在<code>while</code>语句里面并没有操作，而是在延迟后才有操作，这样使得在按键抬起才会实现需要的功能。</li><li>但是这种方法也有弊端，那就是这种代码只要P3_1一旦处于低电平状态，后面功能就会触发。而前面[3.2](###3.2 独立按键控制LED状态)中需要在P3_1在处于低电平的触发状态后20ms依旧还是低电平，这样才会触发功能。</li></ul><h3 id="3-4-独立按键控制LED移位">3.4 独立按键控制LED移位</h3><p>实现功能：松开按键后会对LED进行移位</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">delay_10us</span><span class="params">(u16 ten_us)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span>(ten_us--);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">  <span class="type">unsigned</span> <span class="type">char</span> LED_num = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (P3_1 == <span class="number">0</span>) &#123;</span><br><span class="line">      delay_10us(<span class="number">2000</span>);</span><br><span class="line">      <span class="keyword">while</span> (P3_1 == <span class="number">0</span>) ;</span><br><span class="line">      delay_10us(<span class="number">2000</span>);</span><br><span class="line">      LED_num++;</span><br><span class="line">      <span class="keyword">if</span> (LED_num &gt;= <span class="number">8</span>) &#123;</span><br><span class="line">        LED_num = <span class="number">0</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      P2 = ~(<span class="number">0x01</span> &lt;&lt; LED_num);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (P3_0 == <span class="number">0</span>) &#123;</span><br><span class="line">      delay_10us(<span class="number">2000</span>);</span><br><span class="line">      <span class="keyword">while</span> (P3_1 == <span class="number">0</span>) ;</span><br><span class="line">      delay_10us(<span class="number">2000</span>);</span><br><span class="line">      LED_num++;</span><br><span class="line">      <span class="keyword">if</span> (LED_num == <span class="number">0</span>) &#123;</span><br><span class="line">        LED_num = <span class="number">7</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        LED_num--;</span><br><span class="line">      &#125;</span><br><span class="line">      P2 = ~(<span class="number">0x01</span> &lt;&lt; LED_num);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>通过控制LED_num的数字，来确定P2移位的数量。</li><li>由于P2是低电平亮灯，所以需要进行取反，使得只有一个数字为零，即一个灯亮。</li><li>通过两个if语句判断来实现两个按键不同的功能，一个进行右移，一个进行左移，而通过控制按键的响应为移位的数字的加减来达到左右移的目的。</li></ul><h2 id="四、数码管显示">四、数码管显示</h2><p>与七段数码管所相关的原理图</p><img class="inline-img" src="/../img/51MCU/4_1_1.png" style="height:350px"/><img class="inline-img" src="/../img/51MCU/4_1_2.png" style="height:450px"/><ul><li>上图中，控制8个LED亮灭的是71LS138芯片的引脚P2_2、P2_3、P2_4，按照二进制来控制，即引脚P2_2、P2_3、P2_4组合成为的一个3位二进制数将对需要显示的LED进行选择。例如，如果引脚P2_2、P2_3、P2_4分别为010，则会使得后面的8位二进制数控制LED3。</li><li>上图中，动态数码管模块的左边P0_1~P0_7八个引脚就是控制LED亮灭的8位二进制数，高电平亮灯，芯片74HC245的功能是管脚对应进行增加驱动。</li></ul><h3 id="4-1-静态数码管显示">4.1 静态数码管显示</h3><p>点亮一个静态数码管LED6，使其显示6</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> NixieTable[] = &#123;<span class="number">0x3F</span>, <span class="number">0x06</span>, <span class="number">0x5B</span>, <span class="number">0x4F</span>, <span class="number">0x66</span>, <span class="number">0x6D</span>, <span class="number">0x7D</span>, <span class="number">0x07</span>, <span class="number">0x7F</span>, <span class="number">0x6F</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">delay_10us</span><span class="params">(u16 ten_us)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span>(ten_us--);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">light</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> location, <span class="type">unsigned</span> <span class="type">char</span> number)</span> &#123;</span><br><span class="line">  <span class="keyword">switch</span>(location) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>: P2_4=<span class="number">0</span>; P2_3=<span class="number">0</span>; P2_2=<span class="number">0</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>: P2_4=<span class="number">0</span>; P2_3=<span class="number">0</span>; P2_2=<span class="number">1</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>: P2_4=<span class="number">0</span>; P2_3=<span class="number">1</span>; P2_2=<span class="number">0</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">4</span>: P2_4=<span class="number">0</span>; P2_3=<span class="number">1</span>; P2_2=<span class="number">1</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">5</span>: P2_4=<span class="number">1</span>; P2_3=<span class="number">0</span>; P2_2=<span class="number">0</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">6</span>: P2_4=<span class="number">1</span>; P2_3=<span class="number">0</span>; P2_2=<span class="number">1</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">7</span>: P2_4=<span class="number">1</span>; P2_3=<span class="number">1</span>; P2_2=<span class="number">0</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">8</span>: P2_4=<span class="number">1</span>; P2_3=<span class="number">1</span>; P2_2=<span class="number">1</span>; <span class="keyword">break</span>;     </span><br><span class="line">  &#125;</span><br><span class="line">  P0 = NixieTable[number];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    light(<span class="number">6</span>, <span class="number">6</span>);</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>) &#123;&#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><ul><li>通过一个函数进行实现。</li><li>函数里面的case是选择哪个LED进行亮灯</li><li>前面定义的数组<code>NixieTable</code>是数码管数字显示的阳码，一共十个数字，对应的下标里面的内容如果赋值到P0则会显示对应下标的数字</li></ul><h3 id="4-2-动态数码管显示">4.2 动态数码管显示</h3><p>实现功能：从左往右第一、二、三个数码管动态显示数字456。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> NixieTable[] = &#123;<span class="number">0x3F</span>, <span class="number">0x06</span>, <span class="number">0x5B</span>, <span class="number">0x4F</span>, <span class="number">0x66</span>, <span class="number">0x6D</span>, <span class="number">0x7D</span>, <span class="number">0x07</span>, <span class="number">0x7F</span>, <span class="number">0x6F</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">delay_10us</span><span class="params">(u16 ten_us)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span>(ten_us--);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">light</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> location, <span class="type">unsigned</span> <span class="type">char</span> number)</span> &#123;</span><br><span class="line">  <span class="keyword">switch</span>(location) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>: P2_4=<span class="number">0</span>; P2_3=<span class="number">0</span>; P2_2=<span class="number">0</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>: P2_4=<span class="number">0</span>; P2_3=<span class="number">0</span>; P2_2=<span class="number">1</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>: P2_4=<span class="number">0</span>; P2_3=<span class="number">1</span>; P2_2=<span class="number">0</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">4</span>: P2_4=<span class="number">0</span>; P2_3=<span class="number">1</span>; P2_2=<span class="number">1</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">5</span>: P2_4=<span class="number">1</span>; P2_3=<span class="number">0</span>; P2_2=<span class="number">0</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">6</span>: P2_4=<span class="number">1</span>; P2_3=<span class="number">0</span>; P2_2=<span class="number">1</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">7</span>: P2_4=<span class="number">1</span>; P2_3=<span class="number">1</span>; P2_2=<span class="number">0</span>; <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">8</span>: P2_4=<span class="number">1</span>; P2_3=<span class="number">1</span>; P2_2=<span class="number">1</span>; <span class="keyword">break</span>;     </span><br><span class="line">  &#125;</span><br><span class="line">  P0 = NixieTable[number];</span><br><span class="line">  delay_10us(<span class="number">100</span>);</span><br><span class="line">  P0 = <span class="number">0x00</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>) &#123;</span><br><span class="line">      light(<span class="number">6</span>, <span class="number">6</span>);</span><br><span class="line">      <span class="comment">// delay_10us(2000);</span></span><br><span class="line">      light(<span class="number">7</span>, <span class="number">5</span>);</span><br><span class="line">      <span class="comment">// delay_10us(2000);</span></span><br><span class="line">      light(<span class="number">8</span>, <span class="number">4</span>);</span><br><span class="line">      <span class="comment">// delay_10us(2000);</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><ul><li>与前面相比，只是修改了<code>light</code>函数，在后面增加了一下延迟而已。</li></ul><p>高级代码：</p><p>实现功能：“数码管模块”显示01234567</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;reg52.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">int</span> u16;<span class="comment">//对系统默认数据类型进行重定义</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">char</span> u8;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SMG_A_DP_PORTP0<span class="comment">//使用宏定义数码管段码口</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义数码管位选信号控制脚</span></span><br><span class="line">sbit LSA=P2^<span class="number">2</span>;</span><br><span class="line">sbit LSB=P2^<span class="number">3</span>;</span><br><span class="line">sbit LSC=P2^<span class="number">4</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//共阴极数码管显示0~F的段码数据</span></span><br><span class="line">u8 gsmg_code[<span class="number">17</span>]=&#123;<span class="number">0x3f</span>,<span class="number">0x06</span>,<span class="number">0x5b</span>,<span class="number">0x4f</span>,<span class="number">0x66</span>,<span class="number">0x6d</span>,<span class="number">0x7d</span>,<span class="number">0x07</span>,</span><br><span class="line"><span class="number">0x7f</span>,<span class="number">0x6f</span>,<span class="number">0x77</span>,<span class="number">0x7c</span>,<span class="number">0x39</span>,<span class="number">0x5e</span>,<span class="number">0x79</span>,<span class="number">0x71</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">delay_10us</span><span class="params">(u16 ten_us)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span>(ten_us--);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">smg_display</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">u8 i=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">8</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line">   <span class="keyword">switch</span>(i)<span class="comment">//位选</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0</span>: LSC=<span class="number">1</span>;LSB=<span class="number">1</span>;LSA=<span class="number">1</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>: LSC=<span class="number">1</span>;LSB=<span class="number">1</span>;LSA=<span class="number">0</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>: LSC=<span class="number">1</span>;LSB=<span class="number">0</span>;LSA=<span class="number">1</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">3</span>: LSC=<span class="number">1</span>;LSB=<span class="number">0</span>;LSA=<span class="number">0</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">4</span>: LSC=<span class="number">0</span>;LSB=<span class="number">1</span>;LSA=<span class="number">1</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">5</span>: LSC=<span class="number">0</span>;LSB=<span class="number">1</span>;LSA=<span class="number">0</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">6</span>: LSC=<span class="number">0</span>;LSB=<span class="number">0</span>;LSA=<span class="number">1</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">7</span>: LSC=<span class="number">0</span>;LSB=<span class="number">0</span>;LSA=<span class="number">0</span>;<span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">SMG_A_DP_PORT=gsmg_code[i]; <span class="comment">//传送段选数据</span></span><br><span class="line">delay_10us(<span class="number">100</span>); <span class="comment">//延时一段时间，等待显示稳定</span></span><br><span class="line">SMG_A_DP_PORT=<span class="number">0x00</span>; <span class="comment">//消音</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">   smg_display();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>实际上与普通代码无异，主要是体现在<code>smg_display</code>，必须要经历段选数据的传送、延时以及消音。可以通过增加<code>smg_display</code>的输入参数，使得函数的适用性更广。</li><li>相比于普通的代码，这里的高级代码只是在前面定义了更多数据，增加了代码的易读性。</li></ul><h2 id="五、模块化编程">五、模块化编程</h2><img class="inline-img" src="/../img/51MCU/5_1_1.png" style="height:450px"/><h3 id="5-1自定义模版的固定开头">5.1自定义模版的固定开头</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#ifndef __ _H__</span><br><span class="line">#define</span><br><span class="line"></span><br><span class="line">#endif</span><br></pre></td></tr></table></figure><h3 id="5-2-LCD1602模块代码">5.2 LCD1602模块代码</h3><p>LCD1602.c</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//引脚配置：</span></span><br><span class="line">sbit LCD_RS=P2^<span class="number">6</span>;</span><br><span class="line">sbit LCD_RW=P2^<span class="number">5</span>;</span><br><span class="line">sbit LCD_EN=P2^<span class="number">7</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> LCD_DataPort P0</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//函数定义：</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  LCD1602延时函数，12MHz调用可延时1ms</span></span><br><span class="line"><span class="comment">  * @param  无</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_Delay</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> i, j;</span><br><span class="line"> </span><br><span class="line">    i = <span class="number">2</span>;</span><br><span class="line">    j = <span class="number">239</span>;</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span> (--j);</span><br><span class="line">    &#125; <span class="keyword">while</span> (--i);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  LCD1602写命令</span></span><br><span class="line"><span class="comment">  * @param  Command 要写入的命令</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_WriteCommand</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Command)</span></span><br><span class="line">&#123;</span><br><span class="line">    LCD_RS=<span class="number">0</span>;</span><br><span class="line">    LCD_RW=<span class="number">0</span>;</span><br><span class="line">    LCD_DataPort=Command;</span><br><span class="line">    LCD_EN=<span class="number">1</span>;</span><br><span class="line">    LCD_Delay();</span><br><span class="line">    LCD_EN=<span class="number">0</span>;</span><br><span class="line">    LCD_Delay();</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  LCD1602写数据</span></span><br><span class="line"><span class="comment">  * @param  Data 要写入的数据</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_WriteData</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Data)</span></span><br><span class="line">&#123;</span><br><span class="line">    LCD_RS=<span class="number">1</span>;</span><br><span class="line">    LCD_RW=<span class="number">0</span>;</span><br><span class="line">    LCD_DataPort=Data;</span><br><span class="line">    LCD_EN=<span class="number">1</span>;</span><br><span class="line">    LCD_Delay();</span><br><span class="line">    LCD_EN=<span class="number">0</span>;</span><br><span class="line">    LCD_Delay();</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  LCD1602设置光标位置</span></span><br><span class="line"><span class="comment">  * @param  Line 行位置，范围：1~2</span></span><br><span class="line"><span class="comment">  * @param  Column 列位置，范围：1~16</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_SetCursor</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Line,<span class="type">unsigned</span> <span class="type">char</span> Column)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(Line==<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        LCD_WriteCommand(<span class="number">0x80</span>|(Column<span class="number">-1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(Line==<span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        LCD_WriteCommand(<span class="number">0x80</span>|(Column<span class="number">-1</span>+<span class="number">0x40</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  LCD1602初始化函数</span></span><br><span class="line"><span class="comment">  * @param  无</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_Init</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    LCD_WriteCommand(<span class="number">0x38</span>);<span class="comment">//八位数据接口，两行显示，5*7点阵</span></span><br><span class="line">    LCD_WriteCommand(<span class="number">0x0c</span>);<span class="comment">//显示开，光标关，闪烁关</span></span><br><span class="line">    LCD_WriteCommand(<span class="number">0x06</span>);<span class="comment">//数据读写操作后，光标自动加一，画面不动</span></span><br><span class="line">    LCD_WriteCommand(<span class="number">0x01</span>);<span class="comment">//光标复位，清屏</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  在LCD1602指定位置上显示一个字符</span></span><br><span class="line"><span class="comment">  * @param  Line 行位置，范围：1~2</span></span><br><span class="line"><span class="comment">  * @param  Column 列位置，范围：1~16</span></span><br><span class="line"><span class="comment">  * @param  Char 要显示的字符</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_ShowChar</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Line,<span class="type">unsigned</span> <span class="type">char</span> Column,<span class="type">char</span> Char)</span></span><br><span class="line">&#123;</span><br><span class="line">    LCD_SetCursor(Line,Column);</span><br><span class="line">    LCD_WriteData(Char);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  在LCD1602指定位置开始显示所给字符串</span></span><br><span class="line"><span class="comment">  * @param  Line 起始行位置，范围：1~2</span></span><br><span class="line"><span class="comment">  * @param  Column 起始列位置，范围：1~16</span></span><br><span class="line"><span class="comment">  * @param  String 要显示的字符串</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_ShowString</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Line,<span class="type">unsigned</span> <span class="type">char</span> Column,<span class="type">char</span> *String)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> i;</span><br><span class="line">    LCD_SetCursor(Line,Column);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;String[i]!=<span class="string">&#x27;\0&#x27;</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        LCD_WriteData(String[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  返回值=X的Y次方</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">LCD_Pow</span><span class="params">(<span class="type">int</span> X,<span class="type">int</span> Y)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> i;</span><br><span class="line">    <span class="type">int</span> Result=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;Y;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        Result*=X;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Result;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  在LCD1602指定位置开始显示所给数字</span></span><br><span class="line"><span class="comment">  * @param  Line 起始行位置，范围：1~2</span></span><br><span class="line"><span class="comment">  * @param  Column 起始列位置，范围：1~16</span></span><br><span class="line"><span class="comment">  * @param  Number 要显示的数字，范围：0~65535</span></span><br><span class="line"><span class="comment">  * @param  Length 要显示数字的长度，范围：1~5</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_ShowNum</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Line,<span class="type">unsigned</span> <span class="type">char</span> Column,<span class="type">unsigned</span> <span class="type">int</span> Number,<span class="type">unsigned</span> <span class="type">char</span> Length)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> i;</span><br><span class="line">    LCD_SetCursor(Line,Column);</span><br><span class="line">    <span class="keyword">for</span>(i=Length;i&gt;<span class="number">0</span>;i--)</span><br><span class="line">    &#123;</span><br><span class="line">        LCD_WriteData(Number/LCD_Pow(<span class="number">10</span>,i<span class="number">-1</span>)%<span class="number">10</span>+<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  在LCD1602指定位置开始以有符号十进制显示所给数字</span></span><br><span class="line"><span class="comment">  * @param  Line 起始行位置，范围：1~2</span></span><br><span class="line"><span class="comment">  * @param  Column 起始列位置，范围：1~16</span></span><br><span class="line"><span class="comment">  * @param  Number 要显示的数字，范围：-32768~32767</span></span><br><span class="line"><span class="comment">  * @param  Length 要显示数字的长度，范围：1~5</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_ShowSignedNum</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Line,<span class="type">unsigned</span> <span class="type">char</span> Column,<span class="type">int</span> Number,<span class="type">unsigned</span> <span class="type">char</span> Length)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> i;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> Number1;</span><br><span class="line">    LCD_SetCursor(Line,Column);</span><br><span class="line">    <span class="keyword">if</span>(Number&gt;=<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        LCD_WriteData(<span class="string">&#x27;+&#x27;</span>);</span><br><span class="line">        Number1=Number;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        LCD_WriteData(<span class="string">&#x27;-&#x27;</span>);</span><br><span class="line">        Number1=-Number;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(i=Length;i&gt;<span class="number">0</span>;i--)</span><br><span class="line">    &#123;</span><br><span class="line">        LCD_WriteData(Number1/LCD_Pow(<span class="number">10</span>,i<span class="number">-1</span>)%<span class="number">10</span>+<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  在LCD1602指定位置开始以十六进制显示所给数字</span></span><br><span class="line"><span class="comment">  * @param  Line 起始行位置，范围：1~2</span></span><br><span class="line"><span class="comment">  * @param  Column 起始列位置，范围：1~16</span></span><br><span class="line"><span class="comment">  * @param  Number 要显示的数字，范围：0~0xFFFF</span></span><br><span class="line"><span class="comment">  * @param  Length 要显示数字的长度，范围：1~4</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_ShowHexNum</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Line,<span class="type">unsigned</span> <span class="type">char</span> Column,<span class="type">unsigned</span> <span class="type">int</span> Number,<span class="type">unsigned</span> <span class="type">char</span> Length)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> i,SingleNumber;</span><br><span class="line">    LCD_SetCursor(Line,Column);</span><br><span class="line">    <span class="keyword">for</span>(i=Length;i&gt;<span class="number">0</span>;i--)</span><br><span class="line">    &#123;</span><br><span class="line">        SingleNumber=Number/LCD_Pow(<span class="number">16</span>,i<span class="number">-1</span>)%<span class="number">16</span>;</span><br><span class="line">        <span class="keyword">if</span>(SingleNumber&lt;<span class="number">10</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            LCD_WriteData(SingleNumber+<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            LCD_WriteData(SingleNumber<span class="number">-10</span>+<span class="string">&#x27;A&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  在LCD1602指定位置开始以二进制显示所给数字</span></span><br><span class="line"><span class="comment">  * @param  Line 起始行位置，范围：1~2</span></span><br><span class="line"><span class="comment">  * @param  Column 起始列位置，范围：1~16</span></span><br><span class="line"><span class="comment">  * @param  Number 要显示的数字，范围：0~1111 1111 1111 1111</span></span><br><span class="line"><span class="comment">  * @param  Length 要显示数字的长度，范围：1~16</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_ShowBinNum</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Line,<span class="type">unsigned</span> <span class="type">char</span> Column,<span class="type">unsigned</span> <span class="type">int</span> Number,<span class="type">unsigned</span> <span class="type">char</span> Length)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> i;</span><br><span class="line">    LCD_SetCursor(Line,Column);</span><br><span class="line">    <span class="keyword">for</span>(i=Length;i&gt;<span class="number">0</span>;i--)</span><br><span class="line">    &#123;</span><br><span class="line">        LCD_WriteData(Number/LCD_Pow(<span class="number">2</span>,i<span class="number">-1</span>)%<span class="number">2</span>+<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>LCD1602.h</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __LCD1602_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __LCD1602_H__</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//用户调用函数：</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_Init</span><span class="params">()</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_ShowChar</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Line,<span class="type">unsigned</span> <span class="type">char</span> Column,<span class="type">char</span> Char)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_ShowString</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Line,<span class="type">unsigned</span> <span class="type">char</span> Column,<span class="type">char</span> *String)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_ShowNum</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Line,<span class="type">unsigned</span> <span class="type">char</span> Column,<span class="type">unsigned</span> <span class="type">int</span> Number,<span class="type">unsigned</span> <span class="type">char</span> Length)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_ShowSignedNum</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Line,<span class="type">unsigned</span> <span class="type">char</span> Column,<span class="type">int</span> Number,<span class="type">unsigned</span> <span class="type">char</span> Length)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_ShowHexNum</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Line,<span class="type">unsigned</span> <span class="type">char</span> Column,<span class="type">unsigned</span> <span class="type">int</span> Number,<span class="type">unsigned</span> <span class="type">char</span> Length)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">LCD_ShowBinNum</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Line,<span class="type">unsigned</span> <span class="type">char</span> Column,<span class="type">unsigned</span> <span class="type">int</span> Number,<span class="type">unsigned</span> <span class="type">char</span> Length)</span>;</span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><h2 id="六、矩阵键盘按键">六、矩阵键盘按键</h2><h3 id="6-1-矩阵键盘">6.1 矩阵键盘</h3><p>返回矩阵键盘按下后对应的值</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;regx51.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;INTRINS.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Delay_1ms</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> times)</span> &#123;</span><br><span class="line">  <span class="keyword">do</span>&#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> i, j;</span><br><span class="line">    _nop_();</span><br><span class="line">    i = <span class="number">2</span>;</span><br><span class="line">    j = <span class="number">199</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">      <span class="keyword">while</span>(--j);</span><br><span class="line">    &#125; <span class="keyword">while</span>(--i);</span><br><span class="line">  &#125; <span class="keyword">while</span>(times--) </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">MatrixKey</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> KeyNumber = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">P1 = <span class="number">0xFF</span>;</span><br><span class="line">P1_3 = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (P1_7 == <span class="number">0</span>) &#123;Delay_1ms(<span class="number">20</span>); <span class="keyword">while</span>(P1_7 == <span class="number">0</span>); Delay_1ms(<span class="number">20</span>); KeyNumber = <span class="number">1</span>;&#125;</span><br><span class="line">  <span class="keyword">if</span> (P1_6 == <span class="number">0</span>) &#123;Delay_1ms(<span class="number">20</span>); <span class="keyword">while</span>(P1_7 == <span class="number">0</span>); Delay_1ms(<span class="number">20</span>); KeyNumber = <span class="number">5</span>;&#125;</span><br><span class="line"><span class="keyword">if</span> (P1_5 == <span class="number">0</span>) &#123;Delay_1ms(<span class="number">20</span>); <span class="keyword">while</span>(P1_7 == <span class="number">0</span>); Delay_1ms(<span class="number">20</span>); KeyNumber = <span class="number">9</span>;&#125;</span><br><span class="line">  <span class="keyword">if</span> (P1_3 == <span class="number">0</span>) &#123;Delay_1ms(<span class="number">20</span>); <span class="keyword">while</span>(P1_7 == <span class="number">0</span>); Delay_1ms(<span class="number">20</span>); KeyNumber = <span class="number">13</span>;&#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  P1 = <span class="number">0xFF</span>;</span><br><span class="line">P1_2 = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (P1_7 == <span class="number">0</span>) &#123;Delay_1ms(<span class="number">20</span>); <span class="keyword">while</span>(P1_7 == <span class="number">0</span>); Delay_1ms(<span class="number">20</span>); KeyNumber = <span class="number">2</span>;&#125;</span><br><span class="line">  <span class="keyword">if</span> (P1_6 == <span class="number">0</span>) &#123;Delay_1ms(<span class="number">20</span>); <span class="keyword">while</span>(P1_7 == <span class="number">0</span>); Delay_1ms(<span class="number">20</span>); KeyNumber = <span class="number">6</span>;&#125;</span><br><span class="line"><span class="keyword">if</span> (P1_5 == <span class="number">0</span>) &#123;Delay_1ms(<span class="number">20</span>); <span class="keyword">while</span>(P1_7 == <span class="number">0</span>); Delay_1ms(<span class="number">20</span>); KeyNumber = <span class="number">10</span>;&#125;</span><br><span class="line">  <span class="keyword">if</span> (P1_3 == <span class="number">0</span>) &#123;Delay_1ms(<span class="number">20</span>); <span class="keyword">while</span>(P1_7 == <span class="number">0</span>); Delay_1ms(<span class="number">20</span>); KeyNumber = <span class="number">14</span>;&#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  P1 = <span class="number">0xFF</span>;</span><br><span class="line">P1_1 = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (P1_7 == <span class="number">0</span>) &#123;Delay_1ms(<span class="number">20</span>); <span class="keyword">while</span>(P1_7 == <span class="number">0</span>); Delay_1ms(<span class="number">20</span>); KeyNumber = <span class="number">3</span>;&#125;</span><br><span class="line">  <span class="keyword">if</span> (P1_6 == <span class="number">0</span>) &#123;Delay_1ms(<span class="number">20</span>); <span class="keyword">while</span>(P1_7 == <span class="number">0</span>); Delay_1ms(<span class="number">20</span>); KeyNumber = <span class="number">7</span>;&#125;</span><br><span class="line"><span class="keyword">if</span> (P1_5 == <span class="number">0</span>) &#123;Delay_1ms(<span class="number">20</span>); <span class="keyword">while</span>(P1_7 == <span class="number">0</span>); Delay_1ms(<span class="number">20</span>); KeyNumber = <span class="number">11</span>;&#125;</span><br><span class="line">  <span class="keyword">if</span> (P1_3 == <span class="number">0</span>) &#123;Delay_1ms(<span class="number">20</span>); <span class="keyword">while</span>(P1_7 == <span class="number">0</span>); Delay_1ms(<span class="number">20</span>); KeyNumber = <span class="number">15</span>;&#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  P1 = <span class="number">0xFF</span>;</span><br><span class="line">P1_0 = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (P1_7 == <span class="number">0</span>) &#123;Delay_1ms(<span class="number">20</span>); <span class="keyword">while</span>(P1_7 == <span class="number">0</span>); Delay_1ms(<span class="number">20</span>); KeyNumber = <span class="number">4</span>;&#125;</span><br><span class="line">  <span class="keyword">if</span> (P1_6 == <span class="number">0</span>) &#123;Delay_1ms(<span class="number">20</span>); <span class="keyword">while</span>(P1_7 == <span class="number">0</span>); Delay_1ms(<span class="number">20</span>); KeyNumber = <span class="number">8</span>;&#125;</span><br><span class="line"><span class="keyword">if</span> (P1_5 == <span class="number">0</span>) &#123;Delay_1ms(<span class="number">20</span>); <span class="keyword">while</span>(P1_7 == <span class="number">0</span>); Delay_1ms(<span class="number">20</span>); KeyNumber = <span class="number">12</span>;&#125;</span><br><span class="line">  <span class="keyword">if</span> (P1_3 == <span class="number">0</span>) &#123;Delay_1ms(<span class="number">20</span>); <span class="keyword">while</span>(P1_7 == <span class="number">0</span>); Delay_1ms(<span class="number">20</span>); KeyNumber = <span class="number">16</span>;&#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">return</span> KeyNumber;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>高级代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**************************************************************************************</span></span><br><span class="line"><span class="comment">深圳市普中科技有限公司（PRECHIN 普中）</span></span><br><span class="line"><span class="comment">技术支持：www.prechin.net</span></span><br><span class="line"><span class="comment">PRECHIN</span></span><br><span class="line"><span class="comment"> 普中</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">实验名称：矩阵按键实验</span></span><br><span class="line"><span class="comment">接线说明：</span></span><br><span class="line"><span class="comment">实验现象：下载程序后，按下“矩阵按键”模块中S1-S16键，对应数码管最左边显示0-F</span></span><br><span class="line"><span class="comment">注意事项：  </span></span><br><span class="line"><span class="comment">***************************************************************************************/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;reg52.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">int</span> u16;<span class="comment">//对系统默认数据类型进行重定义</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">char</span> u8;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> KEY_MATRIX_PORTP1<span class="comment">//使用宏定义矩阵按键控制口</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SMG_A_DP_PORTP0<span class="comment">//使用宏定义数码管段码口</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//共阴极数码管显示0~F的段码数据</span></span><br><span class="line">u8 gsmg_code[<span class="number">17</span>]=&#123;<span class="number">0x3f</span>,<span class="number">0x06</span>,<span class="number">0x5b</span>,<span class="number">0x4f</span>,<span class="number">0x66</span>,<span class="number">0x6d</span>,<span class="number">0x7d</span>,<span class="number">0x07</span>,</span><br><span class="line"><span class="number">0x7f</span>,<span class="number">0x6f</span>,<span class="number">0x77</span>,<span class="number">0x7c</span>,<span class="number">0x39</span>,<span class="number">0x5e</span>,<span class="number">0x79</span>,<span class="number">0x71</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*******************************************************************************</span></span><br><span class="line"><span class="comment">* 函 数 名       : delay_10us</span></span><br><span class="line"><span class="comment">* 函数功能 : 延时函数，ten_us=1时，大约延时10us</span></span><br><span class="line"><span class="comment">* 输    入       : ten_us</span></span><br><span class="line"><span class="comment">* 输    出     : 无</span></span><br><span class="line"><span class="comment">*******************************************************************************/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">delay_10us</span><span class="params">(u16 ten_us)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span>(ten_us--);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*******************************************************************************</span></span><br><span class="line"><span class="comment">* 函 数 名       : key_matrix_ranks_scan</span></span><br><span class="line"><span class="comment">* 函数功能 : 使用行列式扫描方法，检测矩阵按键是否按下，按下则返回对应键值</span></span><br><span class="line"><span class="comment">* 输    入       : 无</span></span><br><span class="line"><span class="comment">* 输    出     : key_value：1-16，对应S1-S16键，</span></span><br><span class="line"><span class="comment">   0：按键未按下</span></span><br><span class="line"><span class="comment">*******************************************************************************/</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">key_matrix_ranks_scan</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> key_value=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">KEY_MATRIX_PORT=<span class="number">0xf7</span>;<span class="comment">//给第一列赋值0，其余全为1</span></span><br><span class="line"><span class="keyword">if</span>(KEY_MATRIX_PORT!=<span class="number">0xf7</span>)<span class="comment">//判断第一列按键是否按下</span></span><br><span class="line">&#123;</span><br><span class="line">delay_10us(<span class="number">1000</span>);<span class="comment">//消抖</span></span><br><span class="line"><span class="keyword">switch</span>(KEY_MATRIX_PORT)<span class="comment">//保存第一列按键按下后的键值</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0x77</span>: key_value=<span class="number">1</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0xb7</span>: key_value=<span class="number">5</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0xd7</span>: key_value=<span class="number">9</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0xe7</span>: key_value=<span class="number">13</span>;<span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>(KEY_MATRIX_PORT!=<span class="number">0xf7</span>);<span class="comment">//等待按键松开</span></span><br><span class="line"></span><br><span class="line">KEY_MATRIX_PORT=<span class="number">0xfb</span>;<span class="comment">//给第二列赋值0，其余全为1</span></span><br><span class="line"><span class="keyword">if</span>(KEY_MATRIX_PORT!=<span class="number">0xfb</span>)<span class="comment">//判断第二列按键是否按下</span></span><br><span class="line">&#123;</span><br><span class="line">delay_10us(<span class="number">1000</span>);<span class="comment">//消抖</span></span><br><span class="line"><span class="keyword">switch</span>(KEY_MATRIX_PORT)<span class="comment">//保存第二列按键按下后的键值</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0x7b</span>: key_value=<span class="number">2</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0xbb</span>: key_value=<span class="number">6</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0xdb</span>: key_value=<span class="number">10</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0xeb</span>: key_value=<span class="number">14</span>;<span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>(KEY_MATRIX_PORT!=<span class="number">0xfb</span>);<span class="comment">//等待按键松开</span></span><br><span class="line"></span><br><span class="line">KEY_MATRIX_PORT=<span class="number">0xfd</span>;<span class="comment">//给第三列赋值0，其余全为1</span></span><br><span class="line"><span class="keyword">if</span>(KEY_MATRIX_PORT!=<span class="number">0xfd</span>)<span class="comment">//判断第三列按键是否按下</span></span><br><span class="line">&#123;</span><br><span class="line">delay_10us(<span class="number">1000</span>);<span class="comment">//消抖</span></span><br><span class="line"><span class="keyword">switch</span>(KEY_MATRIX_PORT)<span class="comment">//保存第三列按键按下后的键值</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0x7d</span>: key_value=<span class="number">3</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0xbd</span>: key_value=<span class="number">7</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0xdd</span>: key_value=<span class="number">11</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0xed</span>: key_value=<span class="number">15</span>;<span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>(KEY_MATRIX_PORT!=<span class="number">0xfd</span>);<span class="comment">//等待按键松开</span></span><br><span class="line"></span><br><span class="line">KEY_MATRIX_PORT=<span class="number">0xfe</span>;<span class="comment">//给第四列赋值0，其余全为1</span></span><br><span class="line"><span class="keyword">if</span>(KEY_MATRIX_PORT!=<span class="number">0xfe</span>)<span class="comment">//判断第四列按键是否按下</span></span><br><span class="line">&#123;</span><br><span class="line">delay_10us(<span class="number">1000</span>);<span class="comment">//消抖</span></span><br><span class="line"><span class="keyword">switch</span>(KEY_MATRIX_PORT)<span class="comment">//保存第四列按键按下后的键值</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0x7e</span>: key_value=<span class="number">4</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0xbe</span>: key_value=<span class="number">8</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0xde</span>: key_value=<span class="number">12</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0xee</span>: key_value=<span class="number">16</span>;<span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>(KEY_MATRIX_PORT!=<span class="number">0xfe</span>);<span class="comment">//等待按键松开</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> key_value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*******************************************************************************</span></span><br><span class="line"><span class="comment">* 函 数 名       : key_matrix_flip_scan</span></span><br><span class="line"><span class="comment">* 函数功能 : 使用线翻转扫描方法，检测矩阵按键是否按下，按下则返回对应键值</span></span><br><span class="line"><span class="comment">* 输    入       : 无</span></span><br><span class="line"><span class="comment">* 输    出     : key_value：1-16，对应S1-S16键，</span></span><br><span class="line"><span class="comment">   0：按键未按下</span></span><br><span class="line"><span class="comment">*******************************************************************************/</span></span><br><span class="line">u8 <span class="title function_">key_matrix_flip_scan</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">static</span> u8 key_value=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">KEY_MATRIX_PORT=<span class="number">0x0f</span>;<span class="comment">//给所有行赋值0，列全为1</span></span><br><span class="line"><span class="keyword">if</span>(KEY_MATRIX_PORT!=<span class="number">0x0f</span>)<span class="comment">//判断按键是否按下</span></span><br><span class="line">&#123;</span><br><span class="line">delay_10us(<span class="number">1000</span>);<span class="comment">//消抖</span></span><br><span class="line"><span class="keyword">if</span>(KEY_MATRIX_PORT!=<span class="number">0x0f</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//测试列</span></span><br><span class="line">KEY_MATRIX_PORT=<span class="number">0x0f</span>;</span><br><span class="line"><span class="keyword">switch</span>(KEY_MATRIX_PORT)<span class="comment">//保存行为0，按键按下后的列值</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0x07</span>: key_value=<span class="number">1</span>;<span class="keyword">break</span>;  <span class="comment">// 0000 0111</span></span><br><span class="line"><span class="keyword">case</span> <span class="number">0x0b</span>: key_value=<span class="number">2</span>;<span class="keyword">break</span>;  <span class="comment">// 0000 1011</span></span><br><span class="line"><span class="keyword">case</span> <span class="number">0x0d</span>: key_value=<span class="number">3</span>;<span class="keyword">break</span>;  <span class="comment">// 0000 1101</span></span><br><span class="line"><span class="keyword">case</span> <span class="number">0x0e</span>: key_value=<span class="number">4</span>;<span class="keyword">break</span>;  <span class="comment">// 0000 1110</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//测试行</span></span><br><span class="line">KEY_MATRIX_PORT=<span class="number">0xf0</span>;</span><br><span class="line"><span class="keyword">switch</span>(KEY_MATRIX_PORT)<span class="comment">//保存列为0，按键按下后的键值</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0x70</span>: key_value=key_value;<span class="keyword">break</span>;  <span class="comment">// 0111 0000</span></span><br><span class="line"><span class="keyword">case</span> <span class="number">0xb0</span>: key_value=key_value+<span class="number">4</span>;<span class="keyword">break</span>; <span class="comment">// 1011 0000</span></span><br><span class="line"><span class="keyword">case</span> <span class="number">0xd0</span>: key_value=key_value+<span class="number">8</span>;<span class="keyword">break</span>; <span class="comment">// 1101 0000</span></span><br><span class="line"><span class="keyword">case</span> <span class="number">0xe0</span>: key_value=key_value+<span class="number">12</span>;<span class="keyword">break</span>; <span class="comment">// 1110 0000</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span>(KEY_MATRIX_PORT!=<span class="number">0xf0</span>);<span class="comment">//等待按键松开</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">key_value=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> key_value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*******************************************************************************</span></span><br><span class="line"><span class="comment">* 函 数 名       : main</span></span><br><span class="line"><span class="comment">* 函数功能 : 主函数</span></span><br><span class="line"><span class="comment">* 输    入       : 无</span></span><br><span class="line"><span class="comment">* 输    出     : 无</span></span><br><span class="line"><span class="comment">*******************************************************************************/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">u8 key=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">   key=key_matrix_ranks_scan();</span><br><span class="line"><span class="keyword">if</span>(key!=<span class="number">0</span>)</span><br><span class="line">SMG_A_DP_PORT=gsmg_code[key<span class="number">-1</span>];<span class="comment">//得到的按键值减1换算成数组下标对应0-F段码</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="七、定时器">七、定时器</h2><h3 id="1、定时器0模版代码">1、定时器0模版代码</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定时器0的初始化</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">Timer0Init</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">TMOD &amp;= <span class="number">0xF0</span>;<span class="comment">//设置定时器模式</span></span><br><span class="line">TMOD |= <span class="number">0x01</span>;<span class="comment">//设置定时器模式</span></span><br><span class="line">TL0 = <span class="number">0x18</span>;<span class="comment">//设置定时初值</span></span><br><span class="line">TH0 = <span class="number">0xFC</span>;<span class="comment">//设置定时初值</span></span><br><span class="line">TF0 = <span class="number">0</span>;<span class="comment">//清除TF0标志</span></span><br><span class="line">TR0 = <span class="number">1</span>;<span class="comment">//定时器0开始计时</span></span><br><span class="line">ET0=<span class="number">1</span>;  <span class="comment">// ET0中断允许</span></span><br><span class="line">EA=<span class="number">1</span>;  <span class="comment">// 总中断开启</span></span><br><span class="line">PT0=<span class="number">0</span>;  <span class="comment">// 关闭优先级</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定时器零的中断函数</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">Timer0_Routine</span><span class="params">()</span> interrupt 1</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2、定时器1模版代码">2、定时器1模版代码</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定时器1的初始化</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">Timer1Init</span><span class="params">(<span class="type">void</span>)</span><span class="comment">//1毫秒@11.0592MHz</span></span><br><span class="line">&#123;</span><br><span class="line">TMOD &amp;= <span class="number">0x0F</span>;<span class="comment">//设置定时器模式</span></span><br><span class="line">TMOD |= <span class="number">0x10</span>;<span class="comment">//设置定时器模式</span></span><br><span class="line">TL1 = <span class="number">0x18</span>;<span class="comment">//设置定时初值</span></span><br><span class="line">TH1 = <span class="number">0xFC</span>;<span class="comment">//设置定时初值</span></span><br><span class="line">TF1 = <span class="number">0</span>;<span class="comment">//清除TF1标志</span></span><br><span class="line">TR1 = <span class="number">1</span>;<span class="comment">//定时器1开始计时</span></span><br><span class="line">ET1=<span class="number">1</span>;  <span class="comment">// 打开中断允许</span></span><br><span class="line">EA=<span class="number">1</span>;  <span class="comment">// 总中断开启</span></span><br><span class="line">PT1=<span class="number">0</span>;  <span class="comment">// 关闭优先级</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定时器1的中断函数</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">Timer1_Routine</span><span class="params">()</span> interrupt 3</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="八、串口通信">八、串口通信</h2><h3 id="1、串口初始化代码模版">1、串口初始化代码模版</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;REGX51.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_Init</span><span class="params">(<span class="type">void</span>)</span>  <span class="comment">//4800bps@11.0592MHz</span></span><br><span class="line">&#123;</span><br><span class="line"> PCON |= <span class="number">0x80</span>;  <span class="comment">//使能波特率倍速位SMOD</span></span><br><span class="line"> SCON = <span class="number">0x50</span>;  <span class="comment">//8位数据,可变波特率</span></span><br><span class="line"> TMOD &amp;= <span class="number">0x0F</span>;  <span class="comment">//清除定时器1模式位</span></span><br><span class="line"> TMOD |= <span class="number">0x20</span>;  <span class="comment">//设定定时器1为8位自动重装方式</span></span><br><span class="line"> TL1 = <span class="number">0xF4</span>;  <span class="comment">//设定定时初值</span></span><br><span class="line"> TH1 = <span class="number">0xF4</span>;  <span class="comment">//设定定时器重装值</span></span><br><span class="line"> ET1 = <span class="number">0</span>;  <span class="comment">//禁止定时器1中断</span></span><br><span class="line"> TR1 = <span class="number">1</span>;  <span class="comment">//启动定时器1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 串口向电脑发送字节</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_SendByte</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> byte)</span> &#123;</span><br><span class="line">SBUF = byte;</span><br><span class="line">  <span class="keyword">while</span>(TI == <span class="number">0</span>);</span><br><span class="line">  TI = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 串口中断，接受电脑的字节</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_Routine</span><span class="params">()</span> interrupt 4</span><br><span class="line">&#123;</span><br><span class="line"> <span class="keyword">if</span> (RI == <span class="number">1</span>) &#123; <span class="comment">// 如果是电脑接收中断</span></span><br><span class="line">  RI = <span class="number">0</span>; <span class="comment">// 内部对RI软件复位</span></span><br><span class="line"> &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="2、串口向电脑发送数据">2、串口向电脑发送数据</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;REGX51.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> Sec;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_Init</span><span class="params">(<span class="type">void</span>)</span>  <span class="comment">//4800bps@11.0592MHz</span></span><br><span class="line">&#123;</span><br><span class="line"> PCON |= <span class="number">0x80</span>;  <span class="comment">//使能波特率倍速位SMOD</span></span><br><span class="line"> SCON = <span class="number">0x50</span>;  <span class="comment">//8位数据,可变波特率</span></span><br><span class="line"> TMOD &amp;= <span class="number">0x0F</span>;  <span class="comment">//清除定时器1模式位</span></span><br><span class="line"> TMOD |= <span class="number">0x20</span>;  <span class="comment">//设定定时器1为8位自动重装方式</span></span><br><span class="line"> TL1 = <span class="number">0xF4</span>;  <span class="comment">//设定定时初值</span></span><br><span class="line"> TH1 = <span class="number">0xF4</span>;  <span class="comment">//设定定时器重装值</span></span><br><span class="line"> ET1 = <span class="number">0</span>;  <span class="comment">//禁止定时器1中断</span></span><br><span class="line"> TR1 = <span class="number">1</span>;  <span class="comment">//启动定时器1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_SendByte</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> byte)</span> &#123;</span><br><span class="line">   SBUF = byte;</span><br><span class="line">    <span class="keyword">while</span>(TI == <span class="number">0</span>); <span class="comment">// 等待发射中断有效</span></span><br><span class="line">    TI = <span class="number">0</span>; <span class="comment">// 内部对TI进行软件复位</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">delay_10us</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> ten_us)</span></span><br><span class="line">&#123;</span><br><span class="line"> <span class="keyword">while</span>(ten_us--); </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line"> UART_Init();</span><br><span class="line"> UART_SendByte(<span class="number">0x11</span>);</span><br><span class="line"> <span class="keyword">while</span>(<span class="number">1</span>) &#123;</span><br><span class="line">  delay_10us(<span class="number">10000</span>);</span><br><span class="line">  UART_SendByte(Sec++);</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3、电脑通过串口控制LED">3、电脑通过串口控制LED</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;REGX51.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> Sec;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_Init</span><span class="params">(<span class="type">void</span>)</span>  <span class="comment">//4800bps@11.0592MHz</span></span><br><span class="line">&#123;</span><br><span class="line"> PCON |= <span class="number">0x80</span>;  <span class="comment">//使能波特率倍速位SMOD</span></span><br><span class="line"> SCON = <span class="number">0x50</span>;  <span class="comment">//8位数据,可变波特率</span></span><br><span class="line"> TMOD &amp;= <span class="number">0x0F</span>;  <span class="comment">//清除定时器1模式位</span></span><br><span class="line"> TMOD |= <span class="number">0x20</span>;  <span class="comment">//设定定时器1为8位自动重装方式</span></span><br><span class="line"> TL1 = <span class="number">0xF4</span>;  <span class="comment">//设定定时初值</span></span><br><span class="line"> TH1 = <span class="number">0xF4</span>;  <span class="comment">//设定定时器重装值</span></span><br><span class="line"> ET1 = <span class="number">0</span>;  <span class="comment">//禁止定时器1中断</span></span><br><span class="line"> TR1 = <span class="number">1</span>;  <span class="comment">//启动定时器1</span></span><br><span class="line"> EA = <span class="number">1</span>;</span><br><span class="line"> ES = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_SendByte</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> byte)</span> &#123;</span><br><span class="line">   SBUF = byte;</span><br><span class="line">    <span class="keyword">while</span>(TI == <span class="number">0</span>);</span><br><span class="line">    TI = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_Routine</span><span class="params">()</span> interrupt 4</span><br><span class="line">&#123;</span><br><span class="line"> <span class="keyword">if</span> (RI == <span class="number">1</span>) &#123; <span class="comment">// 如果是电脑接收中断</span></span><br><span class="line">  P2 = ~SBUF;</span><br><span class="line">  UART_SendByte(SBUF);</span><br><span class="line">  RI = <span class="number">0</span>; <span class="comment">// 内部对RI软件复位</span></span><br><span class="line"> &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">delay_10us</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> ten_us)</span></span><br><span class="line">&#123;</span><br><span class="line"> <span class="keyword">while</span>(ten_us--); </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line"> UART_Init();</span><br><span class="line"> <span class="keyword">while</span>(<span class="number">1</span>) &#123;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="九、LED点阵屏">九、LED点阵屏</h2><h2 id="十、DS1302实时时钟">十、DS1302实时时钟</h2><h2 id="十一、蜂鸣器">十一、蜂鸣器</h2><h2 id="十二、AT24C02（IC2总线）EFPROM">十二、AT24C02（IC2总线）EFPROM</h2><h2 id="十三、DS18B20温度传感器">十三、DS18B20温度传感器</h2><h2 id="十四、LCD1602">十四、LCD1602</h2><h2 id="十五、直流电机驱动（PWM）">十五、直流电机驱动（PWM）</h2><h2 id="十六、AD-DA转换">十六、AD/DA转换</h2><h2 id="十七、红外控制">十七、红外控制</h2>]]></content>
      
      
      <categories>
          
          <category> MCU C51 </category>
          
          <category> STC89C51 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MCU C51 </tag>
            
            <tag> STC89C51 </tag>
            
            <tag> STC89C52 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>家教 高中物理</title>
      <link href="/2023/07/21/%E5%AE%B6%E6%95%99-%E9%AB%98%E4%B8%AD%E7%89%A9%E7%90%86/"/>
      <url>/2023/07/21/%E5%AE%B6%E6%95%99-%E9%AB%98%E4%B8%AD%E7%89%A9%E7%90%86/</url>
      
        <content type="html"><![CDATA[<div class="gallery-group-main">  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='/./img/teach/high_physics/%E5%BF%85%E4%BF%AE%E4%B8%80.png' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">必修一</div>  <p>高中物理 必修一</p>  <a href='/Teach/high_physics/%E7%89%A9%E7%90%86%E5%BF%85%E4%BF%AE%E4%B8%80'></a>  </figcaption>  </figure>    <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='/./img/teach/high_physics/%E5%BF%85%E4%BF%AE%E4%BA%8C.png' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">必修二</div>  <p>高中物理 必修二</p>  <a href='/Teach/high_physics/%E7%89%A9%E7%90%86%E5%BF%85%E4%BF%AE%E4%BA%8C'></a>  </figcaption>  </figure>    <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='/./img/teach/high_physics/%E5%BF%85%E4%BF%AE%E4%B8%89.png' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">必修三</div>  <p>高中物理 必修三</p>  <a href='/Teach/high_physics/%E7%89%A9%E7%90%86%E5%BF%85%E4%BF%AE%E4%B8%89'></a>  </figcaption>  </figure>  </div>]]></content>
      
      
      <categories>
          
          <category> Teach </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Teach </tag>
            
            <tag> Physics </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo博客搭建以及深入学习（一）</title>
      <link href="/2023/07/13/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E4%BB%A5%E5%8F%8A%E6%B7%B1%E5%85%A5%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%80%EF%BC%89/"/>
      <url>/2023/07/13/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E4%BB%A5%E5%8F%8A%E6%B7%B1%E5%85%A5%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%80%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h1>Hexo博客搭建以及深入学习（一）</h1><h2 id="一、前置环境搭建">一、前置环境搭建</h2><ol><li>git（版本控制工具）</li><li>Node（JavaScript运行环境）</li><li>npm（包管理工具）</li></ol><h2 id="二、Hexo安装">二、Hexo安装</h2><p>使用npm安装Hexo</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo -g</span><br></pre></td></tr></table></figure><p>初始化博客</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init hexo_github_blog</span><br></pre></td></tr></table></figure><p>在文件夹中安装依赖</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd hexp_github_blog</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure><p>对博客进行预览<br><code>hexo g</code>:生成静态网页，g是generate的缩写<br><code>hexo s</code>:打开本地服务器，s是start的缩写</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure><p><img src="../img/hexo_butterfly/blog_show_link.png" alt="show_link"></p><p>​通过复制得到的本地端口<code>http://localhost:4000/</code>进行访问本地博客。一般是用来查看自己的博客写完后是否可以正常显示。<br>​通过<code>control + 'C'</code>退出，退出之后就无法访问<code>http://localhost:4000/</code>了</p><h2 id="三、Hexo连接到github">三、Hexo连接到github</h2><p>注意：事先需要注册到一个github的账号。</p><h3 id="1、创建一个新仓库">1、创建一个新仓库</h3><p>在创建仓库时，仓库的名字一定是[你的用户名]+.github.io<br>如上图，我的名字是momingxiaoyang，那么我创建的时候就需要设置Repository name <a href="http://xn--momingxiaoyang-zw7v.github.io">为momingxiaoyang.github.io</a><br>其他选项不要修改，描述可填可不填</p><h3 id="2、配置github信息">2、配置github信息</h3><p>注意：由于github在2021年更新后，无法使用https进行信息配置，只能使用SSH的方式。所以，你需要生成SSH密钥，这里建议去<a href="https://so.csdn.net/so/search?q=github%E7%94%9F%E6%88%90sshkey&amp;t=&amp;u=&amp;utm_term=mac%E5%A6%82%E4%BD%95%E4%BF%AE%E6%94%B9%E7%BB%88%E7%AB%AF%E7%94%A8%E6%88%B7%E5%90%8D&amp;request_id=168916680116800185813852&amp;opensearch_request_id=168916680116800185813852&amp;urw=">csdn</a>上面去寻找，因为有些老方法是不可用的。</p><p>确保目前环境是在你的博客文件夹的位置，可以使用<code>pwd</code>命令进行查看。</p><p>首先，需要安装插件，来连接github和你的hexo博客</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>其次，打开hexo的配置文件<code>_config.yml</code>。你可以使用vim直接在终端打开，也可以使用其他代码编辑器打开<br>。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim _config.yml</span><br></pre></td></tr></table></figure><p>找到该文件的尾处，将内容修改为</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">type:</span> <span class="string">&#x27;git&#x27;</span></span><br><span class="line"><span class="attr">repo:</span> <span class="string">&#x27;你的ssh密钥&#x27;</span></span><br><span class="line"><span class="attr">branch:</span> <span class="string">main</span></span><br></pre></td></tr></table></figure><p>注意：如果你的默认分支是<code>master</code>，最好是将上面的<code>main</code>改成<code>master</code></p><p>然后使用hexo组合拳上传github</p><ul><li>hexo clean：清理hexo的缓存</li><li>hexo g：生成静态hexo文档</li><li>hexo r：将文档上传到github中</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo r</span><br></pre></td></tr></table></figure><p>注意：首次使用<code>hexo r</code>可能需要输入你的github.com的账号和密码，具体看终端的提示。</p><p>成功后终端会有有下面的提示。</p><p>![截屏2023-07-12 22.05.45](…/…/Library/Application Support/typora-user-images/截屏2023-07-12 22.05.45.png)</p><h3 id="3、首次打开hexo配合github搭建的线上博客">3、首次打开hexo配合github搭建的线上博客</h3><ul><li>type设置为git</li><li>新增<code>repo</code>，按照模版<code>https://yourname.github.io/</code>的格式填写网址，其中<code>yourname</code>填写你在github上面的用户名，例如我的就是：<a href="https://momingxiaoyang.github.io/">https://momingxiaoyang.github.io/</a></li><li>新增<code>branch</code>，设置为<code>main</code>，原因是<code>branch</code>需要设置为主分支，如果你的主分支为<code>master</code>就设置为<code>master</code>。</li></ul><p>示例代码：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/one-command-deployment</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">&#x27;git&#x27;</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">&#x27;git@github.com:momingxiaoyang/momingxiaoyang.github.io.git&#x27;</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">main</span></span><br></pre></td></tr></table></figure><h2 id="四、配置文件的说明和修改">四、配置文件的说明和修改</h2><img src="../../Desktop/截屏2023-07-12 22.16.23.png" alt="截屏2023-07-12 22.16.23" style="zoom:50%;" /><p>主要需要了解的文件：</p><ul><li><code>source</code>：源文件，里面的<code>_post</code>文件夹里面存放着博客文章</li><li><code>themes</code>：主题文件，里面存放着hexo的一些主题</li><li><code>_config.landscape.yml</code>：主题的配置文件</li><li><code>_config.yml</code>：博客框架的配置文件</li></ul><p>所说的<strong>配置文件</strong>,就是指<code>_config.yml</code>。</p><p>文件<code>_config.yml</code>注意事项：</p><ul><li>缩进十分严格， 只有<strong>两个空格</strong>。如果缩进有问题，那么博客就不能正常运行。所以这里不推荐使用记事本或者简单的文本编辑器进行对文件<code>_config.yml</code>的编写，这里建议使用IDE进行编写，如vscode、webstorm等。</li></ul><h3 id="1、Site部分">1、Site部分</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Hexo</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="attr">keywords:</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">John</span> <span class="string">Doe</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">en</span></span><br><span class="line"><span class="attr">timezone:</span> <span class="string">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><ul><li><code>title</code>：博客的主标题</li><li><code>subtitle</code>：博客的副标题</li><li><code>description</code>：博客的描述</li><li><code>keywords</code>：关键字，通常情况作为搜索引擎的搜索指标之一。可写可不写</li><li><code>author</code>：作者信息</li><li><code>language</code>：默认为英文（en），中文的为（zh-CN）</li><li><code>timezone</code>：</li><li>注意：如果需要填写中文时，最好添加单引号</li></ul><h3 id="2、URL部分">2、URL部分</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="comment">## Set your site url here. For example, if you use GitHub Page, set url as &#x27;https://username.github.io/project&#x27;</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">http://example.com</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">:year/:month/:day/:title/</span></span><br><span class="line"><span class="attr">permalink_defaults:</span></span><br><span class="line"><span class="attr">pretty_urls:</span></span><br><span class="line">  <span class="attr">trailing_index:</span> <span class="literal">true</span> </span><br><span class="line">  <span class="attr">trailing_html:</span> <span class="literal">true</span> </span><br></pre></td></tr></table></figure><ul><li><code>url</code>：填写你的github地址的<code>url</code>，格式为<code>https://username.github.io</code>。例如，我需要填写的<code>url</code>就是<code>https://momingxiaoyang.github.io</code>。</li><li>其他的就不用管，直接使用默认的就行。</li></ul><h3 id="3、Directory部分">3、Directory部分</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Directory</span></span><br><span class="line"><span class="attr">source_dir:</span> <span class="string">source</span></span><br><span class="line"><span class="attr">public_dir:</span> <span class="string">public</span></span><br><span class="line"><span class="attr">tag_dir:</span> <span class="string">tags</span></span><br><span class="line"><span class="attr">archive_dir:</span> <span class="string">archives</span></span><br><span class="line"><span class="attr">category_dir:</span> <span class="string">categories</span></span><br><span class="line"><span class="attr">code_dir:</span> <span class="string">downloads/code</span></span><br><span class="line"><span class="attr">i18n_dir:</span> <span class="string">:lang</span></span><br><span class="line"><span class="attr">skip_render:</span></span><br></pre></td></tr></table></figure><ul><li>该部分是对文件夹的配置。</li><li>该部分不需要进行修改，只需要使用默认就行。</li></ul><h3 id="4、Writing部分">4、Writing部分</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Writing</span></span><br><span class="line"><span class="attr">new_post_name:</span> <span class="string">:title.md</span> <span class="comment"># File name of new posts</span></span><br><span class="line"><span class="attr">default_layout:</span> <span class="string">post</span></span><br><span class="line"><span class="attr">titlecase:</span> <span class="literal">false</span> <span class="comment"># Transform title into titlecase</span></span><br><span class="line"><span class="attr">external_link:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># Open external links in new tab</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">site</span> <span class="comment"># Apply to the whole site</span></span><br><span class="line">  <span class="attr">exclude:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="attr">filename_case:</span> <span class="number">0</span></span><br><span class="line"><span class="attr">render_drafts:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">post_asset_folder:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">relative_link:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">future:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">highlight:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">auto_detect:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">tab_replace:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="attr">wrap:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">hljs:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">prismjs:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">preprocess:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">tab_replace:</span> <span class="string">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><ul><li>编写博客内容的部分。</li><li>该部分不需要进行修改，只需要使用默认就行。</li></ul><h3 id="5、Home-page-setting部分">5、Home page setting部分</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Home page setting</span></span><br><span class="line"><span class="attr">index_generator:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="number">10</span></span><br><span class="line">  <span class="attr">order_by:</span> <span class="string">-date</span></span><br></pre></td></tr></table></figure><ul><li>博客的页面设置部分</li><li><code>path</code>：根目录，直接使用默认即可。</li><li><code>per_page</code>：每页显示文章的数量，一般参数设置都是10，直接使用默认即可。</li><li><code>order_by</code>：文章排序，一般使用降序，直接使用默认即可。</li></ul><h3 id="6、Category-Tag">6、Category &amp; Tag</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Category &amp; Tag</span></span><br><span class="line"><span class="attr">default_category:</span> <span class="string">uncategorized</span></span><br><span class="line"><span class="attr">category_map:</span></span><br><span class="line"><span class="attr">tag_map:</span></span><br></pre></td></tr></table></figure><ul><li>预设分类的部分</li><li><code>default_category</code>：默认的分类预设，初始设置为未分类状态。</li><li><code>category_map</code>:分类的别名。</li><li><code>tag_map：标签的别名。</code></li><li>以上都可以使用默认配置。</li></ul><h3 id="7、Date-Time-format部分">7、Date / Time format部分</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Date / Time format</span></span><br><span class="line"><span class="comment">## Hexo uses Moment.js to parse and display date</span></span><br><span class="line"><span class="comment">## You can customize the date format as defined in</span></span><br><span class="line"><span class="comment">## http://momentjs.com/docs/#/displaying/format/</span></span><br><span class="line"><span class="attr">date_format:</span> <span class="string">YYYY-MM-DD</span></span><br><span class="line"><span class="attr">time_format:</span> <span class="string">HH:mm:ss</span></span><br><span class="line"><span class="comment">## updated_option supports &#x27;mtime&#x27;, &#x27;date&#x27;, &#x27;empty&#x27;</span></span><br><span class="line"><span class="attr">updated_option:</span> <span class="string">&#x27;mtime&#x27;</span></span><br></pre></td></tr></table></figure><ul><li><code>date_format</code>：日期的格式设置。</li><li><code>time_format</code>：时间的格式设置。</li><li><code>updated_option</code>：更新的信息，通过通过修改其来实现更新的时间信息显示。</li></ul><h3 id="8、Pagination部分">8、Pagination部分</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Pagination</span></span><br><span class="line"><span class="comment">## Set per_page to 0 to disable pagination</span></span><br><span class="line"><span class="attr">per_page:</span> <span class="number">10</span></span><br><span class="line"><span class="attr">pagination_dir:</span> <span class="string">page</span></span><br></pre></td></tr></table></figure><ul><li>分页信息的部分</li><li><code>per_page</code>：设置分页的信息，如果设置为0就表示禁用</li><li><code>pagination_dir</code>：分页的目录</li></ul><h3 id="9、Include-Exclude-file-s-部分">9、Include / Exclude file(s)部分</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Include / Exclude file(s)</span></span><br><span class="line"><span class="comment">## include:/exclude: options only apply to the &#x27;source/&#x27; folder</span></span><br><span class="line"><span class="attr">include:</span></span><br><span class="line"><span class="attr">exclude:</span></span><br><span class="line"><span class="attr">ignore:</span></span><br></pre></td></tr></table></figure><ul><li>包含的文件的部分，可以不用管理</li></ul><h3 id="10、Extensions部分">10、Extensions部分</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="comment">## Plugins: https://hexo.io/plugins/</span></span><br><span class="line"><span class="comment">## Themes: https://hexo.io/themes/</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">landscape</span></span><br></pre></td></tr></table></figure><ul><li>拓展的主题设置部分</li><li><code>theme</code>：</li></ul><h3 id="11、Deployment部分">11、Deployment部分</h3><ul><li>该部分在前面就已经修改过了，无需再进行修改。</li></ul><h3 id="12、总结：">12、总结：</h3><p>需要修改信息的部分有：</p><ul><li><a href="###1%5CSite%E9%83%A8%E5%88%86">Site部分</a></li><li><a href="###2%E3%80%81URL%E9%83%A8%E5%88%86">URL部分中的url</a></li><li><a href="###3%E3%80%81%E9%A6%96%E6%AC%A1%E6%89%93%E5%BC%80hexo%E9%85%8D%E5%90%88github%E6%90%AD%E5%BB%BA%E7%9A%84%E7%BA%BF%E4%B8%8A%E5%8D%9A%E5%AE%A2">Deployment部分</a></li></ul><h2 id="五、Hexo常用命令">五、Hexo常用命令</h2><ul><li><code>hexo init</code>：初始化博客，创建博客文件夹。</li><li><code>hexo new</code> / <code>hexo n</code>：新建一篇博客文章，后面需要输入文章的名字。</li><li><code>hexo g</code>：生成博客，每次新建文章都要生成一次本地的静态博客。</li><li><code>hexo s</code>：生成本地博客，一般用来对博客的预览。</li><li><code>hexo d</code>：将博客文件上传到github仓库，上传之后就可以使用github的pages来观看博客了。</li><li><code>hexo clean</code>：清理博客的缓存，最好是在<code>hero g</code>使用之前使用。</li><li>一般使用顺序是，先使用<code>hexo clean</code>来清理缓存，再使用<code>hexo g</code>来生成博客，然后再用<code>hexo s</code>来观察写出的博客是否有问题，如果没有问题的话就可以直接使用<code>hexo d</code>来上传到仓库，就可以远程浏览了。</li></ul><h2 id="六、主题的安装和使用（以主题butterfly为例）">六、主题的安装和使用（以主题butterfly为例）</h2><h3 id="1、下载主题">1、下载主题</h3><p><a href="https://github.com/jerryc127/hexo-theme-butterfly">butterfly主题仓库</a></p><p>可以无脑按照下面的三条命令的任意一条，在你的博客根目录中执行下面三条命令中的任何一条来安装主题。这里推荐使用npm的方法，后面进行自动部署需要类似方法辅助。</p><p>通过Github安装:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></table></figure><p>通过Gitee安装:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone -b master https://gitee.com/immyw/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></table></figure><p>通过npm安装：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-theme-butterfly</span><br></pre></td></tr></table></figure><h3 id="2、修改主题">2、修改主题</h3><ul><li>打开配置文件中的<a href="###10%E3%80%81Extensions%E9%83%A8%E5%88%86">Extensions部分</a>。</li><li>将里面的<code>theme</code>后面的<code>landscape</code>改为<code>butterfly</code>。</li></ul><h3 id="3、安装一些插件供主题运行">3、安装一些插件供主题运行</h3><p>注意：不同的主题需要的插件不一样，如果你安装的主题不是<code>bufferfly</code>，你需要去查看你安装的主题的使用文档来独立进行插件的安装。</p><p>如果你安装的是<code>bufferfly</code>主题，无论使用git还是npm安装，你只需要在博客文件夹的根目录执行下面一行命令即可：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure><h2 id="七、主题信息的配置一">七、主题信息的配置一</h2><p>以下所有的操作都是参考<a href="https://butterfly.js.org/posts/dc584b87/">bufferfly官方文档</a>。</p><h3 id="1、创建标签页">1、创建标签页</h3><ul><li>在博客文件夹的根目录下使用下面命令来创建标签页文档。</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page tags</span><br></pre></td></tr></table></figure><ul><li>在博客文件夹的根目录下面按照顺序找到<code>source/tags/index.md</code>这个文件。</li><li>修改这个文件，添加<code>type: &quot;tags&quot;</code>。例如：</li></ul><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: tags</span><br><span class="line">date: 2023-07-14 00:33:44</span><br><span class="line"><span class="section">type: &quot;tags&quot;</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><ul><li>其中上面的<code>title</code>和<code>data</code>是可以修改的。</li><li><code>title</code>：代表标签页的名字。</li><li><code>data</code>：代表标签页的创建日期。</li><li>注意：修改完该文件后，使用组合拳<code>hexo clean</code>、<code>hexo g</code>、<code>hexo s</code>并不能直接打开标签页，具体需要在使用组合拳之后得到的4000端口地址之后加上<code>tags/</code>，即<a href="http://localhost:4000/tags/">http://localhost:4000/tags/</a>。</li></ul><h3 id="2、创建分类页">2、创建分类页</h3><ul><li>在博客文件夹的根目录下使用下面命令来创建标签页文档。</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page categories</span><br></pre></td></tr></table></figure><ul><li>在博客文件夹的根目录下面按照顺序找到<code>source/categories/index.md</code>这个文件。</li><li>修改这个文件，添加<code>type: &quot;categories&quot;</code>。例如：</li></ul><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: categories</span><br><span class="line">date: 2023-07-14 00:49:41</span><br><span class="line"><span class="section">type: &quot;categories&quot;</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><ul><li>其中上面的<code>title</code>和<code>data</code>是可以修改的。</li><li><code>title</code>：代表分类页的名字。</li><li><code>data</code>：代表分类页的创建日期。</li><li>注意：修改完该文件后，使用组合拳<code>hexo clean</code>、<code>hexo g</code>、<code>hexo s</code>并不能直接打开分类页，具体需要在使用组合拳之后得到的4000端口地址之后加上<code>tags/</code>，即<a href="http://localhost:4000/categories/">http://localhost:4000/categories/</a>。</li></ul><h3 id="3、链接页的设定">3、链接页的设定</h3><ul><li>在博客文件夹的根目录下使用下面命令来创建标签页文档。</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page link</span><br></pre></td></tr></table></figure><ul><li>在博客文件夹的根目录下面按照顺序找到<code>source/link/index.md</code>这个文件。</li><li>修改这个文件，添加<code>type: &quot;link&quot;</code>。例如：</li></ul><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 友情链接</span><br><span class="line">date: 2023-07-14 00:53:52</span><br><span class="line"><span class="section">type: &quot;link&quot;</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><ul><li><p>其中上面的<code>title</code>和<code>data</code>是可以修改的。</p></li><li><p><code>link</code>：代表链接页面的名字。</p></li><li><p><code>data</code>：代表链接页面的创建日期。</p></li><li><p>注意：修改完该文件后，使用组合拳<code>hexo clean</code>、<code>hexo g</code>、<code>hexo s</code>并不能直接打开链接页，具体需要在使用组合拳之后得到的4000端口地址之后加上<code>tags/</code>，即<a href="http://localhost:4000/link/">http://localhost:4000/link/</a>。</p></li><li><p>友情链接的添加：</p><ul><li><p>在Hexo博客的根目录中的<code>source</code>中新建一个文件夹<code>_data</code>（如果已经创建可以跳过此步），然后创建一个文件夹<code>link.yml</code>。</p></li><li><p>以下面的格式进行添加链接：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">class_name:</span> <span class="string">该链接类别的名字</span></span><br><span class="line">  <span class="attr">class_desc:</span> <span class="string">该链接类别的描述</span></span><br><span class="line">  <span class="attr">link_list:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">该列表中的第一个链接</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">第一个链接的url链接</span> </span><br><span class="line">      <span class="attr">descr:</span> <span class="string">第一个链接的描述</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">该列表中的第二个链接</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">第二个链接的url</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">第二个链接的描述</span></span><br></pre></td></tr></table></figure></li><li><p>代码示例：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">class_name:</span> <span class="string">个人作品</span></span><br><span class="line">  <span class="attr">class_desc:</span> <span class="string">有点捞的</span></span><br><span class="line">  <span class="attr">link_list:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">莫名小痒的博客</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://momingxiaoyang.github.io</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://s2.loli.net/2023/07/14/DwPaOBch6G8Ij1W.jpg</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">就只是一个博客，别看啦</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> <span class="attr">class_name:</span> <span class="string">关于我现在使用的博客</span></span><br><span class="line">  <span class="attr">class_desc:</span> <span class="string">使用hexo的原因是我没有能力自己写博客</span></span><br><span class="line">  <span class="attr">link_list:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Hexo</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://hexo.io/zh-tw/</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">快速、简单且强大的框架</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> <span class="attr">class_name:</span> <span class="string">网站</span></span><br><span class="line">  <span class="attr">class_desc:</span> <span class="string">值得推荐的网站</span></span><br><span class="line">  <span class="attr">link_list:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Youtube</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://www.youtube.com/</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">全球规模最大的视频网站</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Twitter</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://twitter.com/</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">全球性的社交分享平台</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">抖音</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://www.douyin.com/</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://s2.loli.net/2023/07/14/7ma4zfUIREVBwng.jpg</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">中国短视频平台</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">bilibili</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://www.bilibili.com/</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://s2.loli.net/2023/07/14/qsAbU2oHLFhRG6j.jpg</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">中国小黑子的发源地</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>示例代码的显示效果：</p><p><img src="https://s2.loli.net/2023/07/14/fDlUsJCGQOVRaih.png" alt="截屏2023-07-14 01.35.38.png"></p></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
          <category> Butterfly </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Github </tag>
            
            <tag> Hexo </tag>
            
            <tag> Blog </tag>
            
            <tag> Butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo博客搭建以及深入学习</title>
      <link href="/2023/07/13/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E4%BB%A5%E5%8F%8A%E6%B7%B1%E5%85%A5%E5%AD%A6%E4%B9%A0/"/>
      <url>/2023/07/13/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E4%BB%A5%E5%8F%8A%E6%B7%B1%E5%85%A5%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h1>Hexo博客搭建以及深入学习</h1><h2 id="一、前置环境搭建">一、前置环境搭建</h2><ol><li>git（版本控制工具）</li><li>Node（JavaScript运行环境）</li><li>npm（包管理工具）</li></ol><h2 id="二、Hexo安装">二、Hexo安装</h2><p>使用npm安装Hexo</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo -g</span><br></pre></td></tr></table></figure><p>初始化博客</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init hexo_github_blog</span><br></pre></td></tr></table></figure><p>在文件夹中安装依赖</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd hexp_github_blog</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure><p>对博客进行预览<br><code>hexo g</code>:生成静态网页，g是generate的缩写<br><code>hexo s</code>:打开本地服务器，s是start的缩写</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure><p><img src="../img/hexo_butterfly/blog_show_link.png" alt="show_link"></p><p>​通过复制得到的本地端口<code>http://localhost:4000/</code>进行访问本地博客。一般是用来查看自己的博客写完后是否可以正常显示。<br>​通过<code>control + 'C'</code>退出，退出之后就无法访问<code>http://localhost:4000/</code>了</p><h2 id="三、Hexo连接到github">三、Hexo连接到github</h2><p>注意：事先需要注册到一个github的账号。</p><h3 id="1、创建一个新仓库">1、创建一个新仓库</h3><p>在创建仓库时，仓库的名字一定是[你的用户名]+.github.io<br>如上图，我的名字是momingxiaoyang，那么我创建的时候就需要设置Repository name <a href="http://xn--momingxiaoyang-zw7v.github.io">为momingxiaoyang.github.io</a><br>其他选项不要修改，描述可填可不填</p><h3 id="2、配置github信息">2、配置github信息</h3><p>注意：由于github在2021年更新后，无法使用https进行信息配置，只能使用SSH的方式。所以，你需要生成SSH密钥，这里建议去<a href="https://so.csdn.net/so/search?q=github%E7%94%9F%E6%88%90sshkey&amp;t=&amp;u=&amp;utm_term=mac%E5%A6%82%E4%BD%95%E4%BF%AE%E6%94%B9%E7%BB%88%E7%AB%AF%E7%94%A8%E6%88%B7%E5%90%8D&amp;request_id=168916680116800185813852&amp;opensearch_request_id=168916680116800185813852&amp;urw=">csdn</a>上面去寻找，因为有些老方法是不可用的。</p><p>确保目前环境是在你的博客文件夹的位置，可以使用<code>pwd</code>命令进行查看。</p><p>首先，需要安装插件，来连接github和你的hexo博客</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>其次，打开hexo的配置文件<code>_config.yml</code>。你可以使用vim直接在终端打开，也可以使用其他代码编辑器打开。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim _config.yml</span><br></pre></td></tr></table></figure><p>找到该文件的尾处，将内容修改为</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">type:</span> <span class="string">&#x27;git&#x27;</span></span><br><span class="line"><span class="attr">repo:</span> <span class="string">&#x27;你的ssh密钥&#x27;</span></span><br><span class="line"><span class="attr">branch:</span> <span class="string">main</span></span><br></pre></td></tr></table></figure><p>注意：如果你的默认分支是<code>master</code>，最好是将上面的<code>main</code>改成<code>master</code></p><p>然后使用hexo组合拳上传github</p><ul><li>hexo clean：清理hexo的缓存</li><li>hexo g：生成静态hexo文档</li><li>hexo r：将文档上传到github中</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo r</span><br></pre></td></tr></table></figure><p>注意：首次使用<code>hexo r</code>可能需要输入你的github.com的账号和密码，具体看终端的提示。</p><h3 id="3、首次打开hexo配合github搭建的线上博客">3、首次打开hexo配合github搭建的线上博客</h3><ul><li>type设置为git</li><li>新增<code>repo</code>，按照模版<code>https://yourname.github.io/</code>的格式填写网址，其中<code>yourname</code>填写你在github上面的用户名，例如我的就是：<a href="https://momingxiaoyang.github.io/">https://momingxiaoyang.github.io/</a></li><li>新增<code>branch</code>，设置为<code>main</code>，原因是<code>branch</code>需要设置为主分支，如果你的主分支为<code>master</code>就设置为<code>master</code>。</li></ul><p>示例代码：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/one-command-deployment</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">&#x27;git&#x27;</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">&#x27;git@github.com:momingxiaoyang/momingxiaoyang.github.io.git&#x27;</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">main</span></span><br></pre></td></tr></table></figure><h2 id="四、配置文件的说明和修改">四、配置文件的说明和修改</h2><p>主要需要了解的文件：</p><ul><li><code>source</code>：源文件，里面的<code>_post</code>文件夹里面存放着博客文章</li><li><code>themes</code>：主题文件，里面存放着hexo的一些主题</li><li><code>_config.landscape.yml</code>：主题的配置文件</li><li><code>_config.yml</code>：博客框架的配置文件</li></ul><p>所说的<strong>配置文件</strong>,就是指<code>_config.yml</code>。</p><p>文件<code>_config.yml</code>注意事项：</p><ul><li>缩进十分严格， 只有<strong>两个空格</strong>。如果缩进有问题，那么博客就不能正常运行。所以这里不推荐使用记事本或者简单的文本编辑器进行对文件<code>_config.yml</code>的编写，这里建议使用IDE进行编写，如vscode、webstorm等。</li></ul><h3 id="1、Site部分">1、Site部分</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Hexo</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="attr">keywords:</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">John</span> <span class="string">Doe</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">en</span></span><br><span class="line"><span class="attr">timezone:</span> <span class="string">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><ul><li><code>title</code>：博客的主标题</li><li><code>subtitle</code>：博客的副标题</li><li><code>description</code>：博客的描述</li><li><code>keywords</code>：关键字，通常情况作为搜索引擎的搜索指标之一。可写可不写</li><li><code>author</code>：作者信息</li><li><code>language</code>：默认为英文（en），中文的为（zh-CN）</li><li><code>timezone</code>：</li><li>注意：如果需要填写中文时，最好添加单引号</li></ul><h3 id="2、URL部分">2、URL部分</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="comment">## Set your site url here. For example, if you use GitHub Page, set url as &#x27;https://username.github.io/project&#x27;</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">http://example.com</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">:year/:month/:day/:title/</span></span><br><span class="line"><span class="attr">permalink_defaults:</span></span><br><span class="line"><span class="attr">pretty_urls:</span></span><br><span class="line">  <span class="attr">trailing_index:</span> <span class="literal">true</span> </span><br><span class="line">  <span class="attr">trailing_html:</span> <span class="literal">true</span> </span><br></pre></td></tr></table></figure><ul><li><code>url</code>：填写你的github地址的<code>url</code>，格式为<code>https://username.github.io</code>。例如，我需要填写的<code>url</code>就是<code>https://momingxiaoyang.github.io</code>。</li><li>其他的就不用管，直接使用默认的就行。</li></ul><h3 id="3、Directory部分">3、Directory部分</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Directory</span></span><br><span class="line"><span class="attr">source_dir:</span> <span class="string">source</span></span><br><span class="line"><span class="attr">public_dir:</span> <span class="string">public</span></span><br><span class="line"><span class="attr">tag_dir:</span> <span class="string">tags</span></span><br><span class="line"><span class="attr">archive_dir:</span> <span class="string">archives</span></span><br><span class="line"><span class="attr">category_dir:</span> <span class="string">categories</span></span><br><span class="line"><span class="attr">code_dir:</span> <span class="string">downloads/code</span></span><br><span class="line"><span class="attr">i18n_dir:</span> <span class="string">:lang</span></span><br><span class="line"><span class="attr">skip_render:</span></span><br></pre></td></tr></table></figure><ul><li>该部分是对文件夹的配置。</li><li>该部分不需要进行修改，只需要使用默认就行。</li></ul><h3 id="4、Writing部分">4、Writing部分</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Writing</span></span><br><span class="line"><span class="attr">new_post_name:</span> <span class="string">:title.md</span> <span class="comment"># File name of new posts</span></span><br><span class="line"><span class="attr">default_layout:</span> <span class="string">post</span></span><br><span class="line"><span class="attr">titlecase:</span> <span class="literal">false</span> <span class="comment"># Transform title into titlecase</span></span><br><span class="line"><span class="attr">external_link:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># Open external links in new tab</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">site</span> <span class="comment"># Apply to the whole site</span></span><br><span class="line">  <span class="attr">exclude:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="attr">filename_case:</span> <span class="number">0</span></span><br><span class="line"><span class="attr">render_drafts:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">post_asset_folder:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">relative_link:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">future:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">highlight:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">auto_detect:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">tab_replace:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="attr">wrap:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">hljs:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">prismjs:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">preprocess:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">tab_replace:</span> <span class="string">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><ul><li>编写博客内容的部分。</li><li>该部分不需要进行修改，只需要使用默认就行。</li></ul><h3 id="5、Home-page-setting部分">5、Home page setting部分</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Home page setting</span></span><br><span class="line"><span class="attr">index_generator:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="number">10</span></span><br><span class="line">  <span class="attr">order_by:</span> <span class="string">-date</span></span><br></pre></td></tr></table></figure><ul><li>博客的页面设置部分</li><li><code>path</code>：根目录，直接使用默认即可。</li><li><code>per_page</code>：每页显示文章的数量，一般参数设置都是10，直接使用默认即可。</li><li><code>order_by</code>：文章排序，一般使用降序，直接使用默认即可。</li></ul><h3 id="6、Category-Tag">6、Category &amp; Tag</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Category &amp; Tag</span></span><br><span class="line"><span class="attr">default_category:</span> <span class="string">uncategorized</span></span><br><span class="line"><span class="attr">category_map:</span></span><br><span class="line"><span class="attr">tag_map:</span></span><br></pre></td></tr></table></figure><ul><li>预设分类的部分</li><li><code>default_category</code>：默认的分类预设，初始设置为未分类状态。</li><li><code>category_map</code>:分类的别名。</li><li><code>tag_map：标签的别名。</code></li><li>以上都可以使用默认配置。</li></ul><h3 id="7、Date-Time-format部分">7、Date / Time format部分</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Date / Time format</span></span><br><span class="line"><span class="comment">## Hexo uses Moment.js to parse and display date</span></span><br><span class="line"><span class="comment">## You can customize the date format as defined in</span></span><br><span class="line"><span class="comment">## http://momentjs.com/docs/#/displaying/format/</span></span><br><span class="line"><span class="attr">date_format:</span> <span class="string">YYYY-MM-DD</span></span><br><span class="line"><span class="attr">time_format:</span> <span class="string">HH:mm:ss</span></span><br><span class="line"><span class="comment">## updated_option supports &#x27;mtime&#x27;, &#x27;date&#x27;, &#x27;empty&#x27;</span></span><br><span class="line"><span class="attr">updated_option:</span> <span class="string">&#x27;mtime&#x27;</span></span><br></pre></td></tr></table></figure><ul><li><code>date_format</code>：日期的格式设置。</li><li><code>time_format</code>：时间的格式设置。</li><li><code>updated_option</code>：更新的信息，通过通过修改其来实现更新的时间信息显示。</li></ul><h3 id="8、Pagination部分">8、Pagination部分</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Pagination</span></span><br><span class="line"><span class="comment">## Set per_page to 0 to disable pagination</span></span><br><span class="line"><span class="attr">per_page:</span> <span class="number">10</span></span><br><span class="line"><span class="attr">pagination_dir:</span> <span class="string">page</span></span><br></pre></td></tr></table></figure><ul><li>分页信息的部分</li><li><code>per_page</code>：设置分页的信息，如果设置为0就表示禁用</li><li><code>pagination_dir</code>：分页的目录</li></ul><h3 id="9、Include-Exclude-file-s-部分">9、Include / Exclude file(s)部分</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Include / Exclude file(s)</span></span><br><span class="line"><span class="comment">## include:/exclude: options only apply to the &#x27;source/&#x27; folder</span></span><br><span class="line"><span class="attr">include:</span></span><br><span class="line"><span class="attr">exclude:</span></span><br><span class="line"><span class="attr">ignore:</span></span><br></pre></td></tr></table></figure><ul><li>包含的文件的部分，可以不用管理</li></ul><h3 id="10、Extensions部分">10、Extensions部分</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="comment">## Plugins: https://hexo.io/plugins/</span></span><br><span class="line"><span class="comment">## Themes: https://hexo.io/themes/</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">landscape</span></span><br></pre></td></tr></table></figure><ul><li>拓展的主题设置部分</li><li><code>theme</code>：</li></ul><h3 id="11、Deployment部分">11、Deployment部分</h3><ul><li>该部分在前面就已经修改过了，无需再进行修改。</li></ul><h3 id="12、总结：">12、总结：</h3><p>需要修改信息的部分有：</p><ul><li><a href="###1%5CSite%E9%83%A8%E5%88%86">Site部分</a></li><li><a href="###2%E3%80%81URL%E9%83%A8%E5%88%86">URL部分中的url</a></li><li><a href="###3%E3%80%81%E9%A6%96%E6%AC%A1%E6%89%93%E5%BC%80hexo%E9%85%8D%E5%90%88github%E6%90%AD%E5%BB%BA%E7%9A%84%E7%BA%BF%E4%B8%8A%E5%8D%9A%E5%AE%A2">Deployment部分</a></li></ul><h2 id="五、Hexo常用命令">五、Hexo常用命令</h2><ul><li><code>hexo init</code>：初始化博客，创建博客文件夹。</li><li><code>hexo new</code> / <code>hexo n</code>：新建一篇博客文章，后面需要输入文章的名字。</li><li><code>hexo g</code>：生成博客，每次新建文章都要生成一次本地的静态博客。</li><li><code>hexo s</code>：生成本地博客，一般用来对博客的预览。</li><li><code>hexo d</code>：将博客文件上传到github仓库，上传之后就可以使用github的pages来观看博客了。</li><li><code>hexo clean</code>：清理博客的缓存，最好是在<code>hero g</code>使用之前使用。</li><li>一般使用顺序是，先使用<code>hexo clean</code>来清理缓存，再使用<code>hexo g</code>来生成博客，然后再用<code>hexo s</code>来观察写出的博客是否有问题，如果没有问题的话就可以直接使用<code>hexo d</code>来上传到仓库，就可以远程浏览了。</li></ul><h2 id="六、主题的安装和使用（以主题butterfly为例）">六、主题的安装和使用（以主题butterfly为例）</h2><h3 id="1、下载主题">1、下载主题</h3><p><a href="https://github.com/jerryc127/hexo-theme-butterfly">butterfly主题仓库</a></p><p>可以无脑按照下面的三条命令的任意一条，在你的博客根目录中执行下面三条命令中的任何一条来安装主题。这里推荐使用npm的方法，后面进行自动部署需要类似方法辅助。</p><p>通过Github安装:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></table></figure><p>通过Gitee安装:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone -b master https://gitee.com/immyw/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></table></figure><p>通过npm安装：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-theme-butterfly</span><br></pre></td></tr></table></figure><h3 id="2、修改主题">2、修改主题</h3><ul><li>打开配置文件中的<a href="###10%E3%80%81Extensions%E9%83%A8%E5%88%86">Extensions部分</a>。</li><li>将里面的<code>theme</code>后面的<code>landscape</code>改为<code>butterfly</code>。</li></ul><h3 id="3、安装一些插件供主题运行">3、安装一些插件供主题运行</h3><p>注意：不同的主题需要的插件不一样，如果你安装的主题不是<code>bufferfly</code>，你需要去查看你安装的主题的使用文档来独立进行插件的安装。</p><p>如果你安装的是<code>bufferfly</code>主题，无论使用git还是npm安装，你只需要在博客文件夹的根目录执行下面一行命令即可：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure><h2 id="七、主题信息的配置一">七、主题信息的配置一</h2><p>以下所有的操作都是参考<a href="https://butterfly.js.org/posts/dc584b87/">bufferfly官方文档</a>。</p><h3 id="1、创建标签页">1、创建标签页</h3><ul><li>在博客文件夹的根目录下使用下面命令来创建标签页文档。</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page tags</span><br></pre></td></tr></table></figure><ul><li>在博客文件夹的根目录下面按照顺序找到<code>source/tags/index.md</code>这个文件。</li><li>修改这个文件，添加<code>type: &quot;tags&quot;</code>。例如：</li></ul><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: tags</span><br><span class="line">date: 2023-07-14 00:33:44</span><br><span class="line"><span class="section">type: &quot;tags&quot;</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><ul><li>其中上面的<code>title</code>和<code>data</code>是可以修改的。</li><li><code>title</code>：代表标签页的名字。</li><li><code>data</code>：代表标签页的创建日期。</li><li>注意：修改完该文件后，使用组合拳<code>hexo clean</code>、<code>hexo g</code>、<code>hexo s</code>并不能直接打开标签页，具体需要在使用组合拳之后得到的4000端口地址之后加上<code>tags/</code>，即<a href="http://localhost:4000/tags/">http://localhost:4000/tags/</a>。</li></ul><h3 id="2、创建分类页">2、创建分类页</h3><ul><li>在博客文件夹的根目录下使用下面命令来创建标签页文档。</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page categories</span><br></pre></td></tr></table></figure><ul><li>在博客文件夹的根目录下面按照顺序找到<code>source/categories/index.md</code>这个文件。</li><li>修改这个文件，添加<code>type: &quot;categories&quot;</code>。例如：</li></ul><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: categories</span><br><span class="line">date: 2023-07-14 00:49:41</span><br><span class="line"><span class="section">type: &quot;categories&quot;</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><ul><li>其中上面的<code>title</code>和<code>data</code>是可以修改的。</li><li><code>title</code>：代表分类页的名字。</li><li><code>data</code>：代表分类页的创建日期。</li><li>注意：修改完该文件后，使用组合拳<code>hexo clean</code>、<code>hexo g</code>、<code>hexo s</code>并不能直接打开分类页，具体需要在使用组合拳之后得到的4000端口地址之后加上<code>tags/</code>，即<a href="http://localhost:4000/categories/">http://localhost:4000/categories/</a>。</li></ul><h3 id="3、链接页的设定">3、链接页的设定</h3><ul><li>在博客文件夹的根目录下使用下面命令来创建标签页文档。</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page link</span><br></pre></td></tr></table></figure><ul><li>在博客文件夹的根目录下面按照顺序找到<code>source/link/index.md</code>这个文件。</li><li>修改这个文件，添加<code>type: &quot;link&quot;</code>。例如：</li></ul><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 友情链接</span><br><span class="line">date: 2023-07-14 00:53:52</span><br><span class="line"><span class="section">type: &quot;link&quot;</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><ul><li><p>其中上面的<code>title</code>和<code>data</code>是可以修改的。</p></li><li><p><code>link</code>：代表链接页面的名字。</p></li><li><p><code>data</code>：代表链接页面的创建日期。</p></li><li><p>注意：修改完该文件后，使用组合拳<code>hexo clean</code>、<code>hexo g</code>、<code>hexo s</code>并不能直接打开链接页，具体需要在使用组合拳之后得到的4000端口地址之后加上<code>tags/</code>，即<a href="http://localhost:4000/link/">http://localhost:4000/link/</a>。</p></li><li><p>友情链接的添加：</p><ul><li><p>在Hexo博客的根目录中的<code>source</code>中新建一个文件夹<code>_data</code>（如果已经创建可以跳过此步），然后创建一个文件夹<code>link.yml</code>。</p></li><li><p>以下面的格式进行添加链接：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">class_name:</span> <span class="string">该链接类别的名字</span></span><br><span class="line">  <span class="attr">class_desc:</span> <span class="string">该链接类别的描述</span></span><br><span class="line">  <span class="attr">link_list:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">该列表中的第一个链接</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">第一个链接的url链接</span> </span><br><span class="line">      <span class="attr">descr:</span> <span class="string">第一个链接的描述</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">该列表中的第二个链接</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">第二个链接的url</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">第二个链接的描述</span></span><br></pre></td></tr></table></figure></li><li><p>代码示例：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">class_name:</span> <span class="string">个人作品</span></span><br><span class="line">  <span class="attr">class_desc:</span> <span class="string">有点捞的</span></span><br><span class="line">  <span class="attr">link_list:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">莫名小痒的博客</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://momingxiaoyang.github.io</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://s2.loli.net/2023/07/14/DwPaOBch6G8Ij1W.jpg</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">就只是一个博客，别看啦</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> <span class="attr">class_name:</span> <span class="string">关于我现在使用的博客</span></span><br><span class="line">  <span class="attr">class_desc:</span> <span class="string">使用hexo的原因是我没有能力自己写博客</span></span><br><span class="line">  <span class="attr">link_list:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Hexo</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://hexo.io/zh-tw/</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">快速、简单且强大的框架</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> <span class="attr">class_name:</span> <span class="string">网站</span></span><br><span class="line">  <span class="attr">class_desc:</span> <span class="string">值得推荐的网站</span></span><br><span class="line">  <span class="attr">link_list:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Youtube</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://www.youtube.com/</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">全球规模最大的视频网站</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Twitter</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://twitter.com/</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">全球性的社交分享平台</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">抖音</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://www.douyin.com/</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://s2.loli.net/2023/07/14/7ma4zfUIREVBwng.jpg</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">中国短视频平台</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">bilibili</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://www.bilibili.com/</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://s2.loli.net/2023/07/14/qsAbU2oHLFhRG6j.jpg</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">中国小黑子的发源地</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>示例代码的显示效果：</p><p><img src="https://s2.loli.net/2023/07/14/fDlUsJCGQOVRaih.png" alt="链接页的设定"></p></li></ul></li></ul><h2 id="八、主题信息的配置二">八、主题信息的配置二</h2><ul><li>下面需要在你使用主题为<code>butterfly</code>的情况下适用。</li><li>在博客文件夹的根目录下面按照路径<code>/node_modules/hexo-theme-butterfly/_config.yml</code>，将文件<code>_config.yml</code>里面的内容全部复制。</li><li>返回到博客文件夹的根目录，新建一个文件，名为<code>_config.butterfly.yml</code>（与<code>_config.yml</code>同级）。</li><li>将刚才复制的内容粘贴到<code>_config.butterfly.yml</code>中，这个文件就是主题信息的配置文件。</li></ul><h3 id="1、404页面的配置">1、404页面的配置</h3><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># A simple 404 page</span></span><br><span class="line"><span class="attr">error_404:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">subtitle:</span> <span class="string">&#x27;Page Not Found&#x27;</span></span><br><span class="line">  <span class="attr">background:</span> <span class="string">https://i.loli.net/2020/05/19/aKOcLiyPl2JQdFD.png</span></span><br></pre></td></tr></table></figure><ul><li>将上面的<code>false</code>修改成<code>true</code>就可以了。</li></ul><h3 id="2、菜单部分的配置：">2、菜单部分的配置：</h3><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Menu 目錄</span></span><br><span class="line"><span class="attr">menu:</span></span><br><span class="line"><span class="comment"># Home: / || fas fa-home</span></span><br><span class="line"><span class="comment"># Archives: /archives/ || fas fa-archive</span></span><br><span class="line"><span class="comment"># Tags: /tags/ || fas fa-tags</span></span><br><span class="line"><span class="comment"># Categories: /categories/ || fas fa-folder-open</span></span><br><span class="line"><span class="comment"># List||fas fa-list:</span></span><br><span class="line"><span class="comment">#   Music: /music/ || fas fa-music</span></span><br><span class="line"><span class="comment">#   Movie: /movies/ || fas fa-video</span></span><br><span class="line"><span class="comment"># Link: /link/ || fas fa-link</span></span><br><span class="line"><span class="comment"># About: /about/ || fas fa-heart</span></span><br></pre></td></tr></table></figure><p>将其修改为：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Menu 目錄</span></span><br><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="string">主页:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="string">历史:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="string">标签页:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="string">分类页:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-folder-open</span></span><br><span class="line">  <span class="string">拓展||fas</span> <span class="attr">fa-list:</span></span><br><span class="line">    <span class="attr">Music:</span> <span class="string">/music/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-music</span></span><br><span class="line">    <span class="attr">Movie:</span> <span class="string">/movies/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-video</span></span><br><span class="line">  <span class="string">链接:</span> <span class="string">/link/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-link</span></span><br><span class="line">  <span class="string">关于:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-heart</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="3、代码的设置">3、代码的设置</h3><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Code Blocks (代碼相關)</span></span><br><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="attr">highlight_theme:</span> <span class="string">light</span> <span class="comment">#  darker / pale night / light / ocean / mac / mac light / false</span></span><br><span class="line"><span class="attr">highlight_copy:</span> <span class="literal">true</span> <span class="comment"># copy button</span></span><br><span class="line"><span class="attr">highlight_lang:</span> <span class="literal">true</span> <span class="comment"># show the code language</span></span><br><span class="line"><span class="attr">highlight_shrink:</span> <span class="literal">false</span> <span class="comment"># true: shrink the code blocks / false: expand the code blocks | none: expand code blocks and hide the button</span></span><br><span class="line"><span class="attr">highlight_height_limit:</span> <span class="literal">false</span> <span class="comment"># unit: px</span></span><br><span class="line"><span class="attr">code_word_wrap:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h4 id="3-1、代码显示风格设置">3.1、代码显示风格设置</h4><ul><li><code>highlight_theme</code>：代码主题，可以修改为<code>darker / pale night / light / ocean / mac / mac light / false</code>。</li><li>本人比较喜欢暗黑（的风格，这里就修改为<code>mac</code>。</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight_theme:</span> <span class="string">mac</span> <span class="comment">#  darker / pale night / light / ocean / mac / mac light / false</span></span><br></pre></td></tr></table></figure><h4 id="3-2、代码复制的设置">3.2、代码复制的设置</h4><ul><li><code>highlight_copy</code>：代码是否可以复制，如果里面是<code>true</code>，则博客中的代码可以复制，如果为<code>false</code>，则博客中的代码不可复制。</li><li>此处可以不用修改。</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight_copy:</span> <span class="literal">true</span> <span class="comment"># copy button</span></span><br></pre></td></tr></table></figure><h4 id="3-3-代码框的展开设置">3.3 代码框的展开设置</h4><ul><li><code>highlight_shrink</code>:代码是否折叠，如果为<code>true</code>，则代码块就会折叠，需要点击交互按钮才能展开代码；如果为<code>false</code>，则代码块不回折叠，完整显示；如果为none，那么代码快的折叠按钮将会锁定并且隐藏。</li><li>此处修改为none。</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight_shrink:</span> <span class="string">none</span> <span class="comment"># true: shrink the code blocks / false: expand the code blocks | none: expand code blocks and hide the button</span></span><br></pre></td></tr></table></figure><ul><li>当主题配置文件<code>_config.butterfly.yml</code>中的<code>highlight_shrink</code>设置为true时，可以在front-matter中添加<code>highlight_shrink: false</code>来单独配置文章展开代码框。</li><li>当主题配置文件<code>_config.butterfly.yml</code>中的<code>highlight_shrink</code>设置为false时，可以在front-matter中添加<code>highlight_shrink: true</code>来单独配置文章收缩代码框。</li></ul><h4 id="3-4-代码自动换行设置">3.4 代码自动换行设置</h4><ul><li><p><code>code_word_wrap</code>：代码是否可以复制，如果里面是<code>true</code>，则博客中的代码在一行的代码长度过长时会进行换行；如果为<code>false</code>，则博客中的代码在一行中代码过长时不会换行，但是会出现一个左右方向的滚轮。</p></li><li><p>注意：如果你将<code>code_word_wrap</code>设置为<code>true</code>，那么如果你的渲染方式为highlight，那么你需要将<code>_config_yml</code>中highlight中的<code>line_number</code>改为<code>false</code>；如果你的渲染方式为prismjs，那么你需要将那么你需要将_config_yml中<code>prismjs</code>中的<code>line_number</code>改为<code>false</code>。</p></li><li><p>此处可以不用修改。</p></li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">code_word_wrap:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h4 id="3-5、代码的行高的设置">3.5、代码的行高的设置</h4><ul><li><p><code>highlight_height_limit</code>：代码的行高，如果为false时，将不会有行高限制；如果为数字时，那么代码将会按照设定的数字来显示代码的行数，超过设定行数的代码将会收缩起来，会有交互按钮可以展开。</p></li><li><p>此处可以不用修改</p></li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight_height_limit:</span> <span class="literal">false</span> <span class="comment"># unit: px</span></span><br></pre></td></tr></table></figure><h3 id="4、社交图标的设置">4、社交图标的设置</h3><h4 id="4-1-设置社交交互图标">4.1 设置社交交互图标</h4><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Social Settings (社交圖標設置)</span></span><br><span class="line"><span class="comment"># formal:</span></span><br><span class="line"><span class="comment">#   icon: link || the description || color</span></span><br><span class="line"><span class="attr">social:</span></span><br><span class="line"><span class="comment"># fab fa-github: https://github.com/xxxxx || Github || &#x27;#24292e&#x27;</span></span><br><span class="line"><span class="comment"># fas fa-envelope: mailto:xxxxxx@gmail.com || Email || &#x27;#4a7dbe&#x27;</span></span><br></pre></td></tr></table></figure><p>将<code>social</code>里面的注释信息反注释，然后填上信息</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">social:</span></span><br><span class="line">  <span class="attr">fab fa-github:</span> <span class="string">https://github.com/momingxiaoyang</span> <span class="string">||</span> <span class="string">Github</span> <span class="string">||</span> <span class="string">&#x27;#24292e&#x27;</span></span><br><span class="line">  <span class="attr">fas fa-envelope:</span> <span class="string">mailto:momingxiaoyang@qq.com</span> <span class="string">||</span> <span class="string">Email</span> <span class="string">||</span> <span class="string">&#x27;#4a7dbe&#x27;</span></span><br></pre></td></tr></table></figure><p>如果想要添加其他图标，你需要访问一下<a href="https://fontawesome.com/search?m=free&amp;o=r">图标库</a>。</p><p>演示：</p><ul><li><p>点开上面链接，进入图标库，选择一个想要的图标，并且复制其HTML链接。</p></li><li><p>假如某个复制的HTML链接为</p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fa-solid fa-magnifying-glass&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>将上面双引号里面的内容复制下来，增加到<code>social</code>里面。</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">social:</span></span><br><span class="line">  <span class="attr">fab fa-github:</span> <span class="string">https://github.com/momingxiaoyang</span> <span class="string">||</span> <span class="string">Github</span> <span class="string">||</span> <span class="string">&#x27;#24292e&#x27;</span></span><br><span class="line">  <span class="attr">fas fa-envelope:</span> <span class="string">mailto:momingxiaoyang@qq.com</span> <span class="string">||</span> <span class="string">Email</span> <span class="string">||</span> <span class="string">&#x27;#4a7dbe&#x27;</span></span><br><span class="line">  <span class="attr">fa-solid fa-magnifying-glass:</span> <span class="string">https://baidu.com/</span> <span class="string">||</span> <span class="string">百度</span></span><br></pre></td></tr></table></figure><ul><li>保存之后，使用hexo组合拳即可完成操作。</li></ul><h4 id="4-2-个人头像">4.2 个人头像</h4><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Avatar (頭像)</span></span><br><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="attr">img:</span> <span class="string">https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png</span></span><br><span class="line">  <span class="attr">effect:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><ul><li><code>img</code>：将你想要设置头像url复制到里面，即可显示图像。</li><li><code>effect</code>：图像效果，如果为false时没有任何头像的显示效果，如果为true时头像将会自动旋转。</li></ul><h3 id="5、顶部图片的设置">5、顶部图片的设置</h3><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Disable all banner image</span></span><br><span class="line"><span class="attr">disable_top_img:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The banner image of home page</span></span><br><span class="line"><span class="attr">index_img:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If the banner of page not setting, it will show the top_img</span></span><br><span class="line"><span class="attr">default_top_img:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The banner image of archive page</span></span><br><span class="line"><span class="attr">archive_img:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If the banner of tag page not setting, it will show the top_img</span></span><br><span class="line"><span class="comment"># <span class="doctag">note:</span> tag page, not tags page (子標籤頁面的 top_img)</span></span><br><span class="line"><span class="attr">tag_img:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The banner image of tag page</span></span><br><span class="line"><span class="comment"># format:</span></span><br><span class="line"><span class="comment">#  - tag name: xxxxx</span></span><br><span class="line"><span class="attr">tag_per_img:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If the banner of category page not setting, it will show the top_img</span></span><br><span class="line"><span class="comment"># <span class="doctag">note:</span> category page, not categories page (子分類頁面的 top_img)</span></span><br><span class="line"><span class="attr">category_img:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The banner image of category page</span></span><br><span class="line"><span class="comment"># format:</span></span><br><span class="line"><span class="comment">#  - category name: xxxxx</span></span><br><span class="line"><span class="attr">category_per_img:</span></span><br></pre></td></tr></table></figure><p>如果不需要显示顶部图片，可以直接将<code>disable_top_img</code>设置为<code>true</code>。</p><ul><li><p>页面顶部图片的获取顺序：</p><p><code>各自配置的top_img</code> &gt; <code>配置文件的default_top_img</code></p></li><li><p>文章顶部图片的获取顺序：</p><p><code>各自配置的top_img</code> &gt; <code>cover</code> &gt; <code>配置文件的default_top_img</code></p></li></ul><p>上面代码中各信息配置的值的含义：</p><ul><li><code>index_img</code>：主页面的图片显示</li><li><code>default_top_img</code>：默认的页面图片显示，如果某个页面没有配置<code>top_img</code>时，就会显示该图片</li><li><code>archive_img</code>：历史页面的图片显示</li><li><code>tag_img</code>：tag子页面的默认图片显示</li><li><code>tag_per_img</code>：tag子页面的图片显示，可以为每个tag进行图片设置</li><li><code>category_img：category子页面的默认图片显示</code></li><li><code>categoty_per_img：category子页面的图片显示，可以为每个category进行图片设置</code></li><li>注意：其他页面(tags/categories/自建页面)和文章页的<code>top_ing</code>，需要到对应的md页面设置<code>front_matter</code>中的<code>top_img</code></li></ul><h3 id="6、文章的封面图片显示">6、文章的封面图片显示</h3><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">cover:</span></span><br><span class="line">  <span class="comment"># display the cover or not (是否顯示文章封面)</span></span><br><span class="line">  <span class="attr">index_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">aside_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">archives_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># the position of cover in home page (封面顯示的位置)</span></span><br><span class="line">  <span class="comment"># left/right/both</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">both</span></span><br><span class="line">  <span class="comment"># When cover is not set, the default cover is displayed (當沒有設置cover時，默認的封面顯示)</span></span><br><span class="line">  <span class="attr">default_cover:</span> </span><br><span class="line">  <span class="comment"># - https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg</span></span><br></pre></td></tr></table></figure><p>上面代码中各信息配置的值的含义：</p><ul><li><p><code>index_enable</code>：主页是否显示文章封面图。当值为true时，在主页可以看到文章将会显示文章的封面图。</p></li><li><p><code>aside_enable</code>：侧栏是否显示文章封面图。当值为true时，在侧栏可以看到文章将会显示文章的封面图。</p></li><li><p><code>archives_enable</code>：归档页是否显示文章封面图。当值为true时，在归档页可以看到文章将会显示文章的封面图。</p></li><li><p><code>position</code>：主页卡片文章封面的展示位置。如果值为left则会在主页卡片文章封面的展示位置会放到左边；如果值为right则会在主页卡片文章封面的展示位置会放到右边；如果值为both，那么将左右轮流展示封面图片。这里建议为both</p></li><li><p><code>default_cover</code>：默认的cover图，如果文章没有设置图片，将会使用这张图进行展示。</p></li><li><p>注意：如果在<code>default_cover</code>里面配置多张图片时，将会从里面的url里面随机选择一张作为文章的展示。示例如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">default_cover:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">https://file.crazywong.com/gh/jerryc127/CDN@latest/cover/default_bg.png</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">https://file.crazywong.com/gh/jerryc127/CDN@latest/cover/default_bg2.png</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">https://file.crazywong.com/gh/jerryc127/CDN@latest/cover/default_bg3.png</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul><h3 id="7、文章页面元素的设置">7、文章页面元素的设置</h3><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_meta:</span></span><br><span class="line">  <span class="attr">page:</span> <span class="comment"># Home Page</span></span><br><span class="line">    <span class="attr">date_type:</span> <span class="string">created</span> <span class="comment"># created or updated or both 主頁文章日期是創建日或者更新日或都顯示</span></span><br><span class="line">    <span class="attr">date_format:</span> <span class="string">date</span> <span class="comment"># date/relative 顯示日期還是相對日期</span></span><br><span class="line">    <span class="attr">categories:</span> <span class="literal">true</span> <span class="comment"># true or false 主頁是否顯示分類</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="literal">false</span> <span class="comment"># true or false 主頁是否顯示標籤</span></span><br><span class="line">    <span class="attr">label:</span> <span class="literal">true</span> <span class="comment"># true or false 顯示描述性文字</span></span><br><span class="line">  <span class="attr">post:</span></span><br><span class="line">    <span class="attr">date_type:</span> <span class="string">both</span> <span class="comment"># created or updated or both 文章頁日期是創建日或者更新日或都顯示</span></span><br><span class="line">    <span class="attr">date_format:</span> <span class="string">date</span> <span class="comment"># date/relative 顯示日期還是相對日期</span></span><br><span class="line">    <span class="attr">categories:</span> <span class="literal">true</span> <span class="comment"># true or false 文章頁是否顯示分類</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="literal">true</span> <span class="comment"># true or false 文章頁是否顯示標籤</span></span><br><span class="line">    <span class="attr">label:</span> <span class="literal">true</span> <span class="comment"># true or false 顯示描述性文字</span></span><br></pre></td></tr></table></figure><ul><li>对于前面的<code>page</code>，它是修饰在主页中文章元素的；对于前面的`post，它是修饰点开文章后文章页面的元素显示。</li><li><code>data_type</code>：日期显示格式，如果值为created则显示创建日期；如果值为updated则显示更新日期；如果值为both则创建日期和显示日期都会显示。</li><li><code>date_format</code>：展示日期的格式，如果为data则会展示日期；如果为relative则会展示相对时间。</li><li><code>categories</code>：是否显示文章的分类，如果值为true则会显示，反之则不显示。</li><li><code>tags</code>：是否显示文章的标签，如果值为true则会显示，反之则不显示。</li><li><code>label</code>：是否显示文章的描述性文章，如果值为true则会显示，反之则不显示。</li></ul><h3 id="8、主页文章内容节选的设置">8、主页文章内容节选的设置</h3><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Display the article introduction on homepage</span></span><br><span class="line"><span class="comment"># 1: description</span></span><br><span class="line"><span class="comment"># 2: both (if the description exists, it will show description, or show the auto_excerpt)</span></span><br><span class="line"><span class="comment"># 3: auto_excerpt (default)</span></span><br><span class="line"><span class="comment"># false: do not show the article introduction</span></span><br><span class="line"><span class="attr">index_post_content:</span></span><br><span class="line">  <span class="attr">method:</span> <span class="number">3</span></span><br><span class="line">  <span class="attr">length:</span> <span class="number">500</span> <span class="comment"># if you set method to 2 or 3, the length need to config</span></span><br></pre></td></tr></table></figure><ul><li><p><code>method</code>：文章内容设置的方式。一共有四种方式。如果值为1，则显示文章在顶部设置的描述；如果值为2，则会优先显示文章顶部描述，如果文该文章没有设置描述，则会显示文章里面的随机内容；如果值为3，则会显示文章里面的随机内容；如果值为false，则会不显示文章内容节选部分。建议定义值为2。</p></li><li><p><code>length</code>：随机节选的长度，建议使用默认的500。</p></li><li><p>注意：文章的描述设置是在Markdown文章编写时，在顶部进行的<code>front-matter</code>里面对<code>description</code>的设定，例如：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">markedown在typora上的使用</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2023-07-12 22:20:42</span></span><br><span class="line"><span class="attr">tags:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">Markdown</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">Typora</span></span><br><span class="line"><span class="attr">categories:</span> <span class="string">Markdown</span></span><br><span class="line"><span class="attr">keywords:</span> <span class="string">&#x27;Markdown, Typora&#x27;</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">通过使用软件Typora，以Markdown语法编写的软件使用和文章编写的方法</span></span><br><span class="line"><span class="attr">cover:</span> <span class="string">https://pic60.mac89.com/mac69/ico/202206/22084158_5279e2c198.png</span></span><br><span class="line"><span class="attr">top_img:</span> <span class="string">https://s2.loli.net/2023/07/16/uMytZvg8JFo1Ybj.png</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="9、页面锚点和图片描述">9、页面锚点和图片描述</h3><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># anchor</span></span><br><span class="line"><span class="attr">anchor:</span></span><br><span class="line">  <span class="attr">button:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">always_show:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="comment"># the unicode value of Font Awesome icon, such as &#x27;\3423&#x27;</span></span><br><span class="line">  <span class="attr">auto_update:</span> <span class="literal">false</span> <span class="comment"># when you scroll in post, the URL will update according to header id.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># figcaption (圖片描述文字)</span></span><br><span class="line"><span class="attr">photofigcaption:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><ul><li><code>anchor</code>：页面锚点的设置。如果使用了之后，会在你的各个标题旁边新增锚点键，点击锚点键则会来到这条标题置于文章显示范围的最顶部，对于标题下面的内容读者会得到更好的观感体验。如果想要使用，只需要将所有false的值改为true就行。而icon是选择你要显示的锚点图标。需要输入锚点图标的unicode、</li><li><code>photofigcaption</code>：图片描述文字的设置，如果设定为true，那么将会在博客文章的图片下面直接显示出你的图片的描述文字，这里建议不用修改，直接使用false。</li></ul><h3 id="10、复制相关的配置">10、复制相关的配置</h3><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># copy settings</span></span><br><span class="line"><span class="comment"># copyright: Add the copyright information after copied content (複製的內容後面加上版權信息)</span></span><br><span class="line"><span class="attr">copy:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">copyright:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">limit_count:</span> <span class="number">50</span></span><br></pre></td></tr></table></figure><ul><li><code>enable</code>：第一个enable是选择是否开启网站的复制权限，第二个enable是选择是否开启版权信息的添加。</li><li><code>copyright</code>：复制的内容后面加上版权信息。</li><li><code>limit_count</code>：选择字数限制，在第二个<code>enable</code>的值为true时,如果超过设定的字数，将会在复制的文章后面加上版权信息。</li></ul><h3 id="11、文章页相关配置">11、文章页相关配置</h3><h4 id="11-1-文章版权">11.1 文章版权</h4><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_copyright:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">decode:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">author_href:</span></span><br><span class="line">  <span class="attr">license:</span> <span class="string">CC</span> <span class="string">BY-NC-SA</span> <span class="number">4.0</span></span><br><span class="line">  <span class="attr">license_url:</span> <span class="string">https://creativecommons.org/licenses/by-nc-sa/4.0/</span></span><br></pre></td></tr></table></figure><ul><li><p><code>enable</code>：默认开启，如果值为true则意思为开启文章的版权显示。</p></li><li><p><code>decode</code>：默认关闭，是进行转码的设置，当网址里面有中文时需要进行转码，但是一般网址中都不会出现中文，所以不需要修改。</p></li><li><p>注意：如果你转载别人的文章，是不能填写你的版权信息的，你需要在复制的文章上面的<code>front-matter</code>里面对<code>copyright</code>设定值为false即可。或者用下面方式在<code>front-matter</code>里面写原作者的信息：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">copyright_author:</span> <span class="string">xxxx</span></span><br><span class="line"><span class="attr">copyright_author_href:</span> <span class="string">https://xxxxxx.com</span></span><br><span class="line"><span class="attr">copyright_url:</span> <span class="string">https://xxxxxx.com</span></span><br><span class="line"><span class="attr">copyright_info:</span> <span class="string">此文章版權歸xxxxx所有，如有轉載，請註明來自原作者</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="11-2-打赏功能">11.2 打赏功能</h4><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Sponsor/reward</span></span><br><span class="line"><span class="attr">reward:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">QR_code:</span></span><br><span class="line">  <span class="comment"># - img: /img/wechat.jpg</span></span><br><span class="line">  <span class="comment">#   link:</span></span><br><span class="line">  <span class="comment">#   text: wechat</span></span><br><span class="line">  <span class="comment"># - img: /img/alipay.jpg</span></span><br><span class="line">  <span class="comment">#   link:</span></span><br><span class="line">  <span class="comment">#   text: alipay</span></span><br></pre></td></tr></table></figure><ul><li>在你每篇文章的结尾，可以添加打赏按钮。相关二维码可以自行配置。对于没有提供二维码的，可配置一张软件的icon图片，然后在link上添加相应的打赏链接。用户点击图片就会跳转到链接去。link可以不写，会默认为图片的链接。</li></ul><h4 id="11-3-TOC">11.3 TOC</h4><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># toc (目錄)</span></span><br><span class="line"><span class="attr">toc:</span></span><br><span class="line">  <span class="attr">post:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">page:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">number:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">expand:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">style_simple:</span> <span class="literal">false</span> <span class="comment"># for post</span></span><br><span class="line">  <span class="attr">scroll_percent:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><ul><li><code>post</code>：文章页是否显示TOC</li><li><code>page</code>：普通页面是否显示TOC</li><li><code>number</code>：是否显示章节数</li><li><code>expand</code>：是否展开TOC</li><li><code>style_simple</code>：简介模式（侧边栏只显示TOC，只对文章页有效）</li><li><code>scroll_percent</code>：是否显示滚动百分比</li><li>如果你想要在特定文章里面配置TOC内容，你可以在你的文章<code>md</code>文件头部加入<code>toc_number</code>和<code>toc</code>，并且为其配置true或者<code>false</code>即可。</li></ul><h4 id="11-3-相关文章">11.3 相关文章</h4><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Related Articles</span></span><br><span class="line"><span class="attr">related_post:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">6</span> <span class="comment"># Number of posts displayed</span></span><br><span class="line">  <span class="attr">date_type:</span> <span class="string">created</span> <span class="comment"># or created or updated 文章日期顯示創建日或者更新日</span></span><br></pre></td></tr></table></figure><ul><li><code>enable</code>：默认开启，如果值为true则意思为在文章结尾会显示相关文章文章。</li><li><code>limit</code>：设置相关文章的显示数量。</li><li>上面的值使用默认即可，无需修改。</li><li>相关文章推荐的原理是根据文章tags的比重来推荐的。</li><li>注意：当文章封面设置为false时，或者没有获取到封面设置，相关文章背景会显示主题色。</li></ul><h4 id="11-4-文章过期提醒">11.4 文章过期提醒</h4><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Displays outdated notice for a post (文章過期提醒)</span></span><br><span class="line"><span class="attr">noticeOutdate:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">flat</span> <span class="comment"># style: simple/flat</span></span><br><span class="line">  <span class="attr">limit_day:</span> <span class="number">500</span> <span class="comment"># When will it be shown</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">top</span> <span class="comment"># position: top/bottom</span></span><br><span class="line">  <span class="attr">message_prev:</span> <span class="string">It</span> <span class="string">has</span> <span class="string">been</span></span><br><span class="line">  <span class="attr">message_next:</span> <span class="string">days</span> <span class="string">since</span> <span class="string">the</span> <span class="string">last</span> <span class="string">update,</span> <span class="string">the</span> <span class="string">content</span> <span class="string">of</span> <span class="string">the</span> <span class="string">article</span> <span class="string">may</span> <span class="string">be</span> <span class="string">outdated.</span></span><br></pre></td></tr></table></figure><ul><li><code>enable</code>：是否开启文章过期提醒，默认为false，关闭状态。</li><li><code>style</code>：显示的形式，如果值为falt，则会显示得好看一点；如果值为simple，则会显示得简单一点。</li><li><code>limit_day</code>：时间限制，设定经过多少时间才会过期，单位为天。</li><li><code>position</code>：文章过期提醒的位置，如果为top则会在文章的顶部出现；如果为bottom则会在文章的底部出现。</li><li><code>message_prev</code>：文章过期之前显示的文字。</li><li><code>message_next</code>：文章过期之后显示的文字。</li></ul><h4 id="11-5-文章编辑按钮">11.5 文章编辑按钮</h4><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Post edit</span></span><br><span class="line"><span class="comment"># Easily browse and edit blog source code online.</span></span><br><span class="line"><span class="attr">post_edit:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># url: https://github.com/user-name/repo-name/edit/branch-name/subdirectory-name/</span></span><br><span class="line">  <span class="comment"># For example: https://github.com/jerryc127/butterfly.js.org/edit/main/source/</span></span><br><span class="line">  <span class="attr">url:</span></span><br></pre></td></tr></table></figure><ul><li>该功能会在文章标题旁边显示一个编辑按钮，点击会跳转到对应的链接去。</li><li>由于编写的博客是自己使用静态博客，所以该功能可以不使用，可以忽略。</li></ul><h4 id="11-6-文章分页按钮">11.6 文章分页按钮</h4><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># post_pagination (分頁)</span></span><br><span class="line"><span class="comment"># value: 1 || 2 || false</span></span><br><span class="line"><span class="comment"># 1: The &#x27;next post&#x27; will link to old post</span></span><br><span class="line"><span class="comment"># 2: The &#x27;next post&#x27; will link to new post</span></span><br><span class="line"><span class="comment"># false: disable pagination</span></span><br><span class="line"><span class="attr">post_pagination:</span> <span class="number">1</span></span><br></pre></td></tr></table></figure><ul><li>该功能是在文章结束后，会出现上一篇以及下一篇的其他文章显示。</li><li><code>post_pagination</code>：分页的显示模式，如果值为1，则下一篇文章就会是更旧的文章；如果值为2，则下一篇文章的更新的文章；如果值为false，则不会显示分页。</li><li>这里推荐可以使用false，只使用相关文章推荐。</li></ul><h3 id="12、页脚信息的设置">12、页脚信息的设置</h3><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Footer Settings</span></span><br><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="attr">owner:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">since:</span> <span class="number">2020</span></span><br><span class="line">  <span class="attr">custom_text:</span></span><br><span class="line">  <span class="attr">copyright:</span> <span class="literal">true</span> <span class="comment"># Copyright of theme and framework</span></span><br></pre></td></tr></table></figure><ul><li><code>owner</code>：编写者的信息，里面的<code>enable</code>是选择是否显示要打开，里面的<code>since</code>是时间的开始日期，是可以设定的。</li><li><code>custom_text</code>：里面的内容是自定义的页脚文本。可以在这里写声明文本等，支持HTML。如果需要写ICP链接，也可以写在里面</li><li><code>copyright</code>：里面的值如果为true，则会在页脚显示所使用的主题和框架，这里就会显示hexo和butterfly；里面的值如果为false，则会隐藏这些信息。</li></ul><h3 id="13、侧边栏设置">13、侧边栏设置</h3><h4 id="13-1-侧边排版">13.1 侧边排版</h4><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># aside (側邊欄)</span></span><br><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="attr">aside:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">hide:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">button:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">true</span> <span class="comment"># display on mobile</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">right</span> <span class="comment"># left or right</span></span><br><span class="line">  <span class="attr">display:</span></span><br><span class="line">    <span class="attr">archive:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">tag:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">category:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">card_author:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">description:</span></span><br><span class="line">    <span class="attr">button:</span></span><br><span class="line">      <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">fab</span> <span class="string">fa-github</span></span><br><span class="line">      <span class="attr">text:</span> <span class="string">Follow</span> <span class="string">Me</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://github.com/xxxxxx</span></span><br><span class="line">  <span class="attr">card_announcement:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">content:</span> <span class="string">This</span> <span class="string">is</span> <span class="string">my</span> <span class="string">Blog</span></span><br><span class="line">  <span class="attr">card_recent_post:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">5</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">sort:</span> <span class="string">date</span> <span class="comment"># date or updated</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_categories:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">8</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">expand:</span> <span class="string">none</span> <span class="comment"># none/true/false</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_tags:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">40</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">color:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">orderby:</span> <span class="string">random</span> <span class="comment"># Order of tags, random/name/length</span></span><br><span class="line">    <span class="attr">order:</span> <span class="number">1</span> <span class="comment"># Sort of order. 1, asc for ascending; -1, desc for descending</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_archives:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">monthly</span> <span class="comment"># yearly or monthly</span></span><br><span class="line">    <span class="attr">format:</span> <span class="string">MMMM</span> <span class="string">YYYY</span> <span class="comment"># eg: YYYY年MM月</span></span><br><span class="line">    <span class="attr">order:</span> <span class="number">-1</span> <span class="comment"># Sort of order. 1, asc for ascending; -1, desc for descending</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">8</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_webinfo:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">post_count:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">last_push_date:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br></pre></td></tr></table></figure><ul><li><code>enable</code>：是否启用侧边栏。</li><li><code>hide</code>：是否隐藏侧边栏。</li><li><code>button</code>：是否出现侧边栏的收缩交互按钮</li><li><code>mobile</code>：移动端是否显示侧边栏</li><li><code>position</code>：侧边栏出现的位置</li><li><code>display</code>：侧边栏头像下面是否显示<code>archive</code>、<code>tag</code>、<code>category</code>三部分内容</li><li><code>card_author</code>：作者信息的显示，可以填写文字描述，以及定义下面的交互按钮</li><li><code>card_announcement</code>：侧边额度通知部分的显示，可以选择是否显示以及显示内容。</li><li><code>card_recent_post</code>：侧边中的近期提交文章部分，可以选择展示的文章数量（如果设置为0则会全部展示）以及分类的依据（发布时间或更新时间）、分类的顺序（尽量不要设置）。</li><li><code>card_categories</code>：侧边栏中分类内容，可以选择类别的显示数量以及是否扩展。</li><li><code>card_tags</code>：侧边栏中的标签部分，可以选择标签的显示数量、标签多色系显示、排序方式。</li><li><code>card_archives</code>：侧边栏中的历史部分，可以选择显示形式、显示格式、排序、显示数量等。</li><li><code>card_webinfo</code>：侧边栏中的网页更新信息，可以选择是否启用、是否开启发布文章的计数、是否开始跟距离上次更新的时间。</li><li>这里建议可以按照情况修改一下<code>card_author</code>部分以及将<code>card_tags</code>里面的<code>color</code>改为ture，其他不需要改变。</li></ul><h4 id="13-2-访问人数">13.2 访问人数</h4><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># busuanzi count for PV / UV in site</span></span><br><span class="line"><span class="comment"># 訪問人數</span></span><br><span class="line"><span class="attr">busuanzi:</span></span><br><span class="line">  <span class="attr">site_uv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">site_pv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">page_pv:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><ul><li><code>site_uv</code></li><li><code>site_pv</code></li><li><code>page_pv</code></li></ul><h4 id="13-3-运行时间">13.3 运行时间</h4><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Time difference between publish date and now (網頁運行時間)</span></span><br><span class="line"><span class="comment"># Formal: Month/Day/Year Time or Year/Month/Day Time</span></span><br><span class="line"><span class="attr">runtimeshow:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">publish_date:</span></span><br></pre></td></tr></table></figure><ul><li><code>enable</code>：是否开启运行时间的显示</li><li><code>publish_date</code>：运行开始的时间，格式：月/日/年 时间，也可以写成：年/月/日 时间</li></ul><h4 id="13-4-最新评论">13.4 最新评论</h4><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Aside widget - Newest Comments</span></span><br><span class="line"><span class="attr">newest_comments:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">6</span></span><br><span class="line">  <span class="attr">storage:</span> <span class="number">10</span> <span class="comment"># unit: mins, save data to localStorage</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><ul><li>最新评论只会在刷新时才会去读取，并不会实时变化。</li><li>由于 API 有 访问次数限制，为了避免调用太多，主题默认存取期限为 10 分钟。也就是説，调用后资料会存在 localStorage 里，10分钟内刷新网站只会去 localStorage 读取资料。 10 分钟期限一过，刷新页面时才会去调取 API 读取新的数据。</li><li><code>limit</code>：显示的数量</li><li><code>storage</code>：设置数据缓存的时间，单位为分钟</li><li><code>avatar</code>：是否显示头像</li><li>这里建议不用修改，使用默认即可。</li></ul><h4 id="13-5-自定义添加栏目">13.5 自定义添加栏目</h4><h3 id="14、右下角按钮设置">14、右下角按钮设置</h3><h4 id="14-1-繁简转换">14.1 繁简转换</h4><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">translate:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># 默认按钮显示文字(网站是简体，应设置为&#x27;default: 繁&#x27;)</span></span><br><span class="line">  <span class="attr">default:</span> <span class="string">简</span></span><br><span class="line">  <span class="comment">#网站默认语言，1: 繁体中文, 2: 简体中文</span></span><br><span class="line">  <span class="attr">defaultEncoding:</span> <span class="number">1</span></span><br><span class="line">  <span class="comment">#延迟时间,若不在前, 要设定延迟翻译时间, 如100表示100ms,默认为0</span></span><br><span class="line">  <span class="attr">translateDelay:</span> <span class="number">0</span></span><br><span class="line">  <span class="comment">#当文字是简体时，按钮显示的文字</span></span><br><span class="line">  <span class="attr">msgToTraditionalChinese:</span> <span class="string">&quot;繁&quot;</span></span><br><span class="line">  <span class="comment">#当文字是繁体时，按钮显示的文字</span></span><br><span class="line">  <span class="attr">msgToSimplifiedChinese:</span> <span class="string">&quot;简&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>按照上面代码中的注释去配置即可。</li></ul><h4 id="14-2-阅读模式">14.2 阅读模式</h4><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Read Mode (閲讀模式)</span></span><br><span class="line"><span class="attr">readmode:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><ul><li>阅读模式下会去除掉文章外的内容，避免干扰阅读。</li><li>只会出现在文章页面，右下角会有阅读模式的按钮。</li></ul><h4 id="14-3-夜间模式">14.3 夜间模式</h4><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># dark mode</span></span><br><span class="line"><span class="attr">darkmode:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Toggle Button to switch dark/light mode</span></span><br><span class="line">  <span class="attr">button:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Switch dark/light mode automatically (自動切換 dark mode和 light mode)</span></span><br><span class="line">  <span class="comment"># autoChangeMode: 1  Following System Settings, if the system doesn&#x27;t support dark mode, it will switch dark mode between 6 pm to 6 am</span></span><br><span class="line">  <span class="comment"># autoChangeMode: 2  Switch dark mode between 6 pm to 6 am</span></span><br><span class="line">  <span class="comment"># autoChangeMode: false</span></span><br><span class="line">  <span class="attr">autoChangeMode:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Set the light mode time. The value is between 0 and 24. If not set, the default value is 6 and 18</span></span><br><span class="line">  <span class="attr">start:</span> <span class="comment"># 8</span></span><br><span class="line">  <span class="attr">end:</span> <span class="comment"># 22</span></span><br></pre></td></tr></table></figure><ul><li><code>button</code>：是否在右下角显示日夜模式切换按钮</li><li><code>autoChangeMode</code>：自动切换的模式。如果值为1，则为跟随系统而变化，如果浏览器不支持则会按照设定的时间之间切换到日间模式；如果值为2，则指按照设定的时间切换到日间模式，其余时间为夜间模式；如果值为false，则取消自动切换。</li><li><code>start</code>：日间模式的开始时间，例如：8。</li><li><code>end</code>：日间模式的结束时间，例如：22。</li></ul><h4 id="14-4-滚动状态百分比">14.4 滚动状态百分比</h4><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># show scroll percent in scroll-to-top button</span></span><br><span class="line"><span class="attr">rightside_scroll_percent:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><ul><li>如果想要出现滚动条，直接改为true即可。</li></ul><h4 id="14-5-按钮顺序">14.5 按钮顺序</h4><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Don&#x27;t modify the following settings unless you know how they work (非必要請不要修改 )</span></span><br><span class="line"><span class="comment"># Choose: readmode,translate,darkmode,hideAside,toc,chat,comment</span></span><br><span class="line"><span class="comment"># Don&#x27;t repeat 不要重複</span></span><br><span class="line"><span class="attr">rightside_item_order:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">hide:</span> <span class="comment"># readmode,translate,darkmode,hideAside</span></span><br><span class="line">  <span class="attr">show:</span> <span class="comment"># toc,chat,comment</span></span><br></pre></td></tr></table></figure><ul><li>这里如果非必要的话就不需要更改了，直接使用默认的即可。</li></ul><h2 id="九、主题信息的配置三">九、主题信息的配置三</h2><h3 id="1、标签外挂（Tag-plugins）">1、标签外挂（Tag plugins）</h3><ul><li>主要是使用在md文章里面，实现一些markdown以外的功能。</li><li>但是注意，以下内容只适合在Butterfly主题下面使用，如果在其他主题使用会不出效果，甚至报错。</li></ul><h4 id="1-1-Note的设置">1.1 Note的设置</h4><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Note (Bootstrap Callout)</span></span><br><span class="line"><span class="attr">note:</span></span><br><span class="line">  <span class="comment"># Note tag style values:</span></span><br><span class="line">  <span class="comment">#  - simple    bs-callout old alert style. Default.</span></span><br><span class="line">  <span class="comment">#  - modern    bs-callout new (v2-v3) alert style.</span></span><br><span class="line">  <span class="comment">#  - flat      flat callout style with background, like on Mozilla or StackOverflow.</span></span><br><span class="line">  <span class="comment">#  - disabled  disable all CSS styles import of note tag.</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">flat</span></span><br><span class="line">  <span class="attr">icons:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">border_radius:</span> <span class="number">3</span></span><br><span class="line">  <span class="comment"># Offset lighter of background in % for modern and flat styles (modern: -12 | 12; flat: -18 | 6).</span></span><br><span class="line">  <span class="comment"># Offset also applied to label tag variables. This option can work with disabled note tag.</span></span><br><span class="line">  <span class="attr">light_bg_offset:</span> <span class="number">0</span></span><br></pre></td></tr></table></figure><ul><li><code>style</code>：默认的样式，如果在使用note时没有设定样式，则会使用默认样式。可以根据喜好设定。</li><li><code>icons</code>：是否启用图标，默认开启。</li><li><code>border_radius</code>：设定边框的弧度，如果其值过大，note的弧度将会从方形编程弧形。</li><li><code>light_bg_offset</code>：背景的深浅程度。</li><li>以上建议除了<code>style</code>以外都不用修改，直接使用默认即可。</li></ul><h5 id="1-1-1-note使用方法一：">1.1.1 note使用方法一：</h5><p>在markdown文档里面使用使用下面的语法即可：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note [class] [no-icon] [style] %&#125;</span><br><span class="line">Any content (support inline tags too.io).</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><ul><li><code>class</code>：可选。表示同意作用，不同的标识有不同的配色以及图标，可以显示的标识有default / primary / success / info / warning / danger 。</li><li><code>no-icon</code>：可选。如果不想要显示icon，可以直接在<code>class</code>后面加上<code>no-icon</code>。</li><li><code>style</code>：可选。如果没有填写style时将会使用默认配置里面的样式，如果填写值则会根据填写的值来显示样式，可以选择的样式有 simple / modern / flat / disabled 。</li><li>标签代码示例：</li></ul><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note simple %&#125;</span><br><span class="line">默认 simple 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note modern %&#125;</span><br><span class="line">默认 modern 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note flat %&#125;</span><br><span class="line">默认 flat 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note disable %&#125;</span><br><span class="line">默认 disable 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note no-icon %&#125;</span><br><span class="line">默认 no-icon 提示快标签，这里使用的是主题配置文件中定义的默认style</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#123;% note default simple %&#125;</span><br><span class="line">default simple 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default modern %&#125;</span><br><span class="line">default modern 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default flat %&#125;</span><br><span class="line">default flat 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default disable %&#125;</span><br><span class="line">default disable 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default no-icon %&#125;</span><br><span class="line">default no-icon 提示块标签，这里使用的是主题配置文件中定义的默认style</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#123;% note primary simple %&#125;</span><br><span class="line">primary simple 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary modern %&#125;</span><br><span class="line">primary modern 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary flat %&#125;</span><br><span class="line">primary flat 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary disable %&#125;</span><br><span class="line">primary disable 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary no-icon %&#125;</span><br><span class="line">primary no-icon 提示块标签，这里使用的是主题配置文件中定义的默认style</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#123;% note success simple %&#125;</span><br><span class="line">success simple 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success modern %&#125;</span><br><span class="line">success modern 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success flat %&#125;</span><br><span class="line">success flat 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success disable %&#125;</span><br><span class="line">success disable 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success no-icon %&#125;</span><br><span class="line">success no-icon 提示块标签，这里使用的是主题配置文件中定义的默认style</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#123;% note info simple %&#125;</span><br><span class="line">info simple 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info modern %&#125;</span><br><span class="line">info modern提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info flat %&#125;</span><br><span class="line">info flat 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info disable %&#125;</span><br><span class="line">info disable 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info no-icon %&#125;</span><br><span class="line">info no-icon 提示块标签，这里使用的是主题配置文件中定义的默认style</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#123;% note warning simple %&#125;</span><br><span class="line">warning simple 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning modern %&#125;</span><br><span class="line">warning modern 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning flat %&#125;</span><br><span class="line">warning flat 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning disable %&#125;</span><br><span class="line">warning disable 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning no-icon %&#125;</span><br><span class="line">warning no-icon 提示块标签，这里使用的是主题配置文件中定义的默认style</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger simple %&#125;</span><br><span class="line">danger 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger modern %&#125;</span><br><span class="line">danger modern 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger flat %&#125;</span><br><span class="line">danger flat提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger disable %&#125;</span><br><span class="line">danger disable 提示块标签</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger np-icon %&#125;</span><br><span class="line">danger no-icon 提示块标签，这里使用的是主题配置文件中定义的默认style</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><ul><li><p>代码显示效果：</p><div class="note simple"><p>默认 simple 提示块标签</p></div><div class="note modern"><p>默认 modern 提示块标签</p></div><div class="note flat"><p>默认 flat 提示块标签</p></div><div class="note disable flat"><p>默认 disable 提示块标签</p></div><div class="note no-icon flat"><p>默认 no-icon 提示快标签，这里使用的是主题配置文件中定义的默认style</p></div><div class="note default simple"><p>default simple 提示块标签</p></div><div class="note default modern"><p>default modern 提示块标签</p></div><div class="note default flat"><p>default flat 提示块标签</p></div><div class="note default disable flat"><p>default disable 提示块标签</p></div><div class="note default no-icon flat"><p>default no-icon 提示块标签，这里使用的是主题配置文件中定义的默认style</p></div><div class="note primary simple"><p>primary simple 提示块标签</p></div><div class="note primary modern"><p>primary modern 提示块标签</p></div><div class="note primary flat"><p>primary flat 提示块标签</p></div><div class="note primary disable flat"><p>primary disable 提示块标签</p></div><div class="note primary no-icon flat"><p>primary no-icon 提示块标签，这里使用的是主题配置文件中定义的默认style</p></div><div class="note success simple"><p>success simple 提示块标签</p></div><div class="note success modern"><p>success modern 提示块标签</p></div><div class="note success flat"><p>success flat 提示块标签</p></div><div class="note success disable flat"><p>success disable 提示块标签</p></div><div class="note success no-icon flat"><p>success no-icon 提示块标签，这里使用的是主题配置文件中定义的默认style</p></div><div class="note info simple"><p>info simple 提示块标签</p></div><div class="note info modern"><p>info modern提示块标签</p></div><div class="note info flat"><p>info flat 提示块标签</p></div><div class="note info disable flat"><p>info disable 提示块标签</p></div><div class="note info no-icon flat"><p>info no-icon 提示块标签，这里使用的是主题配置文件中定义的默认style</p></div><div class="note warning simple"><p>warning simple 提示块标签</p></div><div class="note warning modern"><p>warning modern 提示块标签</p></div><div class="note warning flat"><p>warning flat 提示块标签</p></div><div class="note warning disable flat"><p>warning disable 提示块标签</p></div><div class="note warning no-icon flat"><p>warning no-icon 提示块标签，这里使用的是主题配置文件中定义的默认style</p></div><div class="note danger simple"><p>danger 提示块标签</p></div><div class="note danger modern"><p>danger modern 提示块标签</p></div><div class="note danger flat"><p>danger flat提示块标签</p></div><div class="note danger disable flat"><p>danger disable 提示块标签</p></div><div class="note danger np-icon flat"><p>danger no-icon 提示块标签，这里使用的是主题配置文件中定义的默认style</p></div></li></ul><h5 id="1-1-2-note使用方法二（自定义icon）：">1.1.2 note使用方法二（自定义icon）：</h5><p>在markdown文档里面使用使用下面的语法即可：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note [color] [icon] [style] %&#125;</span><br><span class="line">Any content (support inline tags too.io).</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><ul><li><p><code>color</code>：可选。填写自己想要设置的颜色。可以选择的颜色有 default / blue / pink / red / purple / orange / green。</p></li><li><p><code>icon</code>：可选。可配置自定义的icon（只支持fontawesome图标，也可以配置no-icon）</p></li><li><p><code>style</code>：可选。如果没有填写style时将会使用默认配置里面的样式，如果填写值则会根据填写的值来显示样式，可以选择的样式有 simple / modern / flat / disabled 。</p></li><li><p>代码示例：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note blue &#x27;fa-brands fa-qq&#x27; simple %&#125;</span><br><span class="line">你冲qb吗 blue simple</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note &#x27;fa-solid fa-poo&#x27; simple %&#125;</span><br><span class="line">不充我请你吃冰淇凌 default simple</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note blue &#x27;fa-brands fa-qq&#x27; modern %&#125;</span><br><span class="line">你冲qb吗 blue modern</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note pink &#x27;fa-solid fa-poo&#x27; modern %&#125;</span><br><span class="line">不充我请你吃冰淇凌 pink modern</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note red &#x27;fa-brands fa-qq&#x27; flat %&#125;</span><br><span class="line">你冲qb吗 red flat</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note purple &#x27;fa-solid fa-poo&#x27; flat %&#125;</span><br><span class="line">不充我请你吃冰淇凌 purple flat</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note orange &#x27;fa-brands fa-qq&#x27; disabled %&#125;</span><br><span class="line">你冲qb吗 orange disable</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green &#x27;fa-solid fa-poo&#x27; disabled %&#125;</span><br><span class="line">不充我请你吃冰淇凌 green disable</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></li><li><p>代码实际效果：</p><div class="note blue icon-padding simple"><i class="note-icon fa-brands fa-qq"></i><p>你冲qb吗 blue simple</p></div><div class="note icon-padding simple"><i class="note-icon fa-solid fa-poo"></i><p>不充我请你吃冰淇凌 default simple</p></div><div class="note blue icon-padding modern"><i class="note-icon fa-brands fa-qq"></i><p>你冲qb吗 blue modern</p></div><div class="note pink icon-padding modern"><i class="note-icon fa-solid fa-poo"></i><p>不充我请你吃冰淇凌 pink modern</p></div><div class="note red icon-padding flat"><i class="note-icon fa-brands fa-qq"></i><p>你冲qb吗 red flat</p></div><div class="note purple icon-padding flat"><i class="note-icon fa-solid fa-poo"></i><p>不充我请你吃冰淇凌 purple flat</p></div><div class="note orange icon-padding disabled"><i class="note-icon fa-brands fa-qq"></i><p>你冲qb吗 orange disable</p></div><div class="note green icon-padding disabled"><i class="note-icon fa-solid fa-poo"></i><p>不充我请你吃冰淇凌 green disable</p></div></li></ul><h4 id="1-2-Gallery">1.2 Gallery</h4><h5 id="1-2-1-图库">1.2.1 图库</h5><p>在markdown文档里面使用使用下面的语法即可：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;gallery-group-main&quot;</span>&gt;</span></span></span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><ul><li><code>name</code>：图库的名字。</li><li><code>description</code>：图库的描述。</li><li><code>link</code>：连接到对应相册的地址。这里需要在source文件里面建立文件或者md文档来予以访问。</li><li><code>img-url</code>：图库封面的地址。</li></ul><p>示例代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;gallery-group-main&quot;</span>&gt;</span></span></span><br><span class="line">&#123;% galleryGroup &#x27;壁纸&#x27; &#x27;收藏的一些壁纸&#x27; &#x27;/Gallery/wallpaper&#x27; https://i.loli.net/2019/11/10/T7Mu8Aod3egmC4Q.png %&#125;</span><br><span class="line">&#123;% galleryGroup &#x27;漫威&#x27; &#x27;关于漫威的图片&#x27; &#x27;/Gallery/marvel&#x27; https://i.loli.net/2019/12/25/8t97aVlp4hgyBGu.jpg %&#125;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>示例代码分析：</p><ul><li>就拿上面的示例代码为例子，你可以将这段代码直接复制到你的md文件里面使用。</li><li>“壁纸”和“漫威”是图库的名字；</li><li>“收藏的一些壁纸”和“关于漫威的图片”是你鼠标在图库的封面图片上时才会显示的图库描述；</li><li>紧跟其后的是图库的路径，如果你复制上面代码到你的md文档后，能够实现点击图库能够进去页面，你需要在博客根目录/source/里面建立一个文件<code>Gallery</code>，然后再建立<code>wallpaper.md</code>和<code>marvel.md</code>，最后再编写这两个新建的md文件就可以实现点击访问了。</li><li>最后一个url是封面图片的url，你可以拿远程的，也可以使用仓库里面的。</li></ul><h5 id="1-2-2-相册">1.2.2 相册</h5><p>在markdown文档里面使用使用下面的语法即可：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% gallery [lazyload],[rowHeight],[limit] %&#125;</span><br><span class="line">markdown 图片格式</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure><ul><li><code>lazyload</code>：可选。会出现可点击按钮（加载更多图片），可以填写 true / false 。默认为false。</li><li><code>rowHeight</code>：可选。图片显示的高度，如果需要一行显示更多图片，可以设置为更小的数字。默认为220.</li><li><code>limit</code>：可选。每次加载的图片数量。默认为10。</li><li>注意：新版相册会自动根据图片长度进行排版，书写也更更加方便，与markdown格式一样。可以根据需要插入相应的md。</li></ul><p>示例代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#123;% gallery %&#125;</span><br><span class="line">markdown 图片格式</span><br><span class="line">&#123;% endgallery %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% gallery true,220,10 %&#125;</span><br><span class="line">markdown 图片格式</span><br><span class="line">&#123;% endgallery %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% gallery true,,10 %&#125;</span><br><span class="line">markdown 图片格式</span><br><span class="line">&#123;% endgallery %&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#123;% gallery %&#125;</span><br><span class="line">![](<span class="link">img_url</span>)</span><br><span class="line">![](<span class="link">img_url</span>)</span><br><span class="line">![](<span class="link">img_url</span>)</span><br><span class="line">![](<span class="link">img_url</span>)</span><br><span class="line">![](<span class="link">img_url</span>)</span><br><span class="line">![](<span class="link">img_url</span>)</span><br><span class="line">![](<span class="link">img_url</span>)</span><br><span class="line">![](<span class="link">img_url</span>)</span><br><span class="line">&#123;% endgallery %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="1-3-标签隐藏（tag-hide）">1.3 标签隐藏（tag-hide）</h4><ul><li>如果想把一些文字、内容隐藏起来，并提供按钮让用户点击显示。可以使用这个标签外挂。</li><li>注意：tag-hide内的标签外挂content内都不建议有h1~h6等标题。因为Toc会把隐藏内容标题也显示出来，而且当滚动屏幕时，如果隐藏内容没有显示出来，会导致Toc的滚动出现异常。</li></ul><h5 id="1-3-1-内联隐藏（inline）">1.3.1 内联隐藏（inline）</h5><p>在markdown文档里面使用使用下面的语法即可：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% hideInline content,display,bg,color %&#125;</span><br></pre></td></tr></table></figure><ul><li><code>content</code>：隐藏的文本内容。</li><li><code>display</code>：可选。按钮上面显示的文字。</li><li><code>bg</code>：可选。按钮的背景颜色。</li><li><code>color</code>：可选。按钮文字的颜色。</li><li><code>inline</code>再文本里面添加按键隐藏内容只限文字，且content不能包含因为英文都好，可以用<code>&amp;sbquo</code>来 实现。</li></ul><p>示例代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">巅峰产生虚伪的拥护 &#123;% hideInline 黄昏见证虔诚的信徒,查看下一句,#FF7242,#fff %&#125;</span><br><span class="line"></span><br><span class="line">猜一个持续很久，现在还有存在的一种疫病 &#123;% hideInline 电子鸡瘟 %&#125;</span><br></pre></td></tr></table></figure><p>代码显示效果：<br>巅峰产生虚伪的拥护 <span class="hide-inline"><button type="button" class="hide-button" style="background-color: #FF7242;color: #fff">查看下一句  </button><span class="hide-content">黄昏见证虔诚的信徒</span></span></p><p>猜一个持续很久，现在还有存在的一种疫病 <span class="hide-inline"><button type="button" class="hide-button" style="">Click  </button><span class="hide-content">电子鸡瘟</span></span></p><h5 id="1-3-2-区块隐藏-Block">1.3.2 区块隐藏(Block)</h5><p>在markdown文档里面使用使用下面的语法即可：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% hideBlock display,bg,color %&#125;</span><br><span class="line">content</span><br><span class="line">&#123;% endhideBlock %&#125;</span><br></pre></td></tr></table></figure><ul><li><code>content</code>：隐藏的文本内容。</li><li><code>display</code>：可选。按钮上面显示的文字。</li><li><code>bg</code>：可选。按钮的背景颜色。</li><li><code>color</code>：可选。按钮文字的颜色。</li><li>注意：<code>block</code>独立的block隐藏内容，比inline能隐藏的内容更多，包括图片，代码块等等。但是display不能包含因为英文都好，可以用<code>&amp;sbquo</code>来 实现。</li></ul><p>示例代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">请试试点开下面的按钮</span><br><span class="line">&#123;% hideBlock 我没骗你，里面有美女 %&#125;</span><br><span class="line">![<span class="string">美女.jpg</span>](<span class="link">https://s2.loli.net/2023/07/18/yDbv39sBgrfGoVu.jpg</span>)</span><br><span class="line">&#123;% endhideBlock %&#125;</span><br></pre></td></tr></table></figure><p>代码显示效果：<br>请试试点开下面的按钮</p><div class="hide-block"><button type="button" class="hide-button" style="">我没骗你，里面有美女    </button><div class="hide-content"><p><img src="https://s2.loli.net/2023/07/18/yDbv39sBgrfGoVu.jpg" alt="美女.jpg"></p></div></div><h5 id="1-3-3-收缩隐藏（Toggle）">1.3.3 收缩隐藏（Toggle）</h5><p>在markdown文档里面使用使用下面的语法即可：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% hideToggle display,bg,color %&#125;</span><br><span class="line">content</span><br><span class="line">&#123;% endhideToggle %&#125;</span><br></pre></td></tr></table></figure><ul><li>如果你需要展示的内容太多，可以将其隐藏在搜索框里面，需要时再把它展开。但是display不能包含因为英文都好，可以用<code>&amp;sbquo</code>来 实现。</li></ul><p>示例代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;% hideToggle 猜猜里面有什么 %&#125;</span><br><span class="line">快点进去看一下吧！</span><br><span class="line">&#123;% hideToggle 猜猜里面有什么 %&#125;</span><br><span class="line">快点进去看一下吧！</span><br><span class="line">&#123;% hideToggle 猜猜里面有什么 %&#125;</span><br><span class="line">其实什么也没有哟～</span><br><span class="line">&#123;% endhideToggle %&#125;</span><br><span class="line">&#123;% endhideToggle %&#125;</span><br><span class="line">&#123;% endhideToggle %&#125;</span><br></pre></td></tr></table></figure><p>代码显示效果：</p><details class="toggle" ><summary class="toggle-button" style="">猜猜里面有什么</summary><div class="toggle-content"><p>快点进去看一下吧！</p><details class="toggle" ><summary class="toggle-button" style="">猜猜里面有什么</summary><div class="toggle-content"><p>快点进去看一下吧！</p><details class="toggle" ><summary class="toggle-button" style="">猜猜里面有什么</summary><div class="toggle-content"><p>其实什么也没有哟～</p></div></details></div></details></div></details><h4 id="1-4-图片绘制（mermaid）">1.4 图片绘制（mermaid）</h4><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># mermaid</span></span><br><span class="line"><span class="section"># see https://github.com/mermaid-js/mermaid</span></span><br><span class="line">mermaid:</span><br><span class="line">  enable: false</span><br><span class="line">  # built-in themes: default/forest/dark/neutral</span><br><span class="line">  theme:</span><br><span class="line"><span class="code">    light: default</span></span><br><span class="line"><span class="code">    dark: dark</span></span><br></pre></td></tr></table></figure><p>如果需要使用，则将<code>enable</code>的值改为true。</p><p>在markdown文档里面使用使用下面的语法即可：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% mermaid %&#125;</span><br><span class="line">内容</span><br><span class="line">&#123;% endmermaid %&#125;</span><br></pre></td></tr></table></figure><p>示例代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;% mermaid %&#125;</span><br><span class="line">pie</span><br><span class="line"><span class="code">    title Key elements in Product X</span></span><br><span class="line"><span class="code">    &quot;Calcium&quot; : 42.96</span></span><br><span class="line"><span class="code">    &quot;Potassium&quot; : 50.05</span></span><br><span class="line"><span class="code">    &quot;Magnesium&quot; : 10.01</span></span><br><span class="line"><span class="code">    &quot;Iron&quot; :  5</span></span><br><span class="line"><span class="code">&#123;% endmermaid %&#125;</span></span><br></pre></td></tr></table></figure><p>显示效果：</p><div class="mermaid-wrap"><pre class="mermaid-src" hidden>  pie    title Key elements in Product X    &quot;Calcium&quot; : 42.96    &quot;Potassium&quot; : 50.05    &quot;Magnesium&quot; : 10.01    &quot;Iron&quot; :  5  </pre></div><h4 id="1-5-标签（Tabs）">1.5 标签（Tabs）</h4><p>在markdown文档里面使用使用下面的语法即可：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs Unique name, [index] %&#125;</span><br><span class="line">&lt;!-- tab [Tab caption] [@icon] --&gt;</span><br><span class="line">Any content (support inline tags too).</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><ul><li><code>Unique name</code>：tabs部分的唯一名称，并且里面不能带英文逗号。在每个tab中都会使用其充当前缀，并且在后面添加上序号。如果在<code>Unique name</code>里面出现空格，在生成渲染时会用破折号代替空格。上述情况只适用于文章路径和名字唯一的情况。</li><li><code>[index]</code>：可选。可以填写数字，填写数字后会将对应的tab在整个tabs中默认显示出来。</li><li><code>[Tab caption]</code>：可选。tab的指定标题。如果值为空，则会显示为<code>Unique name</code>+<code> index</code>的样式；如果填写了相应的字符串，将会将该字符串作为该tab的名称；如果没有填写相应字符串而是只填写了指定图标，那么该tab只会显示该图标。</li><li><code>[@icon]</code>：可选。标题显示的指定图标。</li></ul><h5 id="1-5-1-Tabs代码示例一：预设使用默认显示tab">1.5.1 Tabs代码示例一：预设使用默认显示tab</h5><p>示例代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test1 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>显示效果：</p><div class="tabs" id="test1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test1-1">test1 1</button></li><li class="tab"><button type="button" data-href="#test1-2">test1 2</button></li><li class="tab"><button type="button" data-href="#test1-3">test1 3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h5 id="1-5-2-Tabs代码示例二：预设选择特定的tab显示">1.5.2 Tabs代码示例二：预设选择特定的tab显示</h5><p>示例代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test2, 3 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>显示效果：</p><div class="tabs" id="test2"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#test2-1">test2 1</button></li><li class="tab"><button type="button" data-href="#test2-2">test2 2</button></li><li class="tab active"><button type="button" data-href="#test2-3">test2 3</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="test2-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test2-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="test2-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h5 id="1-5-3-Tabs代码示例三：没有使用预设值指定显示">1.5.3 Tabs代码示例三：没有使用预设值指定显示</h5><p>示例代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test3, -1 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>显示效果：</p><div class="tabs" id="test3"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#test3-1">test3 1</button></li><li class="tab"><button type="button" data-href="#test3-2">test3 2</button></li><li class="tab"><button type="button" data-href="#test3-3">test3 3</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="test3-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test3-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test3-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h5 id="1-5-4-Tabs代码示例四：自定义tab名称、只有icon、icon加tab名">1.5.4 Tabs代码示例四：自定义tab名称、只有icon、icon加tab名</h5><p>示例代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test4 %&#125;</span><br><span class="line">&lt;!-- tab 第一个Tab --&gt;</span><br><span class="line"><span class="strong">**tab名字为第一个Tab**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab @fab fa-apple-pay --&gt;</span><br><span class="line"><span class="strong">**只有图标 没有Tab名字**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab 炸弹@fas fa-bomb --&gt;</span><br><span class="line"><span class="strong">**名字+icon**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>显示效果：</p><div class="tabs" id="test4"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test4-1">第一个Tab</button></li><li class="tab"><button type="button" data-href="#test4-2"><i class="fab fa-apple-pay" style="text-align: center;"></i></button></li><li class="tab"><button type="button" data-href="#test4-3"><i class="fas fa-bomb"></i>炸弹</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test4-1"><p><strong>tab名字为第一个Tab</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-2"><p><strong>只有图标 没有Tab名字</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-3"><p><strong>名字+icon</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="1-6-按钮（Button）">1.6 按钮（Button）</h4><p>在markdown文档里面使用使用下面的语法即可：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btn [url],[text],[icon],[color] [style] [layout] [position] [size] %&#125;</span><br></pre></td></tr></table></figure><ul><li><code>[url]</code>：url链接，按键点下去就会前往url。</li><li><code>[text]</code>：按键显示的文字。</li><li><code>[icon]</code>：可选。按键图标。</li><li><code>[color]</code>：可选。按键背景颜色（默认style时）按钮字体和边框颜色（outline时）。可以为 default / blue / pink / red / purple / orange / green 。</li><li><code>[style]</code>：可选。按钮样式。默认为实心。可以选择不填写内容或者填写outline。</li><li><code>[layout]</code>：可选。按钮布局。默认为line，即内联。可以选择不填写内容或者填写block，block则为块状，非内联。</li><li><code>[postion]</code>：可选。按钮位置。前提是设置了layout为block。默认为左边，可以不填写内容或者填写center或者right。</li><li><code>[size]</code>：可选。按钮大小。可以不填写内容或者填写large。</li></ul><p>示例代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">This is my github, button show in default&#123;% btn &#x27;https://github.com/momingxiaoyang/&#x27;,github %&#125;</span><br><span class="line"></span><br><span class="line">This is my github, button show with icon in default&#123;% btn &#x27;https://github.com/momingxiaoyang/&#x27;,github, fa-brands fa-github %&#125;</span><br><span class="line"></span><br><span class="line">This is my github, button show in outline&#123;% btn &#x27;https://github.com/momingxiaoyang/&#x27;,github,,outline %&#125;</span><br><span class="line"></span><br><span class="line">This is my github, button show with icon in outline&#123;% btn &#x27;https://github.com/momingxiaoyang/&#x27;,github, fa-brands fa-github,outline %&#125;</span><br><span class="line"></span><br><span class="line">This is my github, button show with icon more larger&#123;% btn &#x27;https://github.com/momingxiaoyang/&#x27;,github, fa-brands fa-github,larger %&#125;</span><br><span class="line"></span><br><span class="line">This is my github, button show with icon in outline more larger&#123;% btn &#x27;https://github.com/momingxiaoyang/&#x27;,github, fa-brands fa-github,outline larger %&#125;</span><br><span class="line"></span><br><span class="line">This is my github, button show with icon by block in center outline more larger&#123;% btn &#x27;https://github.com/momingxiaoyang/&#x27;,github, fa-brands fa-github,block center outline larger %&#125;</span><br><span class="line"></span><br><span class="line">This is my github, button show with icon by in blue more larger&#123;% btn &#x27;https://github.com/momingxiaoyang/&#x27;,github, fa-brands fa-github,blue larger %&#125;</span><br><span class="line"></span><br><span class="line">This is my github, button show with icon by in outline pink more larger&#123;% btn &#x27;https://github.com/momingxiaoyang/&#x27;,github, fa-brands fa-github,outline pink larger %&#125;</span><br></pre></td></tr></table></figure><p>显示效果：<br>This is my github, button show in default<a class="btn-beautify " href="https://github.com/momingxiaoyang/"   title="github"><span>github</span></a></p><p>This is my github, button show with icon in default<a class="btn-beautify " href="https://github.com/momingxiaoyang/"   title="github"><i class="fa-brands fa-github"></i><span>github</span></a></p><p>This is my github, button show in outline<a class="btn-beautify outline" href="https://github.com/momingxiaoyang/"   title="github"><span>github</span></a></p><p>This is my github, button show with icon in outline<a class="btn-beautify outline" href="https://github.com/momingxiaoyang/"   title="github"><i class="fa-brands fa-github"></i><span>github</span></a></p><p>This is my github, button show with icon more larger<a class="btn-beautify larger" href="https://github.com/momingxiaoyang/"   title="github"><i class="fa-brands fa-github"></i><span>github</span></a></p><p>This is my github, button show with icon in outline more larger<a class="btn-beautify outline larger" href="https://github.com/momingxiaoyang/"   title="github"><i class="fa-brands fa-github"></i><span>github</span></a></p><p>This is my github, button show with icon by block in center outline more larger<a class="btn-beautify block center outline larger" href="https://github.com/momingxiaoyang/"   title="github"><i class="fa-brands fa-github"></i><span>github</span></a></p><p>This is my github, button show with icon by in blue more larger<a class="btn-beautify blue larger" href="https://github.com/momingxiaoyang/"   title="github"><i class="fa-brands fa-github"></i><span>github</span></a></p><p>This is my github, button show with icon by in outline pink more larger<a class="btn-beautify outline pink larger" href="https://github.com/momingxiaoyang/"   title="github"><i class="fa-brands fa-github"></i><span>github</span></a></p><h4 id="1-7-内联使用图片（inlineImg）">1.7 内联使用图片（inlineImg）</h4><p>在markdown文档里面使用使用下面的语法即可：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% inlineImg [src] [height] %&#125;</span><br></pre></td></tr></table></figure><ul><li><code>[src]</code>：图片的链接地址。</li><li><code>[height]</code>：可选。图片高度限制。</li></ul><p>示例代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">我的头像：</span><br><span class="line">![<span class="string">normal_head_sculpture_show</span>](<span class="link">../img/head_sculpture.jpg</span>)</span><br><span class="line">我的小头像 &#123;% inlineImg /img/head<span class="emphasis">_sculpture.jpg 150px %&#125;</span></span><br></pre></td></tr></table></figure><p>显示效果：<br>我的头像：<br><img src="/img/head_sculpture.jpg" alt="normal_head_sculpture_show"><br>我的小头像 <img class="inline-img" src="/../img/head_sculpture.jpg" style="height:150px"/></p><h4 id="1-8-标签（lable）">1.8 标签（lable）</h4><p>在markdown文档里面使用使用下面的语法即可：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% label text color %&#125;</span><br></pre></td></tr></table></figure><ul><li><code>text</code>：标签文字内容。</li><li><code>color</code>：可选。标签的背景颜色，默认为default。可选的值有 default / blue / pink / red / purple / orange / green 。</li></ul><p>示例代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">臣亮言：&#123;% label 先帝 %&#125;创业未半，而&#123;% label 中道崩殂 blue %&#125;。今天下三分，&#123;% label 益州疲敝 pink %&#125;，此诚&#123;% label 危急存亡之秋 red %&#125;也！然侍衞之臣，不懈于内；&#123;% label 忠志之士 purple %&#125;，忘身于外者，盖追先帝之殊遇，欲报之于陛下也。诚宜开张圣听，以光先帝遗德，恢弘志士之气；不宜妄自菲薄，引喻失义，以塞忠谏之路也。</span><br><span class="line">宫中、府中，俱为一体；陟罚臧否，不宜异同。若有&#123;% label 作奸 orange %&#125;、&#123;% label 犯科 green %&#125;，及为忠善者，宜付有司，论其刑赏，以昭陛下平明之治；不宜偏私，使内外异法也。</span><br></pre></td></tr></table></figure><p>显示效果：<br>臣亮言：<mark class="hl-label default">先帝</mark> 创业未半，而<mark class="hl-label blue">中道崩殂</mark> 。今天下三分，<mark class="hl-label pink">益州疲敝</mark> ，此诚<mark class="hl-label red">危急存亡之秋</mark> 也！然侍衞之臣，不懈于内；<mark class="hl-label purple">忠志之士</mark> ，忘身于外者，盖追先帝之殊遇，欲报之于陛下也。诚宜开张圣听，以光先帝遗德，恢弘志士之气；不宜妄自菲薄，引喻失义，以塞忠谏之路也。<br>宫中、府中，俱为一体；陟罚臧否，不宜异同。若有<mark class="hl-label orange">作奸</mark> 、<mark class="hl-label green">犯科</mark> ，及为忠善者，宜付有司，论其刑赏，以昭陛下平明之治；不宜偏私，使内外异法也。</p><h4 id="1-9-时间线（timeline）">1.9 时间线（timeline）</h4><p>在markdown文档里面使用使用下面的语法即可：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;% timeline title,color %&#125;</span><br><span class="line">&lt;!-- timeline title --&gt;</span><br><span class="line">xxxxx</span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line">&lt;!-- timeline title --&gt;</span><br><span class="line">xxxxx</span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line">&#123;% endtimeline %&#125;</span><br></pre></td></tr></table></figure><ul><li><code>title</code>：标题/时间线。</li><li><code>color</code>：时间线的颜色。默认为default，可选的值有 default / blue / pink / red / purple / orange / green 。</li></ul><p>示例代码</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;% timeline 2023,blue %&#125;</span><br><span class="line">&lt;!-- timeline 01-02 --&gt;</span><br><span class="line">blue show</span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line">&#123;% endtimeline %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% timeline 2022 %&#125;</span><br><span class="line">&lt;!-- timeline 01-02 --&gt;</span><br><span class="line">default color</span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line">&#123;% endtimeline %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% timeline 2021年哈,pink %&#125;</span><br><span class="line">&lt;!-- timeline 01-02 --&gt;</span><br><span class="line">pink show</span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line">&#123;% endtimeline %&#125;</span><br></pre></td></tr></table></figure><p>显示效果：</p><div class="timeline blue"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-02</p></div></div><div class='timeline-item-content'><p>blue show</p></div></div></div><div class="timeline undefined"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2022</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-02</p></div></div><div class='timeline-item-content'><p>default color</p></div></div></div><div class="timeline pink"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2021年哈</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-02</p></div></div><div class='timeline-item-content'><p>pink show</p></div></div></div><h4 id="1-10-友情链接设定-flink">1.10 友情链接设定(flink)</h4><p>在markdown文档里面使用使用下面的语法即可：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% flink %&#125;</span><br><span class="line">xxxxxx</span><br><span class="line">&#123;% endflink %&#125;</span><br></pre></td></tr></table></figure><p>示例代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&#123;% flink %&#125;</span><br><span class="line"><span class="bullet">-</span> class<span class="emphasis">_name: 个人作品</span></span><br><span class="line"><span class="emphasis">  class_</span>desc: 有点捞的</span><br><span class="line">  link<span class="emphasis">_list:</span></span><br><span class="line"><span class="emphasis">    - name: 莫名小痒的博客</span></span><br><span class="line"><span class="emphasis">      link: https://momingxiaoyang.github.io</span></span><br><span class="line"><span class="emphasis">      avatar: https://s2.loli.net/2023/07/14/DwPaOBch6G8Ij1W.jpg</span></span><br><span class="line"><span class="emphasis">      descr: 就只是一个博客，别看啦</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">- class_</span>name: 关于我现在使用的博客</span><br><span class="line">  class<span class="emphasis">_desc: 使用hexo的原因是我没有能力自己写博客</span></span><br><span class="line"><span class="emphasis">  link_</span>list:</span><br><span class="line"><span class="bullet">    -</span> name: Hexo</span><br><span class="line"><span class="code">      link: https://hexo.io/zh-tw/</span></span><br><span class="line"><span class="code">      avatar: https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg</span></span><br><span class="line"><span class="code">      descr: 快速、简单且强大的框架</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="bullet">-</span> class<span class="emphasis">_name: 网站</span></span><br><span class="line"><span class="emphasis">  class_</span>desc: 值得推荐的网站</span><br><span class="line">  link<span class="emphasis">_list:</span></span><br><span class="line"><span class="emphasis">    - name: Youtube</span></span><br><span class="line"><span class="emphasis">      link: https://www.youtube.com/</span></span><br><span class="line"><span class="emphasis">      avatar: https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png</span></span><br><span class="line"><span class="emphasis">      descr: 全球规模最大的视频网站</span></span><br><span class="line"><span class="emphasis">    - name: Twitter</span></span><br><span class="line"><span class="emphasis">      link: https://twitter.com/</span></span><br><span class="line"><span class="emphasis">      avatar: https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png</span></span><br><span class="line"><span class="emphasis">      descr: 全球性的社交分享平台</span></span><br><span class="line"><span class="emphasis">    - name: 抖音</span></span><br><span class="line"><span class="emphasis">      link: https://www.douyin.com/</span></span><br><span class="line"><span class="emphasis">      avatar: https://s2.loli.net/2023/07/14/7ma4zfUIREVBwng.jpg</span></span><br><span class="line"><span class="emphasis">      descr: 中国短视频平台</span></span><br><span class="line"><span class="emphasis">    - name: bilibili</span></span><br><span class="line"><span class="emphasis">      link: https://www.bilibili.com/</span></span><br><span class="line"><span class="emphasis">      avatar: https://s2.loli.net/2023/07/14/qsAbU2oHLFhRG6j.jpg</span></span><br><span class="line"><span class="emphasis">      descr: 中国小黑子的发源地</span></span><br><span class="line"><span class="emphasis">&#123;% endflink %&#125;</span></span><br></pre></td></tr></table></figure><p>显示效果：</p><div class="flink"><div class="flink-name">个人作品</div><div class="flink-desc">有点捞的</div> <div class="flink-list">          <div class="flink-list-item">            <a href="https://momingxiaoyang.github.io" title="莫名小痒的博客" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src="https://s2.loli.net/2023/07/14/DwPaOBch6G8Ij1W.jpg" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="莫名小痒的博客" />              </div>              <div class="flink-item-name">莫名小痒的博客</div>               <div class="flink-item-desc" title="就只是一个博客，别看啦">就只是一个博客，别看啦</div>            </a>          </div></div><div class="flink-name">关于我现在使用的博客</div><div class="flink-desc">使用hexo的原因是我没有能力自己写博客</div> <div class="flink-list">          <div class="flink-list-item">            <a href="https://hexo.io/zh-tw/" title="Hexo" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src="https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="Hexo" />              </div>              <div class="flink-item-name">Hexo</div>               <div class="flink-item-desc" title="快速、简单且强大的框架">快速、简单且强大的框架</div>            </a>          </div></div><div class="flink-name">网站</div><div class="flink-desc">值得推荐的网站</div> <div class="flink-list">          <div class="flink-list-item">            <a href="https://www.youtube.com/" title="Youtube" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src="https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="Youtube" />              </div>              <div class="flink-item-name">Youtube</div>               <div class="flink-item-desc" title="全球规模最大的视频网站">全球规模最大的视频网站</div>            </a>          </div>          <div class="flink-list-item">            <a href="https://twitter.com/" title="Twitter" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src="https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="Twitter" />              </div>              <div class="flink-item-name">Twitter</div>               <div class="flink-item-desc" title="全球性的社交分享平台">全球性的社交分享平台</div>            </a>          </div>          <div class="flink-list-item">            <a href="https://www.douyin.com/" title="抖音" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src="https://s2.loli.net/2023/07/14/7ma4zfUIREVBwng.jpg" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="抖音" />              </div>              <div class="flink-item-name">抖音</div>               <div class="flink-item-desc" title="中国短视频平台">中国短视频平台</div>            </a>          </div>          <div class="flink-list-item">            <a href="https://www.bilibili.com/" title="bilibili" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src="https://s2.loli.net/2023/07/14/qsAbU2oHLFhRG6j.jpg" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="bilibili" />              </div>              <div class="flink-item-name">bilibili</div>               <div class="flink-item-desc" title="中国小黑子的发源地">中国小黑子的发源地</div>            </a>          </div></div></div><h3 id="2、Math-数学公式的设置">2、Math 数学公式的设置</h3><h4 id="2-1-MathJax插件">2.1 MathJax插件</h4><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># MathJax</span></span><br><span class="line"><span class="attr">mathjax:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><ul><li><code>enable</code>：是否使用MathJax插件进行渲染。</li><li><code>per_page</code>：如果设置为<code>true</code>，则每一页都会加载MathJax服务；如果设为<code>false</code>。则需要在文章<code>Front-matter</code>添加<code>mathjax: true</code>，对应的文章才会加载Mathjax服务。</li></ul><p>具体配置需要进行下面的步骤：</p><ul><li>卸载以前的渲染插件</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo-renderer-marked --save</span><br></pre></td></tr></table></figure><ul><li>安装新的插件</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-renderer-kramed --save</span><br></pre></td></tr></table></figure><ul><li>配置hexo根目录的配置文件<code>_config.yml</code>，在文件后面添加这部分代码</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">kramed:</span></span><br><span class="line">  <span class="attr">gfm:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">pedantic:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">sanitize:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">tables:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">breaks:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">smartLists:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">smartypants:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h5 id="2-2-KaTex插件">2.2 KaTex插件</h5><p>在文件<code>_config.butterfly.yml</code>找到下面的代码串：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">katex:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># true 表示每一页都加载katex.js</span></span><br><span class="line">  <span class="comment"># false 需要时加载，须在使用的Markdown Front-matter 加上 katex: true</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">hide_scrollbar:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><ul><li><code>enable</code>：是否使用KaTex插件进行渲染。</li><li><code>per_page</code>：如果设置为<code>true</code>，则每一页都会加载KaTex服务；如果设为<code>false</code>。则需要在文章<code>Front-matter</code>添加<code>katex: true</code>，对应的文章才会加载KaTex服务。</li><li><code>hide_scrollbar</code>：是否隐藏滚动条。</li></ul><p>具体配置需要进行下面步骤：</p><ul><li>如果安装了<code>hexo-renderer-marked</code>，则需要进行这一步</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm un hexo-renderer-marked --save</span><br></pre></td></tr></table></figure><ul><li>如果安装了<code>hexo-renderer-karmed</code>，则需要进行这一步</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm un hexo-renderer-kramed --save</span><br></pre></td></tr></table></figure><ul><li>安装渲染插件<code>hexo-renderer-markdown-it</code></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-renderer-markdown-it --save</span><br></pre></td></tr></table></figure><ul><li>安装Katex插件</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install katex @renbaoshuo/markdown-it-katex</span><br></pre></td></tr></table></figure><h4 id="2-3-渲染插件使用注意事项">2.3 渲染插件使用注意事项</h4><ul><li>不要在标题里面使用mathjax、KaTex语法，toc目录不一定能正确显示。</li><li>由于使用上面两款插件会删除掉原先使用的渲染插件<code>hexo-renderer-marked</code>，所以可能会发生未知错误，所以请谨慎使用。</li></ul><h3 id="3、搜索">3、搜索</h3><h4 id="3-1-Algolia">3.1 Algolia</h4><p>注意：如果使用<code>hexo-algoliasearch</code>，请记得配置fields参数的<code>title</code>，<code>permalink</code>和<code>content</code>。使用前记得运行<code>hexo clean</code>。此处没有演示本方法，建议去看[本地搜索](####3.2 本地搜索)的方法。</p><ul><li>安装<code>hexo-algolia</code>或<code>hexo-algoliasearch</code>，根据它们的说明文档去做相应的配置。</li><li>修改主题配置文件。在文件<code>_config.butterfly.yml</code>找到下面的代码串，将<code>false</code>修改成<code>true</code>：</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Algolia search</span></span><br><span class="line"><span class="attr">algolia_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">hits:</span></span><br><span class="line">    <span class="attr">per_page:</span> <span class="number">6</span></span><br></pre></td></tr></table></figure><h4 id="3-2-本地搜索">3.2 本地搜索</h4><ul><li>需要安装<code>hexo-generator-searchdb</code>或<code>hexo-generator-search</code>，根据它们的说明文档去做相应的配置。</li><li>修改主题配置文件。在文件<code>_config.butterfly.yml</code>找到下面的代码串，将<code>false</code>修改成<code>true</code>：</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Local search</span></span><br><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Preload the search data when the page loads.</span></span><br><span class="line">  <span class="attr">preload:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Show top n results per article, show all results by setting to -1</span></span><br><span class="line">  <span class="attr">top_n_per_article:</span> <span class="number">1</span></span><br><span class="line">  <span class="comment"># Unescape html strings to the readable one.</span></span><br><span class="line">  <span class="attr">unescape:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">CDN:</span></span><br></pre></td></tr></table></figure><ul><li><code>enable</code>：是否开启本地搜索。</li><li><code>preload</code>：预加载，开启后，进入网页后会自动加载搜索文件。关闭时，只有点击搜索按钮后，才会加载搜索文件。</li><li><code>top_n_per_article</code>：匹配文章结果，默认显示最开始的一段结果。</li><li><code>unescape</code>：将html字符串解码为可读字符串。</li><li><code>CDN</code>：搜索文件的CDN地址（默认使用的本地连接）</li></ul><p>下面即是使用本地搜索的操作步骤：</p><ol><li>在根目录下面下载插件，复制下面代码并在根目录下面运行：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure><ol start="2"><li>在文件<code>_config.yml</code>中添加下面内容，注意格式（<code>limit</code>代表着一次搜索文档的上限）：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post</span><br><span class="line">  format: html</span><br><span class="line">  <span class="built_in">limit</span>: 10000</span><br></pre></td></tr></table></figure><ol start="3"><li>重新运行，即可成功。</li></ol><h3 id="4、主页美化与特效">4、主页美化与特效</h3><h4 id="4-1-自定义主题颜色">4.1 自定义主题颜色</h4><p>可以通过修改主题配置文件<code>_config.butterfly.yml</code>里面的内容，从而实现大部分UI颜色的修改。（颜色值必须被双引号包裹，例如<code>&quot;#000&quot;</code>而不是<code>#000</code>，否则将会在构建的时候报错）</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">theme_color:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">main:</span> <span class="string">&quot;#49B1F5&quot;</span></span><br><span class="line">  <span class="attr">paginator:</span> <span class="string">&quot;#00c4b6&quot;</span></span><br><span class="line">  <span class="attr">button_hover:</span> <span class="string">&quot;#FF7242&quot;</span></span><br><span class="line">  <span class="attr">text_selection:</span> <span class="string">&quot;#00c4b6&quot;</span></span><br><span class="line">  <span class="attr">link_color:</span> <span class="string">&quot;#99a9bf&quot;</span></span><br><span class="line">  <span class="attr">meta_color:</span> <span class="string">&quot;#858585&quot;</span></span><br><span class="line">  <span class="attr">hr_color:</span> <span class="string">&quot;#A4D8FA&quot;</span></span><br><span class="line">  <span class="attr">code_foreground:</span> <span class="string">&quot;#F47466&quot;</span></span><br><span class="line">  <span class="attr">code_background:</span> <span class="string">&quot;rgba(27, 31, 35, .05)&quot;</span></span><br><span class="line">  <span class="attr">toc_color:</span> <span class="string">&quot;#00c4b6&quot;</span></span><br><span class="line">  <span class="attr">blockquote_padding_color:</span> <span class="string">&quot;#49b1f5&quot;</span></span><br><span class="line">  <span class="attr">blockquote_background_color:</span> <span class="string">&quot;#49b1f5&quot;</span></span><br><span class="line">  <span class="attr">scrollbar_color:</span> <span class="string">&quot;#49b1f5&quot;</span></span><br><span class="line">  <span class="attr">meta_theme_color_light:</span> <span class="string">&quot;ffffff&quot;</span></span><br><span class="line">  <span class="attr">meta_theme_color_dark:</span> <span class="string">&quot;#0d0d0d&quot;</span></span><br></pre></td></tr></table></figure><p>具体元素分析：</p><ul><li><code>main</code>：主体部分。主要是体现在侧边栏中作者卡片处的按钮颜色以及右下角按钮颜色。</li><li><code>paginator</code>：页面数部分。代表了页脚部分的颜色。</li><li><code>button_hover</code>：按钮鼠标滞留部分。鼠标停留在交互按钮上时，就会展示所设置的颜色。</li><li><code>text_selection</code>：</li><li><code>link_color</code>：</li><li><code>meta_color</code>：</li><li><code>hr_color</code>：</li><li><code>code_foreground</code>：</li><li><code>code_background</code>：</li><li><code>toc_color</code>：文章标题部分。当阅读文章时，右边侧边栏会显示并高亮当前阅读部分所在的标题，高亮的颜色即定义的颜色。</li><li><code>blockquote_padding_color</code>：</li><li><code>blockquote_background_color</code>：</li><li><code>scrollbar_color</code>：</li><li><code>meta_theme_color_light</code>：</li><li><code>mata_theme_color_dark</code>：</li></ul><h4 id="4-2-自定义top-img显示大小">4.2 自定义top_img显示大小</h4><p>在主题配置文件<code>_config.butterfly.yml</code>里面找到下面内容并加以自定义修改：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># The top_img settings of home page</span></span><br><span class="line"><span class="comment"># default: top img - full screen, site info - middle (默認top_img全屏，site_info在中間)</span></span><br><span class="line"><span class="comment"># The position of site info, eg: 300px/300em/300rem/10% (主頁標題距離頂部距離)</span></span><br><span class="line"><span class="attr">index_site_info_top:</span></span><br><span class="line"><span class="comment"># The height of top_img, eg: 300px/300em/300rem (主頁top_img高度)</span></span><br><span class="line"><span class="attr">index_top_img_height:</span></span><br></pre></td></tr></table></figure><ul><li><code>index_site_info_top</code>：主页标题距离顶部距离，例如 300px/300em/300rem/10%。建议为40%～60%。</li><li><code>index_top_img_height</code>：主页top_img高度，例如300px/300em/300rem，注意，不能在此处填写百分比数值。建议为800px~1000px。</li><li>当两个都不填写参数时，将会使用默认值。</li></ul><h4 id="4-3-网站背景">4.3 网站背景</h4><p>在主题配置文件<code>_config.butterfly.yml</code>里面找到下面内容并加以自定义修改：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Website Background (設置網站背景)</span></span><br><span class="line"><span class="comment"># can set it to color or image (可設置圖片 或者 顔色)</span></span><br><span class="line"><span class="comment"># The formal of image: url(http://xxxxxx.com/xxx.jpg)</span></span><br><span class="line"><span class="attr">background:</span> <span class="string">&quot;#888&quot;</span></span><br></pre></td></tr></table></figure><ul><li>默认会显示白色，可设置图片或者颜色。</li><li>可以通过填写rgb或者url来修改网站背景。</li><li>如果需要填写rgb，则以<code>&quot;#888&quot;</code>为示例格式来写。</li><li>如果要填写网页url，则需要以<code>url(http://xxxxxx.com/xxx.jpg)</code>为示例格式来写。</li><li>如果要填写本地url，假如本地的source文件下面有一个文件夹img，img文件夹里面放的是本地图片，那么需要以<code>url(/img/xxx.jpg)</code>为示例格式来写。</li></ul><h4 id="4-4-footer背景">4.4 footer背景</h4><p>在主题配置文件<code>_config.butterfly.yml</code>里面找到下面内容并加以自定义修改：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Footer Background</span></span><br><span class="line"><span class="attr">footer_bg:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><ul><li>如果填写false或者留空，会显示默认的颜色。</li><li>如果img的url链接，会显示所配置的图片。</li><li>如果填写rgb的值，将会显示对应的rgb。</li><li>如果填写true，将会显示top_img下面未显示的部分。</li></ul><h4 id="4-5-打字效果">4.5 打字效果</h4><p>在主题配置文件<code>_config.butterfly.yml</code>里面找到下面内容并加以自定义修改：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Typewriter Effect (打字效果)</span></span><br><span class="line"><span class="comment"># https://github.com/disjukr/activate-power-mode</span></span><br><span class="line"><span class="attr">activate_power_mode:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">colorful:</span> <span class="literal">true</span> <span class="comment"># open particle animation (冒光特效)</span></span><br><span class="line">  <span class="attr">shake:</span> <span class="literal">true</span> <span class="comment">#  open shake (抖動特效)</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><ul><li><code>enable</code>：是否启用打字效果，如果值为true，则为启用打字效果。</li><li><code>colorful</code>：是否启用冒光特效。</li><li><code>shake</code>：是否启用抖动特效。</li><li><code>mobile</code>：是否在移动端（手机、ipad等）启用该效果。</li></ul><h4 id="4-6-背景特效">4.6 背景特效</h4><h5 id="4-6-1-静止彩带">4.6.1 静止彩带</h5><p>在主题配置文件<code>_config.butterfly.yml</code>里面找到下面内容并加以自定义修改：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># canvas_ribbon (靜止彩帶背景)</span></span><br><span class="line"><span class="comment"># See: https://github.com/hustcc/ribbon.js</span></span><br><span class="line"><span class="attr">canvas_ribbon:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">size:</span> <span class="number">150</span></span><br><span class="line">  <span class="attr">alpha:</span> <span class="number">0.6</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">-1</span></span><br><span class="line">  <span class="attr">click_to_change:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><ul><li><code>click_to_change</code>：是否每次点击都更换彩带。</li><li><code>moblie</code>：移动端是否显示该效果。</li></ul><h5 id="4-6-2-动态彩带">4.6.2 动态彩带</h5><p>在主题配置文件<code>_config.butterfly.yml</code>里面找到下面内容并加以自定义修改：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Fluttering Ribbon (動態彩帶)</span></span><br><span class="line"><span class="attr">canvas_fluttering_ribbon:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><ul><li><code>moblie</code>：移动端是否显示该效果。</li></ul><h5 id="4-6-3-动态聚集彩带">4.6.3 动态聚集彩带</h5><p>这种彩带会动态显示，当鼠标停留在背景时，彩带会像蚂蚁回巢一样聚集在鼠标中间。</p><p>在主题配置文件<code>_config.butterfly.yml</code>里面找到下面内容并加以自定义修改：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># canvas_nest</span></span><br><span class="line"><span class="comment"># https://github.com/hustcc/canvas-nest.js</span></span><br><span class="line"><span class="attr">canvas_nest:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">&#x27;0,0,255&#x27;</span> <span class="comment">#color of lines, default: &#x27;0,0,0&#x27;; RGB values: (R,G,B).(<span class="doctag">note:</span> use &#x27;,&#x27; to separate.)</span></span><br><span class="line">  <span class="attr">opacity:</span> <span class="number">0.7</span> <span class="comment"># the opacity of line (0~1), default: 0.5.</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">-1</span> <span class="comment"># z-index property of the background, default: -1.</span></span><br><span class="line">  <span class="attr">count:</span> <span class="number">99</span> <span class="comment"># the number of lines, default: 99.</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><ul><li><code>color</code>：彩带的颜色。</li><li><code>opacity</code>：彩带线的不透明度。</li><li><code>zIndex</code>：背景的z-index属性，即彩带显示效果的视角距离，越小彩带显示在越底部。</li><li><code>count</code>：彩带线的数量。</li><li><code>moblie</code>：移动端是否显示该效果。</li></ul><h4 id="4-7-鼠标点击效果">4.7 鼠标点击效果</h4><h5 id="4-7-1-烟花特效">4.7.1 烟花特效</h5><p>在主题配置文件<code>_config.butterfly.yml</code>里面找到下面内容并加以自定义修改：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Mouse click effects: fireworks (鼠標點擊效果: 煙火特效)</span></span><br><span class="line"><span class="attr">fireworks:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">9999</span> <span class="comment"># -1 or 9999</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><ul><li><code>enable</code>：是否启用该特效。</li><li><code>zIndex</code>：烟火特效的视觉前后效果的设定。建议只在<code>-1</code>和<code>9999</code>上选，<code>-1</code>代表烟火效果在底部，<code>9999</code>代表烟火效果在前面。</li><li><code>moblie</code>：移动端是否显示该效果。</li></ul><h5 id="4-7-2-爱心特效">4.7.2 爱心特效</h5><p>在主题配置文件<code>_config.butterfly.yml</code>里面找到下面内容并加以自定义修改：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Mouse click effects: Heart symbol (鼠標點擊效果: 愛心)</span></span><br><span class="line"><span class="attr">click_heart:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><ul><li><code>enable</code>：是否启用该特效。</li><li><code>moblie</code>：移动端是否显示该效果。</li></ul><h5 id="4-7-3-文字特效">4.7.3 文字特效</h5><p>在主题配置文件<code>_config.butterfly.yml</code>里面找到下面内容并加以自定义修改：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Mouse click effects: words (鼠標點擊效果: 文字)</span></span><br><span class="line"><span class="attr">ClickShowText:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">text:</span></span><br><span class="line">  <span class="comment"># - I</span></span><br><span class="line">  <span class="comment"># - LOVE</span></span><br><span class="line">  <span class="comment"># - YOU</span></span><br><span class="line">  <span class="attr">fontSize:</span> <span class="string">15px</span></span><br><span class="line">  <span class="attr">random:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><ul><li><code>enable</code>：是否启用该特效。</li><li><code>text</code>：文字特效需要显示的文字。</li><li><code>fontSize</code>：字体特效显示的大小。</li><li><code>random</code>：是否启动随机显示所设置的文字。</li><li><code>moblie</code>：移动端是否显示该效果。</li></ul><h4 id="4-8-页面美化">4.8 页面美化</h4><p>在主题配置文件<code>_config.butterfly.yml</code>里面找到下面内容并加以自定义修改：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Beautify (美化頁面顯示)</span></span><br><span class="line"><span class="attr">beautify:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span> <span class="comment"># site/post</span></span><br><span class="line">  <span class="attr">title-prefix-icon:</span> <span class="comment"># &#x27;\f0c1&#x27;</span></span><br><span class="line">  <span class="attr">title-prefix-icon-color:</span> <span class="comment"># &#x27;#F47466&#x27;</span></span><br></pre></td></tr></table></figure><ul><li>页面美化会改变ol、ul、h1~h5的样式，使其更加美观。</li><li><code>enable</code>：是否启用该特效。</li><li><code>field</code>：配置生效的区域。如果值为<code>post</code>，则只在文章页生效；如果值为<code>site</code>，则会在全站生效。</li><li><code>title-prefix-icon</code>：fontawesome的icon的Unicode数</li></ul><h4 id="4-9-自定义字体和字体大小">4.9 自定义字体和字体大小</h4><h5 id="4-9-1-全局字体">4.9.1 全局字体</h5><p>在主题配置文件<code>_config.butterfly.yml</code>里面找到下面内容并加以自定义修改：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Global font settings</span></span><br><span class="line"><span class="comment"># Don&#x27;t modify the following settings unless you know how they work (非必要不要修改)</span></span><br><span class="line"><span class="attr">font:</span></span><br><span class="line">  <span class="attr">global-font-size:</span></span><br><span class="line">  <span class="attr">code-font-size:</span></span><br><span class="line">  <span class="attr">font-family:</span></span><br><span class="line">  <span class="attr">code-font-family:</span></span><br></pre></td></tr></table></figure><ul><li>可以自行设置字体的<code>font-family</code>。</li><li>如果不需要配置，可以留空。</li></ul><p>4.9.2 Blog标题字体</p><p>在主题配置文件<code>_config.butterfly.yml</code>里面找到下面内容并加以自定义修改：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Font settings for the site title and site subtitle</span></span><br><span class="line"><span class="comment"># 左上角網站名字 主頁居中網站名字</span></span><br><span class="line"><span class="attr">blog_title_font:</span></span><br><span class="line">  <span class="attr">font_link:</span></span><br><span class="line">  <span class="attr">font-family:</span></span><br></pre></td></tr></table></figure><ul><li>可以自行设置字体的<code>font-family</code>。</li><li>如果不需要配置，可以留空。</li><li>如果不需要使用网络字体，自需要把<code>front_link</code>留空就行。</li></ul><h4 id="4-10-网站副标题">4.10 网站副标题</h4><p>在主题配置文件<code>_config.butterfly.yml</code>里面找到下面内容并加以自定义修改：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># the subtitle on homepage (主頁subtitle)</span></span><br><span class="line"><span class="attr">subtitle:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Typewriter Effect (打字效果)</span></span><br><span class="line">  <span class="attr">effect:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Customize typed.js (配置typed.js)</span></span><br><span class="line">  <span class="comment"># https://github.com/mattboldt/typed.js/#customization</span></span><br><span class="line">  <span class="attr">typed_option:</span></span><br><span class="line">  <span class="comment"># source 調用第三方服務</span></span><br><span class="line">  <span class="comment"># source: false 關閉調用</span></span><br><span class="line">  <span class="comment"># source: 1  調用一言網的一句話（簡體） https://hitokoto.cn/</span></span><br><span class="line">  <span class="comment"># source: 2  調用一句網（簡體） https://yijuzhan.com/</span></span><br><span class="line">  <span class="comment"># source: 3  調用今日詩詞（簡體） https://www.jinrishici.com/</span></span><br><span class="line">  <span class="comment"># subtitle 會先顯示 source , 再顯示 sub 的內容</span></span><br><span class="line">  <span class="attr">source:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># 如果關閉打字效果，subtitle 只會顯示 sub 的第一行文字</span></span><br><span class="line">  <span class="attr">sub:</span></span><br></pre></td></tr></table></figure><ul><li>可以设置主页中显示的网站副标题或者喜欢的座右铭。</li><li>需要将<code>enable</code>与<code>effect</code>的参数都调整为<code>true</code>，如果需要添加其他来源，需要修改<code>source</code>里面对应的参数，如果想要一些自定义的副标题，需要再<code>sub</code>里面填写参数，可以像下面一样：</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">sub:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">若再许我少年时，一两黄金一两风。</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">生如芥子，心藏须弥。</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">巅峰产生虚伪的拥护，黄昏见证虔诚的信徒。</span></span><br></pre></td></tr></table></figure><h5 id="18-11-页面加载动画">18.11 页面加载动画</h5><p>在主题配置文件<code>_config.butterfly.yml</code>里面找到下面内容并加以自定义修改：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Loading Animation (加載動畫)</span></span><br><span class="line"><span class="attr">preloader:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># source</span></span><br><span class="line">  <span class="comment"># 1. fullpage-loading</span></span><br><span class="line">  <span class="comment"># 2. pace (progress bar)</span></span><br><span class="line">  <span class="attr">source:</span> <span class="number">1</span></span><br><span class="line">  <span class="comment"># pace theme (see https://codebyzach.github.io/pace/)</span></span><br><span class="line">  <span class="attr">pace_css_url:</span></span><br></pre></td></tr></table></figure><ul><li>当进入网页时，因为加载速度的问题，可能会导致top_img图片出现断层显示。或者网页加载不全而出现等待时间。开启网页加载动画后，会显示加载动画，等页面加载完，加载动画才会消失。</li><li>支持使用pace.js的加载动画，可以通过在网站<a href="https://codebyzach.github.io/pace/">pace.js</a>里面下载css，放入本地source里面，使用本地的url来启动。</li></ul><h3 id="5、字数统计">5、字数统计</h3><p>在主题配置文件<code>_config.butterfly.yml</code>里面找到下面内容并加以自定义修改：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># wordcount (字數統計)</span></span><br><span class="line"><span class="comment"># see https://butterfly.js.org/posts/ceeb73f/#字數統計</span></span><br><span class="line"><span class="attr">wordcount:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">post_wordcount:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">min2read:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">total_wordcount:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><ul><li>如果需要使用，则将<code>enable</code>的参数设置为<code>true</code>。</li><li>除此之外，还需要在终端里面打开hexo的目录，输入<code>npm install hexo-wordcount --save</code>or<code>yarn add hexo-wordcount</code>。</li></ul><h3 id="6、图片大图查看模式">6、图片大图查看模式</h3><p>在主题配置文件<code>_config.butterfly.yml</code>里面找到下面内容并加以自定义修改：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Lightbox (圖片大圖查看模式)</span></span><br><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"><span class="comment"># You can only choose one, or neither (只能選擇一個 或者 兩個都不選)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># medium-zoom</span></span><br><span class="line"><span class="comment"># https://github.com/francoischalifour/medium-zoom</span></span><br><span class="line"><span class="attr">medium_zoom:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># fancybox</span></span><br><span class="line"><span class="comment"># https://fancyapps.com/fancybox/</span></span><br><span class="line"><span class="attr">fancybox:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><ul><li>两个模式只能开启一个。</li><li>如果你并不想为某张图片添加大图查看模式，你可以使用html格式引用图片，并为图片添加<code>no-lightbox</code>这个class名。</li><li>需要使用哪一个，只需要将其参数改为<code>true</code>就可，记得要将另外一个的参数改为<code>false</code>。</li></ul><h3 id="7、Snackbar弹窗">7、Snackbar弹窗</h3><p>在主题配置文件<code>_config.butterfly.yml</code>里面找到下面内容并加以自定义修改：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Snackbar (Toast Notification 彈窗)</span></span><br><span class="line"><span class="comment"># https://github.com/polonel/SnackBar</span></span><br><span class="line"><span class="comment"># position 彈窗位置</span></span><br><span class="line"><span class="comment"># 可選 top-left / top-center / top-right / bottom-left / bottom-center / bottom-right</span></span><br><span class="line"><span class="attr">snackbar:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">bottom-left</span></span><br><span class="line">  <span class="attr">bg_light:</span> <span class="string">&#x27;#49b1f5&#x27;</span> <span class="comment"># The background color of Toast Notification in light mode</span></span><br><span class="line">  <span class="attr">bg_dark:</span> <span class="string">&#x27;#1f1f1f&#x27;</span> <span class="comment"># The background color of Toast Notification in dark mode</span></span><br></pre></td></tr></table></figure><ul><li>Snackbar弹窗是一种提示性弹窗，当在网页点击某UI进行操作时就会出现弹窗提示。</li><li><code>postion</code>：提示弹窗的位置，可选<code>top-left</code> /<code> top-center</code> / <code>top-right</code> / <code>bottom-left</code> / <code>bottom-center</code> / <code>bottom-right</code>。</li><li><code>bg_light</code>：日间模式的提示背景颜色。</li><li><code>bg_dark</code>：夜间模式的提示背景颜色。</li></ul><h3 id="8、Instantpage网页预加载">8、Instantpage网页预加载</h3><p>在主题配置文件<code>_config.butterfly.yml</code>里面找到下面内容并加以自定义修改：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># https://instant.page/</span></span><br><span class="line"><span class="comment"># prefetch (預加載)</span></span><br><span class="line"><span class="attr">instantpage:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><ul><li>当鼠标悬停到链接上超过65毫秒时，Instantpage会对该链接进行预加载，可以提升访问速度。</li><li>如果需要打开，只需要将<code>instantpage</code>的参数修改为<code>true</code>就可以了。</li></ul><h3 id="9、Pangu自动添加空格">9、Pangu自动添加空格</h3><p>在主题配置文件<code>_config.butterfly.yml</code>里面找到下面内容并加以自定义修改：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># https://github.com/vinta/pangu.js</span></span><br><span class="line"><span class="comment"># Insert a space between Chinese character and English character (中英文之間添加空格)</span></span><br><span class="line"><span class="attr">pangu:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">site</span> <span class="comment"># site/post</span></span><br></pre></td></tr></table></figure><ul><li>本外挂会自动将网页中所有的中文字和英文、数字、符号之间插入空白。</li><li><code>field</code>：只支持两个参数，如果参数为<code>post</code>，则该功能只在发布的文章页生效，如果参数为<code>site</code>，则该功能会在全站生效。</li></ul><h3 id="10、Open-Graph打开网页搜索">10、Open Graph打开网页搜索</h3><p>在主题配置文件<code>_config.butterfly.yml</code>里面找到下面内容并加以自定义修改：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Open graph meta tags</span></span><br><span class="line"><span class="comment"># https://developers.facebook.com/docs/sharing/webmasters/</span></span><br><span class="line"><span class="attr">Open_Graph_meta:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">option:</span></span><br><span class="line">  <span class="comment"># twitter_card:</span></span><br><span class="line">  <span class="comment"># twitter_image:</span></span><br><span class="line">  <span class="comment"># twitter_id:</span></span><br><span class="line">  <span class="comment"># twitter_site:</span></span><br><span class="line">  <span class="comment"># google_plus:</span></span><br><span class="line">  <span class="comment"># fb_admins:</span></span><br><span class="line">  <span class="comment"># fb_app_id:</span></span><br></pre></td></tr></table></figure><ul><li>在<code>head</code>里添加一些meta资料，例如略缩图、标题、时间等。当分享网页到一些平台时，平台会读取Open Graph的内容，展示略缩图、标题等等信息。</li></ul><h3 id="11、CSS前缀">11、CSS前缀</h3><p>在主题配置文件<code>_config.butterfly.yml</code>里面找到下面内容并加以自定义修改：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Add the vendor prefixes to ensure compatibility</span></span><br><span class="line"><span class="attr">css_prefix:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><ul><li>有些CSS并不是所有浏览器都支持，需要增加对应的前缀才会生效。</li><li>开启 <code>css_prefix</code>后，会自动为一些CSS增加前缀。（会增加20%的体积）</li></ul><h3 id="12、Pjax网页加速">12、Pjax网页加速</h3><p>在主题配置文件<code>_config.butterfly.yml</code>里面找到下面内容并加以自定义修改：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Pjax</span></span><br><span class="line"><span class="comment"># It may contain bugs and unstable, give feedback when you find the bugs.</span></span><br><span class="line"><span class="comment"># https://github.com/MoOx/pjax</span></span><br><span class="line"><span class="attr">pjax:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">  <span class="comment"># - xxxx</span></span><br><span class="line">  <span class="comment"># - xxxx</span></span><br></pre></td></tr></table></figure><ul><li>当用户点击链接，通过ajax更新页面需要变化的部分，然后使用HTML5的pushState修改浏览器的URL地址。这样可以不用重复加载相同的资源（css/js），从而提升网页的加载速度。</li><li>对于一些第三方插件，有些并不支持pjax。可以将网页的url放到<code>exclude</code>中，这个网页就会被pjax排除在外，点击该网页会重新加载网站。</li><li>使用pjax后，一些自己DIY的js可能会无效，跳转页面时需要重新使用，可以参考<a href="(https://github.com/MoOx/pjax)">Pjax文档</a>。</li><li>使用pjax后，一些个别页面加载的js/css，将会改为所有页面都加载。</li><li>目前Butterfly的Pjax仍有一些问题。</li></ul><h2 id="十、主题信息的配置四">十、主题信息的配置四</h2>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
          <category> Butterfly </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Github </tag>
            
            <tag> Hexo </tag>
            
            <tag> Blog </tag>
            
            <tag> Butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>markedown在typora上的使用（二）</title>
      <link href="/2023/07/12/markedown%E5%9C%A8typora%E4%B8%8A%E7%9A%84%E4%BD%BF%E7%94%A8%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
      <url>/2023/07/12/markedown%E5%9C%A8typora%E4%B8%8A%E7%9A%84%E4%BD%BF%E7%94%A8%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h1>markedown在typora上的使用（二）</h1><h2 id="十三、数学公式">十三、数学公式</h2><h3 id="1、公式插入">1、公式插入</h3><h4 id="①行中公式">①行中公式</h4><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$1 + 1 = 2$</span><br></pre></td></tr></table></figure><p>显示效果：<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>+</mo><mn>1</mn><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">1 + 1 = 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span></p><h4 id="②独立公式">②独立公式</h4><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">1 + 1 = 2</span><br><span class="line">$$</span><br></pre></td></tr></table></figure><p>显示效果：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mn>1</mn><mo>+</mo><mn>1</mn><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">1 + 1 = 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span></span></p><h3 id="2、上下标">2、上下标</h3><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$x^&#123;y^z&#125;=(1+e^x)^&#123;-2(xy)^2&#125;$</span><br><span class="line">$\sideset&#123;^1<span class="emphasis">_2&#125;&#123;^3_</span>4&#125;&#123;\underset&#123;6&#125;\bigotimes&#125;$</span><br></pre></td></tr></table></figure><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><msup><mi>y</mi><mi>z</mi></msup></msup><mo>=</mo><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><msup><mi>e</mi><mi>x</mi></msup><msup><mo stretchy="false">)</mo><mrow><mo>−</mo><mn>2</mn><mo stretchy="false">(</mo><mi>x</mi><mi>y</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></msup></mrow><annotation encoding="application/x-tex">x^{y^z}=(1+e^x)^{-2(xy)^2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.88em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.88em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7385em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2369em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9869em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">2</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="mclose mtight"><span class="mclose mtight">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p>\sideset{^1_2}{^3_4}{\underset{6}\bigotimes}</p><h3 id="3、括号和分隔符">3、括号和分隔符</h3><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$\langle\quad\rangle\quad\lceil\quad\rceil\quad\lfloor\quad\rfloor\quad\lbrace\quad\rbrace\quad\lVert\quad\rVert$</span><br><span class="line">$f(x,y,z)=3y^2z\left(3+\dfrac&#123;7x^2+5&#125;&#123;1+y^2&#125;\right)$</span><br><span class="line">$\left.\dfrac&#123;\mathrm&#123;d&#125;u&#125;&#123;\mathrm&#123;d&#125;x&#125;\right|<span class="emphasis">_&#123;x=0&#125;$</span></span><br></pre></td></tr></table></figure><p>显示效果：<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">⟨</mo><mspace width="1em"/><mo stretchy="false">⟩</mo><mspace width="1em"/><mo stretchy="false">⌈</mo><mspace width="1em"/><mo stretchy="false">⌉</mo><mspace width="1em"/><mo stretchy="false">⌊</mo><mspace width="1em"/><mo stretchy="false">⌋</mo><mspace width="1em"/><mo stretchy="false">{</mo><mspace width="1em"/><mo stretchy="false">}</mo><mspace width="1em"/><mo stretchy="false">∥</mo><mspace width="1em"/><mo stretchy="false">∥</mo></mrow><annotation encoding="application/x-tex">\langle\quad\rangle\quad\lceil\quad\rceil\quad\lfloor\quad\rfloor\quad\lbrace\quad\rbrace\quad\lVert\quad\rVert</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">⟨</span><span class="mspace" style="margin-right:1em;"></span><span class="mclose">⟩</span><span class="mspace" style="margin-right:1em;"></span><span class="mopen">⌈</span><span class="mspace" style="margin-right:1em;"></span><span class="mclose">⌉</span><span class="mspace" style="margin-right:1em;"></span><span class="mopen">⌊</span><span class="mspace" style="margin-right:1em;"></span><span class="mclose">⌋</span><span class="mspace" style="margin-right:1em;"></span><span class="mopen">{</span><span class="mspace" style="margin-right:1em;"></span><span class="mclose">}</span><span class="mspace" style="margin-right:1em;"></span><span class="mopen">∥</span><span class="mspace" style="margin-right:1em;"></span><span class="mclose">∥</span></span></span></span><br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">)</mo><mo>=</mo><mn>3</mn><msup><mi>y</mi><mn>2</mn></msup><mi>z</mi><mrow><mo fence="true">(</mo><mn>3</mn><mo>+</mo><mstyle displaystyle="true" scriptlevel="0"><mfrac><mrow><mn>7</mn><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><mn>5</mn></mrow><mrow><mn>1</mn><mo>+</mo><msup><mi>y</mi><mn>2</mn></msup></mrow></mfrac></mstyle><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">f(x,y,z)=3y^2z\left(3+\dfrac{7x^2+5}{1+y^2}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4411em;vertical-align:-0.95em;"></span><span class="mord">3</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4911em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span></span></span></span><br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow><mstyle displaystyle="true" scriptlevel="0"><mfrac><mrow><mi mathvariant="normal">d</mi><mi>u</mi></mrow><mrow><mi mathvariant="normal">d</mi><mi>x</mi></mrow></mfrac></mstyle><mo fence="true">∣</mo></mrow><mrow><mi>x</mi><mo>=</mo><mn>0</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\left.\dfrac{\mathrm{d}u}{\mathrm{d}x}\right|_{x=0}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4497em;vertical-align:-0.9997em;"></span><span class="minner"><span class="minner"><span class="mopen nulldelimiter"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">d</span><span class="mord mathnormal">x</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">d</span><span class="mord mathnormal">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.45em;"><span class="pstrut" style="height:4.4em;"></span><span style="width:0.333em;height:2.400em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.333em' height='2.400em' viewBox='0 0 333 2400'><path d='M145 15 v585 v1200 v585 c2.667,10,9.667,15,21,15c10,0,16.667,-5,20,-15 v-585 v-1200 v-585 c-2.667,-10,-9.667,-15,-21,-15c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v1200 v585 h43z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.5486em;"><span style="top:-1.7003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9997em;"><span></span></span></span></span></span></span></span></span></span></p><h3 id="4、分数">4、分数</h3><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$\frac&#123;分子&#125;&#123;分母&#125;$</span><br><span class="line">$\dfrac&#123;分子&#125;&#123;分母&#125;$</span><br><span class="line">$&#123;分子\over 分母&#125;$</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$\frac&#123;a&#125;&#123;b&#125;$</span><br><span class="line">$\dfrac&#123;a&#125;&#123;b&#125;$</span><br><span class="line">$&#123;a\over b&#125;$</span><br></pre></td></tr></table></figure><p>显示效果：<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mi>a</mi><mi>b</mi></mfrac></mrow><annotation encoding="application/x-tex">\frac{a}{b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0404em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6954em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>  <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle displaystyle="true" scriptlevel="0"><mfrac><mi>a</mi><mi>b</mi></mfrac></mstyle></mrow><annotation encoding="application/x-tex">\dfrac{a}{b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.7936em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">b</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>  <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mi>a</mi><mi>b</mi></mfrac></mrow><annotation encoding="application/x-tex">{a\over b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0404em;vertical-align:-0.345em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6954em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><h3 id="5、开方">5、开方</h3><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$\sart[根指数，省略时为2]&#123;被开方数&#125;$</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$\sqrt&#123;2&#125;$</span><br><span class="line">$\sqrt[3]&#123;2&#125;$</span><br></pre></td></tr></table></figure><p>显示效果：<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mn>2</mn></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1328em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9072em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">2</span></span></span><span style="top:-2.8672em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221l0 -0c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47zM834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1328em;"><span></span></span></span></span></span></span></span></span>   <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mroot><mn>2</mn><mn>3</mn></mroot></mrow><annotation encoding="application/x-tex">\sqrt[3]{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.1328em;"></span><span class="mord sqrt"><span class="root"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7869em;"><span style="top:-2.9647em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size6 size1 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9072em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">2</span></span></span><span style="top:-2.8672em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221l0 -0c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47zM834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1328em;"><span></span></span></span></span></span></span></span></span></p><h3 id="6、省略号">6、省略号</h3><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$\cdots$</span><br><span class="line">$\ldots$</span><br><span class="line">$\vdots$</span><br><span class="line">$\ddots$</span><br></pre></td></tr></table></figure><p>显示效果：<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⋯</mo><mspace width="1em"/><mo>…</mo><mspace width="1em"/><mi><mi mathvariant="normal">⋮</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"></mspace></mpadded></mi><mspace width="1em"/><mo>⋱</mo></mrow><annotation encoding="application/x-tex">\cdots\quad\ldots\quad\vdots\quad\ddots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.03em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord">⋮</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">⋱</span></span></span></span></p><h3 id="7、矢量和均值">7、矢量和均值</h3><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$\vec&#123;矢量箭头下的内容&#125;$</span><br><span class="line">$\overline&#123;均值横线下的内容&#125;$</span><br><span class="line">$\underline&#123;均值横线上的内容&#125;$</span><br><span class="line">$\overrightarrow&#123;右箭头下的内容&#125;$</span><br><span class="line">$\overleftarrow&#123;左箭头下的内容&#125;$</span><br><span class="line">$\overleftrightarrow&#123;左右箭头下的内容&#125;$</span><br><span class="line">$\underrightarrow&#123;右箭头上的内容&#125;$</span><br><span class="line">$\underleftarrow&#123;左箭头上的内容&#125;$</span><br><span class="line">$\underleftrightarrow&#123;左右箭头上的内容&#125;$</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$\overrightarrow&#123;E(\vec&#123;r&#125;)&#125;\quad\overleftarrow&#123;E(\vec&#123;r&#125;)&#125;\quad\overleftrightarrow&#123;E(\vec&#123;r&#125;)&#125;\quad\underrightarrow&#123;E(\vec&#123;r&#125;)&#125;\quad\underleftarrow&#123;E(\vec&#123;r&#125;)&#125;\quad\underleftrightarrow&#123;E(\vec&#123;r&#125;)&#125;\quad\overline&#123;v&#125;=\bar&#123;v&#125;\quad\underline&#123;v&#125;$</span><br></pre></td></tr></table></figure><p>显示效果：<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi>E</mi><mo stretchy="false">(</mo><mover accent="true"><mi>r</mi><mo>⃗</mo></mover><mo stretchy="false">)</mo></mrow><mo stretchy="true">→</mo></mover><mspace width="1em"/><mover accent="true"><mrow><mi>E</mi><mo stretchy="false">(</mo><mover accent="true"><mi>r</mi><mo>⃗</mo></mover><mo stretchy="false">)</mo></mrow><mo stretchy="true">←</mo></mover><mspace width="1em"/><mover accent="true"><mrow><mi>E</mi><mo stretchy="false">(</mo><mover accent="true"><mi>r</mi><mo>⃗</mo></mover><mo stretchy="false">)</mo></mrow><mo stretchy="true">↔</mo></mover><mspace width="1em"/><munder accentunder="true"><mrow><mi>E</mi><mo stretchy="false">(</mo><mover accent="true"><mi>r</mi><mo>⃗</mo></mover><mo stretchy="false">)</mo></mrow><mo stretchy="true">→</mo></munder><mspace width="1em"/><munder accentunder="true"><mrow><mi>E</mi><mo stretchy="false">(</mo><mover accent="true"><mi>r</mi><mo>⃗</mo></mover><mo stretchy="false">)</mo></mrow><mo stretchy="true">←</mo></munder><mspace width="1em"/><munder accentunder="true"><mrow><mi>E</mi><mo stretchy="false">(</mo><mover accent="true"><mi>r</mi><mo>⃗</mo></mover><mo stretchy="false">)</mo></mrow><mo stretchy="true">↔</mo></munder><mspace width="1em"/><mover accent="true"><mi>v</mi><mo stretchy="true">‾</mo></mover><mo>=</mo><mover accent="true"><mi>v</mi><mo>ˉ</mo></mover><mspace width="1em"/><munder accentunder="true"><mi>v</mi><mo stretchy="true">‾</mo></munder></mrow><annotation encoding="application/x-tex">\overrightarrow{E(\vec{r})}\quad\overleftarrow{E(\vec{r})}\quad\overleftrightarrow{E(\vec{r})}\quad\underrightarrow{E(\vec{r})}\quad\underleftarrow{E(\vec{r})}\quad\underleftrightarrow{E(\vec{r})}\quad\overline{v}=\bar{v}\quad\underline{v}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.044em;vertical-align:-0.772em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.272em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1799em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span class="svg-align" style="top:-3.75em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.272em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1799em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span class="svg-align" style="top:-3.75em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMinYMin slice'><path d='M400000 241H110l3-3c68.7-52.7 113.7-120 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202 l-3-3h399890zM100 241v40h399900v-40z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.272em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1799em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span class="svg-align" style="top:-3.75em;"><span class="pstrut" style="height:3em;"></span><span class="stretchy" style="height:0.522em;min-width:0.888em;"><span class="halfarrow-left" style="height:0.522em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMinYMin slice'><path d='M400000 241H110l3-3c68.7-52.7 113.7-120 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202 l-3-3h399890zM100 241v40h399900v-40z'/></svg></span><span class="halfarrow-right" style="height:0.522em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.25em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mord accentunder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span class="svg-align" style="top:-2.228em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1799em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.772em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mord accentunder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span class="svg-align" style="top:-2.228em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMinYMin slice'><path d='M400000 241H110l3-3c68.7-52.7 113.7-120 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202 l-3-3h399890zM100 241v40h399900v-40z'/></svg></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1799em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.772em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mord accentunder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span class="svg-align" style="top:-2.228em;"><span class="pstrut" style="height:3em;"></span><span class="stretchy" style="height:0.522em;min-width:0.888em;"><span class="halfarrow-left" style="height:0.522em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMinYMin slice'><path d='M400000 241H110l3-3c68.7-52.7 113.7-120 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202 l-3-3h399890zM100 241v40h399900v-40z'/></svg></span><span class="halfarrow-right" style="height:0.522em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1799em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.772em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6306em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span><span style="top:-3.5506em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7678em;vertical-align:-0.2em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5678em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mord underline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4306em;"><span style="top:-2.84em;"><span class="pstrut" style="height:3em;"></span><span class="underline-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2em;"><span></span></span></span></span></span></span></span></span></p><h3 id="8、积分">8、积分</h3><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$\int&#123;一重积分的内容&#125;$</span><br><span class="line">$\iint&#123;二重积分的内容&#125;$</span><br><span class="line">$\iiint&#123;三重积分的内容&#125;$</span><br><span class="line">$\oint&#123;一重线积分的内容&#125;$</span><br><span class="line">$\oiint&#123;二重面积分的内容&#125;$</span><br><span class="line">$\int\limits<span class="emphasis">_l&#123;在l上面进行一重积分&#125;$</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">$\iint\limits_</span>D\left(\dfrac&#123;\partial Q&#125;&#123;\partial x&#125;-\dfrac&#123;\partial P&#125;&#123;\partial y&#125;\right)&#123;\rm d&#125;x&#123;\rm d&#125;y=\oint\limits<span class="emphasis">_LP&#123;\rm d&#125;x+Q&#123;\rm d&#125;y$</span></span><br></pre></td></tr></table></figure><p>显示效果：<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><munder><mo>∬</mo><mi>D</mi></munder><mrow><mo fence="true">(</mo><mstyle displaystyle="true" scriptlevel="0"><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>Q</mi></mrow><mrow><mi mathvariant="normal">∂</mi><mi>x</mi></mrow></mfrac></mstyle><mo>−</mo><mstyle displaystyle="true" scriptlevel="0"><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>P</mi></mrow><mrow><mi mathvariant="normal">∂</mi><mi>y</mi></mrow></mfrac></mstyle><mo fence="true">)</mo></mrow><mi mathvariant="normal">d</mi><mi>x</mi><mi mathvariant="normal">d</mi><mi>y</mi><mo>=</mo><munder><mo>∮</mo><mi>L</mi></munder><mi>P</mi><mi mathvariant="normal">d</mi><mi>x</mi><mo>+</mo><mi>Q</mi><mi mathvariant="normal">d</mi><mi>y</mi></mrow><annotation encoding="application/x-tex">\iint\limits_D\left(\dfrac{\partial Q}{\partial x}-\dfrac{\partial P}{\partial y}\right){\rm d}x{\rm d}y=\oint\limits_LP{\rm d}x+Q{\rm d}y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4998em;vertical-align:-1.0498em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8055em;"><span style="top:-2.0502em;margin-left:-0.1945em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span><span style="top:-3.0005em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop op-symbol small-op" style="margin-right:0.19445em;">∬</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.0498em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal">x</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal">Q</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">d</span></span></span><span class="mord mathnormal">x</span><span class="mord"><span class="mord"><span class="mord mathrm">d</span></span></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.8555em;vertical-align:-1.0499em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8056em;"><span style="top:-2.0501em;margin-left:-0.1945em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span><span style="top:-3.0006em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop op-symbol small-op" style="margin-right:0.19445em;">∮</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.0499em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord"><span class="mord"><span class="mord mathrm">d</span></span></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">Q</span><span class="mord"><span class="mord"><span class="mord mathrm">d</span></span></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span></p><h3 id="9、极限">9、极限</h3><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$\lim\limits<span class="emphasis">_&#123;需要取极限的数\to趋于的值&#125;$</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">$\lim\limits_</span>&#123;需要取极限的数\to\趋于的值&#125;$</span><br></pre></td></tr></table></figure><p>显示效果：<br>\lim\limits_{需要取极限的数\to\趋于的值}</p><h3 id="10、累加、累乘及交集、并集">10、累加、累乘及交集、并集</h3><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$\sum\limits<span class="emphasis">_&#123;累加的初始条件&#125;^&#123;累加的尾项&#125;$</span></span><br><span class="line"><span class="emphasis">$\prod\limits_</span>&#123;累乘的初始条件&#125;^&#123;累乘的尾项&#125;$</span><br><span class="line">$\bigcup\limits<span class="emphasis">_&#123;交集的初始条件&#125;^&#123;交集的尾项&#125;$</span></span><br><span class="line"><span class="emphasis">$\bigcap\limits_</span>&#123;并集的初始条件&#125;^&#123;并集的尾项&#125;$</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$\sum\limits<span class="emphasis">_&#123;i=1&#125;^n\dfrac&#123;1&#125;&#123;n^2&#125;\quad\quad\prod\limits_</span>&#123;i=1&#125;^n\dfrac&#123;1&#125;&#123;n^2&#125;\quad \quad\bigcup\limits<span class="emphasis">_&#123;i=1&#125;^n\dfrac&#123;1&#125;&#123;n^2&#125;\quad \quad\bigcap\limits_</span>&#123;i=1&#125;^n\dfrac&#123;1&#125;&#123;n^2&#125;$</span><br></pre></td></tr></table></figure><p>显示效果：<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><mstyle displaystyle="true" scriptlevel="0"><mfrac><mn>1</mn><msup><mi>n</mi><mn>2</mn></msup></mfrac></mstyle><mspace width="1em"/><mspace width="1em"/><msubsup><mo>∏</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><mstyle displaystyle="true" scriptlevel="0"><mfrac><mn>1</mn><msup><mi>n</mi><mn>2</mn></msup></mfrac></mstyle><mspace width="1em"/><mspace width="1em"/><msubsup><mo>⋃</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><mstyle displaystyle="true" scriptlevel="0"><mfrac><mn>1</mn><msup><mi>n</mi><mn>2</mn></msup></mfrac></mstyle><mspace width="1em"/><mspace width="1em"/><msubsup><mo>⋂</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><mstyle displaystyle="true" scriptlevel="0"><mfrac><mn>1</mn><msup><mi>n</mi><mn>2</mn></msup></mfrac></mstyle></mrow><annotation encoding="application/x-tex">\sum\limits_{i=1}^n\dfrac{1}{n^2}\quad\quad\prod\limits_{i=1}^n\dfrac{1}{n^2}\quad \quad\bigcup\limits_{i=1}^n\dfrac{1}{n^2}\quad \quad\bigcap\limits_{i=1}^n\dfrac{1}{n^2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.3291em;vertical-align:-0.9777em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3514em;"><span style="top:-2.1223em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop op-symbol small-op">∑</span></span></span><span style="top:-3.95em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3514em;"><span style="top:-2.1223em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop op-symbol small-op">∏</span></span></span><span style="top:-3.95em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3514em;"><span style="top:-2.1223em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop op-symbol small-op">⋃</span></span></span><span style="top:-3.95em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3514em;"><span style="top:-2.1223em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop op-symbol small-op">⋂</span></span></span><span style="top:-3.95em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><h3 id="11、希腊字母">11、希腊字母</h3><table><thead><tr><th>语法</th><th>字母</th></tr></thead><tbody><tr><td>\Alpha(\alpha)</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">A</mi><mo stretchy="false">(</mo><mi>α</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Alpha(\alpha)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">A</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span></span></span></span></td></tr><tr><td>\Beta(\beta)</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">B</mi><mo stretchy="false">(</mo><mi>β</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Beta(\beta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">B</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span><span class="mclose">)</span></span></span></span></td></tr><tr><td>\Gamma(\gamma)</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Γ</mi><mo stretchy="false">(</mo><mi>γ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Gamma(\gamma)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Γ</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mclose">)</span></span></span></span></td></tr><tr><td>\Epsilon(\epsilon)\varepsilon</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">E</mi><mo stretchy="false">(</mo><mi>ϵ</mi><mo stretchy="false">)</mo><mi>ε</mi></mrow><annotation encoding="application/x-tex">\Epsilon(\epsilon)\varepsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">E</span><span class="mopen">(</span><span class="mord mathnormal">ϵ</span><span class="mclose">)</span><span class="mord mathnormal">ε</span></span></span></span></td></tr><tr><td>\Zeta(\zeta)</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Z</mi><mo stretchy="false">(</mo><mi>ζ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Zeta(\zeta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">Z</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07378em;">ζ</span><span class="mclose">)</span></span></span></span></td></tr><tr><td>\Eta(\eta)</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">H</mi><mo stretchy="false">(</mo><mi>η</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Eta(\eta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">H</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">η</span><span class="mclose">)</span></span></span></span></td></tr><tr><td>\Iota(\iota)</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">I</mi><mo stretchy="false">(</mo><mi>ι</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Iota(\iota)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">I</span><span class="mopen">(</span><span class="mord mathnormal">ι</span><span class="mclose">)</span></span></span></span></td></tr><tr><td>\Kappa(\kappa)\varkappa</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">K</mi><mo stretchy="false">(</mo><mi>κ</mi><mo stretchy="false">)</mo><mi mathvariant="normal">ϰ</mi></mrow><annotation encoding="application/x-tex">\Kappa(\kappa)\varkappa</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">K</span><span class="mopen">(</span><span class="mord mathnormal">κ</span><span class="mclose">)</span><span class="mord amsrm" style="margin-right:0.04028em;">ϰ</span></span></span></span></td></tr><tr><td>\Lambda(\lambda)</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Λ</mi><mo stretchy="false">(</mo><mi>λ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Lambda(\lambda)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Λ</span><span class="mopen">(</span><span class="mord mathnormal">λ</span><span class="mclose">)</span></span></span></span></td></tr><tr><td>\Nu(\nu)</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">N</mi><mo stretchy="false">(</mo><mi>ν</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Nu(\nu)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">N</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.06366em;">ν</span><span class="mclose">)</span></span></span></span></td></tr><tr><td>\Xi(\xi)</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Ξ</mi><mo stretchy="false">(</mo><mi>ξ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Xi(\xi)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Ξ</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04601em;">ξ</span><span class="mclose">)</span></span></span></span></td></tr><tr><td>\Omicron(\omicron)</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo stretchy="false">(</mo><mi>ο</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Omicron(\omicron)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">O</span><span class="mopen">(</span><span class="mord mathnormal">ο</span><span class="mclose">)</span></span></span></span></td></tr><tr><td>\Rho(\rho)\varrho</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">P</mi><mo stretchy="false">(</mo><mi>ρ</mi><mo stretchy="false">)</mo><mi>ϱ</mi></mrow><annotation encoding="application/x-tex">\Rho(\rho)\varrho</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">P</span><span class="mopen">(</span><span class="mord mathnormal">ρ</span><span class="mclose">)</span><span class="mord mathnormal">ϱ</span></span></span></span></td></tr><tr><td>\Sigma(\sigma)\varsigma</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Σ</mi><mo stretchy="false">(</mo><mi>σ</mi><mo stretchy="false">)</mo><mi>ς</mi></mrow><annotation encoding="application/x-tex">\Sigma(\sigma)\varsigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Σ</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.07986em;">ς</span></span></span></span></td></tr><tr><td>\Tau(\tau)</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">T</mi><mo stretchy="false">(</mo><mi>τ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Tau(\tau)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">T</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.1132em;">τ</span><span class="mclose">)</span></span></span></span></td></tr><tr><td>\Phi(\phi)\varphi</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Φ</mi><mo stretchy="false">(</mo><mi>ϕ</mi><mo stretchy="false">)</mo><mi>φ</mi></mrow><annotation encoding="application/x-tex">\Phi(\phi)\varphi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Φ</span><span class="mopen">(</span><span class="mord mathnormal">ϕ</span><span class="mclose">)</span><span class="mord mathnormal">φ</span></span></span></span></td></tr><tr><td>\Chi(\chi)</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">X</mi><mo stretchy="false">(</mo><mi>χ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Chi(\chi)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">X</span><span class="mopen">(</span><span class="mord mathnormal">χ</span><span class="mclose">)</span></span></span></span></td></tr><tr><td>\Psi(\psi)</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Ψ</mi><mo stretchy="false">(</mo><mi>ψ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Psi(\psi)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Ψ</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">ψ</span><span class="mclose">)</span></span></span></span></td></tr><tr><td>\Delta(\delta)</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><mo stretchy="false">(</mo><mi>δ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Delta(\delta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Δ</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="mclose">)</span></span></span></span></td></tr><tr><td>\Theta(\theta)\vartheta</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Θ</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mi>ϑ</mi></mrow><annotation encoding="application/x-tex">\Theta(\theta)\vartheta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Θ</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mord mathnormal">ϑ</span></span></span></span></td></tr><tr><td>\Mu(\mu)</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">M</mi><mo stretchy="false">(</mo><mi>μ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Mu(\mu)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathrm">M</span><span class="mopen">(</span><span class="mord mathnormal">μ</span><span class="mclose">)</span></span></span></span></td></tr><tr><td>\Pi(\pi)\varpi</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Π</mi><mo stretchy="false">(</mo><mi>π</mi><mo stretchy="false">)</mo><mi>ϖ</mi></mrow><annotation encoding="application/x-tex">\Pi(\pi)\varpi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Π</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.02778em;">ϖ</span></span></span></span></td></tr><tr><td>\Omega(\omega)</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Ω</mi><mo stretchy="false">(</mo><mi>ω</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Omega(\omega)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Ω</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="mclose">)</span></span></span></span></td></tr><tr><td>\upsilon</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>υ</mi></mrow><annotation encoding="application/x-tex">\upsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">υ</span></span></span></span></td></tr><tr><td>\ell</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">ℓ</mi></mrow><annotation encoding="application/x-tex">\ell</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">ℓ</span></span></span></span></td></tr><tr><td>\eth</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">ð</mi></mrow><annotation encoding="application/x-tex">\eth</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord amsrm">ð</span></span></span></span></td></tr><tr><td>\hbar</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">ℏ</mi></mrow><annotation encoding="application/x-tex">\hbar</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord">ℏ</span></span></span></span></td></tr><tr><td>\hslash</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">ℏ</mi></mrow><annotation encoding="application/x-tex">\hslash</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord amsrm">ℏ</span></span></span></span></td></tr><tr><td>\mho</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">℧</mi></mrow><annotation encoding="application/x-tex">\mho</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord amsrm">℧</span></span></span></span></td></tr><tr><td>\partial</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∂</mi></mrow><annotation encoding="application/x-tex">\partial</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord" style="margin-right:0.05556em;">∂</span></span></span></span></td></tr></tbody></table><h3 id="12、特殊字符">12、特殊字符</h3><h4 id="①字符变大或变小">①字符变大或变小</h4><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$&#123;\large 比A更大&#125;A$</span><br><span class="line">$&#123;\small 比A更小&#125;A$</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$&#123;\LARGE A&#125;&#123;\Large A&#125;&#123;\large A&#125;A&#123;\small A&#125;$</span><br></pre></td></tr></table></figure><p>显示效果：<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathsize="1.728em"><mi>A</mi></mstyle><mstyle mathsize="1.44em"><mi>A</mi></mstyle><mstyle mathsize="1.2em"><mi>A</mi></mstyle><mi>A</mi><mstyle mathsize="0.9em"><mi>A</mi></mstyle></mrow><annotation encoding="application/x-tex">{\LARGE A}{\Large A}{\large A}A{\small A}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1808em;"></span><span class="mord"><span class="mord mathnormal sizing reset-size6 size9">A</span></span><span class="mord"><span class="mord mathnormal sizing reset-size6 size8">A</span></span><span class="mord"><span class="mord mathnormal sizing reset-size6 size7">A</span></span><span class="mord mathnormal">A</span><span class="mord"><span class="mord mathnormal sizing reset-size6 size5">A</span></span></span></span></span></p><h4 id="②关系运算符">②关系运算符</h4><table><thead><tr><th>输入</th><th>显示</th></tr></thead><tbody><tr><td>\pm(\mp)</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>±</mo><mo stretchy="false">(</mo><mo>∓</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\pm(\mp)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">±</span><span class="mopen">(</span><span class="mord">∓</span><span class="mclose">)</span></span></span></span></td></tr><tr><td>\times</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>×</mo></mrow><annotation encoding="application/x-tex">\times</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">×</span></span></span></span></td></tr><tr><td>\div</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>÷</mo></mrow><annotation encoding="application/x-tex">\div</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">÷</span></span></span></span></td></tr><tr><td>\nmid</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∤</mo></mrow><annotation encoding="application/x-tex">\nmid</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9925em;vertical-align:-0.2514em;"></span><span class="mrel amsrm">∤</span></span></span></span></td></tr><tr><td>\cdot</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⋅</mo></mrow><annotation encoding="application/x-tex">\cdot</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4445em;"></span><span class="mord">⋅</span></span></span></span></td></tr><tr><td>\mid</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∣</mo></mrow><annotation encoding="application/x-tex">\mid</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mrel">∣</span></span></span></span></td></tr><tr><td>\bigodot</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⨀</mo></mrow><annotation encoding="application/x-tex">\bigodot</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop op-symbol small-op" style="position:relative;top:0em;">⨀</span></span></span></span></td></tr><tr><td>\bigotimes</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⨂</mo></mrow><annotation encoding="application/x-tex">\bigotimes</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop op-symbol small-op" style="position:relative;top:0em;">⨂</span></span></span></span></td></tr><tr><td>\bigoplus</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⨁</mo></mrow><annotation encoding="application/x-tex">\bigoplus</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop op-symbol small-op" style="position:relative;top:0em;">⨁</span></span></span></span></td></tr><tr><td>\ge</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≥</mo></mrow><annotation encoding="application/x-tex">\ge</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel">≥</span></span></span></span></td></tr><tr><td>\le</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≤</mo></mrow><annotation encoding="application/x-tex">\le</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel">≤</span></span></span></span></td></tr><tr><td>\ll</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≪</mo></mrow><annotation encoding="application/x-tex">\ll</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">≪</span></span></span></span></td></tr><tr><td>\geqslant</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⩾</mo></mrow><annotation encoding="application/x-tex">\geqslant</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7733em;vertical-align:-0.1367em;"></span><span class="mrel amsrm">⩾</span></span></span></span></td></tr><tr><td>\leqslant</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⩽</mo></mrow><annotation encoding="application/x-tex">\leqslant</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7733em;vertical-align:-0.1367em;"></span><span class="mrel amsrm">⩽</span></span></span></span></td></tr><tr><td>\neq</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo mathvariant="normal">≠</mo></mrow><annotation encoding="application/x-tex">\neq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span></span></span></span></td></tr><tr><td>\approx</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≈</mo></mrow><annotation encoding="application/x-tex">\approx</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4831em;"></span><span class="mrel">≈</span></span></span></span></td></tr><tr><td>\xlongequal{文本}</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover><mo stretchy="true" minsize="3.0em">=</mo><mpadded width="+0.6em" lspace="0.3em"><mtext>文本</mtext></mpadded></mover></mrow><annotation encoding="application/x-tex">\xlongequal{文本}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0063em;"></span><span class="mrel x-arrow"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0063em;"><span style="top:-3.228em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord cjk_fallback mtight">文本</span></span></span></span><span class="svg-align" style="top:-2.783em;"><span class="pstrut" style="height:2.7em;"></span><span class="hide-tail" style="height:0.334em;min-width:0.888em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.334em' viewBox='0 0 400000 334' preserveAspectRatio='xMinYMin slice'><path d='M0 50 h400000 v40H0z m0 194h40000v40H0zM0 50 h400000 v40H0z m0 194h40000v40H0z'/></svg></span></span></span></span></span></span></span></span></span></td></tr><tr><td>\triangleq</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≜</mo></mrow><annotation encoding="application/x-tex">\triangleq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9987em;vertical-align:-0.082em;"></span><span class="mrel amsrm">≜</span></span></span></span></td></tr><tr><td>\sim</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∼</mo></mrow><annotation encoding="application/x-tex">\sim</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">∼</span></span></span></span></td></tr><tr><td>\doteq</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≐</mo></mrow><annotation encoding="application/x-tex">\doteq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.673em;"></span><span class="mrel">≐</span></span></span></span></td></tr><tr><td>\equiv</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≡</mo></mrow><annotation encoding="application/x-tex">\equiv</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4637em;"></span><span class="mrel">≡</span></span></span></span></td></tr><tr><td>\cong</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≅</mo></mrow><annotation encoding="application/x-tex">\cong</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.589em;"></span><span class="mrel">≅</span></span></span></span></td></tr><tr><td>\propto</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∝</mo></mrow><annotation encoding="application/x-tex">\propto</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mrel">∝</span></span></span></span></td></tr><tr><td>\parallel(\</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∥</mo><mo stretchy="false">(</mo><mspace linebreak="newline"></mspace></mrow><annotation encoding="application/x-tex">\parallel(\\</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mrel">∥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span></span><span class="mspace newline"></span></span></span></td></tr><tr><td>\prec</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≺</mo></mrow><annotation encoding="application/x-tex">\prec</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">≺</span></span></span></span></td></tr><tr><td>\pmod{2}</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mspace></mspace><mspace width="0.4444em"/><mo stretchy="false">(</mo><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mspace width="0.3333em"/><mn>2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\pmod{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0em;"></span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.4444em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.3333em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span></span></td></tr><tr><td>\bmod</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext></mrow><annotation encoding="application/x-tex">\bmod</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mspace" style="margin-right:0.0556em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.0556em;"></span></span></span></span></td></tr></tbody></table><h4 id="③集合运算符">③集合运算符</h4><table><thead><tr><th>输入</th><th>显示</th></tr></thead><tbody><tr><td>\emptyset</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∅</mi></mrow><annotation encoding="application/x-tex">\emptyset</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">∅</span></span></span></span></td></tr><tr><td>\varnothing</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∅</mi></mrow><annotation encoding="application/x-tex">\varnothing</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6633em;vertical-align:-0.0817em;"></span><span class="mord amsrm">∅</span></span></span></span></td></tr><tr><td>\subset</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⊂</mo></mrow><annotation encoding="application/x-tex">\subset</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">⊂</span></span></span></span></td></tr><tr><td>\subseteq</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⊆</mo></mrow><annotation encoding="application/x-tex">\subseteq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel">⊆</span></span></span></span></td></tr><tr><td>\subsetneq</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⊊</mo></mrow><annotation encoding="application/x-tex">\subsetneq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel amsrm">⊊</span></span></span></span></td></tr><tr><td>\supset</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⊃</mo></mrow><annotation encoding="application/x-tex">\supset</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">⊃</span></span></span></span></td></tr><tr><td>\supseteq</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⊇</mo></mrow><annotation encoding="application/x-tex">\supseteq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel">⊇</span></span></span></span></td></tr><tr><td>\supsetneq</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⊋</mo></mrow><annotation encoding="application/x-tex">\supsetneq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel amsrm">⊋</span></span></span></span></td></tr><tr><td>\bigcap</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⋂</mo></mrow><annotation encoding="application/x-tex">\bigcap</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop op-symbol small-op" style="position:relative;top:0em;">⋂</span></span></span></span></td></tr><tr><td>\bigcup</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⋃</mo></mrow><annotation encoding="application/x-tex">\bigcup</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop op-symbol small-op" style="position:relative;top:0em;">⋃</span></span></span></span></td></tr><tr><td>\setminus</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∖</mo></mrow><annotation encoding="application/x-tex">\setminus</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∖</span></span></span></span></td></tr><tr><td>\bigvee</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⋁</mo></mrow><annotation encoding="application/x-tex">\bigvee</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop op-symbol small-op" style="position:relative;top:0em;">⋁</span></span></span></span></td></tr><tr><td>\bigwedge</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⋀</mo></mrow><annotation encoding="application/x-tex">\bigwedge</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop op-symbol small-op" style="position:relative;top:0em;">⋀</span></span></span></span></td></tr><tr><td>\in</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∈</mo></mrow><annotation encoding="application/x-tex">\in</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">∈</span></span></span></span></td></tr><tr><td>\notin</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo mathvariant="normal">∉</mo></mrow><annotation encoding="application/x-tex">\notin</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mrel"><span class="mord"><span class="mrel">∈</span></span><span class="mord vbox"><span class="thinbox"><span class="llap"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="inner"><span class="mord"><span class="mord">/</span><span class="mspace" style="margin-right:0.0556em;"></span></span></span><span class="fix"></span></span></span></span></span></span></span></span></td></tr><tr><td>\ni</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∋</mo></mrow><annotation encoding="application/x-tex">\ni</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">∋</span></span></span></span></td></tr></tbody></table><h4 id="④三角运算符">④三角运算符</h4><table><thead><tr><th>输入</th><th>显示</th></tr></thead><tbody><tr><td>\circ</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∘</mo></mrow><annotation encoding="application/x-tex">\circ</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4445em;"></span><span class="mord">∘</span></span></span></span></td></tr><tr><td>\bot</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">⊥</mi></mrow><annotation encoding="application/x-tex">\bot</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">⊥</span></span></span></span></td></tr><tr><td>\angle</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∠</mi></mrow><annotation encoding="application/x-tex">\angle</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6922em;"></span><span class="mord">∠</span></span></span></span></td></tr><tr><td>\degree</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">°</mi></mrow><annotation encoding="application/x-tex">\degree</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">°</span></span></span></span></td></tr></tbody></table><h4 id="⑤微积分运算符">⑤微积分运算符</h4><table><thead><tr><th>输入</th><th>显示</th></tr></thead><tbody><tr><td>\int</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∫</mo></mrow><annotation encoding="application/x-tex">\int</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1111em;vertical-align:-0.3061em;"></span><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0006em;">∫</span></span></span></span></td></tr><tr><td>\iint</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∬</mo></mrow><annotation encoding="application/x-tex">\iint</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.111em;vertical-align:-0.306em;"></span><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0005em;">∬</span></span></span></span></td></tr><tr><td>\iiint</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∭</mo></mrow><annotation encoding="application/x-tex">\iiint</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.111em;vertical-align:-0.306em;"></span><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0005em;">∭</span></span></span></span></td></tr><tr><td>\oint</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∮</mo></mrow><annotation encoding="application/x-tex">\oint</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1111em;vertical-align:-0.3061em;"></span><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0006em;">∮</span></span></span></span></td></tr><tr><td>\oiint</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∯</mo></mrow><annotation encoding="application/x-tex">\oiint</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.111em;vertical-align:-0.306em;"></span><span class="mop vlist-t vlist-t2" style="position:relative;top:-0.0005em;"><span class="vlist-r"><span class="vlist" style="height:0.805em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mop op-symbol small-op" style="margin-right:0.19445em;">∬</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="overlay" style="height:0.499em;width:0.957em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.957em' height='0.499em' style='width:0.957em' viewBox='0 0 957 499' preserveAspectRatio='xMinYMin'><path d='M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2zm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.860.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.306em;"><span></span></span></span></span></span></span></span></td></tr><tr><td>\prime(‘)</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo mathvariant="normal">′</mo><mo stretchy="false">(</mo><mtext>‘</mtext><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\prime(‘)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">′</span><span class="mopen">(</span><span class="mord">‘</span><span class="mclose">)</span></span></span></span></td></tr><tr><td>\lim</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>lim</mi><mo>⁡</mo></mrow><annotation encoding="application/x-tex">\lim</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mop">lim</span></span></span></span></td></tr><tr><td>\infin</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∞</mi></mrow><annotation encoding="application/x-tex">\infin</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord">∞</span></span></span></span></td></tr><tr><td>\nabla</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∇</mi></mrow><annotation encoding="application/x-tex">\nabla</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">∇</span></span></span></span></td></tr></tbody></table><h4 id="⑥逻辑运算符">⑥逻辑运算符</h4><table><thead><tr><th>输入</th><th>显示</th></tr></thead><tbody><tr><td>\because</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∵</mo></mrow><annotation encoding="application/x-tex">\because</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6922em;"></span><span class="mrel amsrm">∵</span></span></span></span></td></tr><tr><td>\therefore</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∴</mo></mrow><annotation encoding="application/x-tex">\therefore</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6922em;"></span><span class="mrel amsrm">∴</span></span></span></span></td></tr><tr><td>\forall</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∀</mi></mrow><annotation encoding="application/x-tex">\forall</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">∀</span></span></span></span></td></tr><tr><td>\exist</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∃</mi></mrow><annotation encoding="application/x-tex">\exist</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">∃</span></span></span></span></td></tr><tr><td>\not&gt;</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>&gt;̸</mo></mrow><annotation encoding="application/x-tex">\not&gt;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&gt;</span></span></span></span></td></tr><tr><td>\not&lt;</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>&lt;̸</mo></mrow><annotation encoding="application/x-tex">\not&lt;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span></span></span></span></td></tr><tr><td>\land</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∧</mo></mrow><annotation encoding="application/x-tex">\land</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5556em;"></span><span class="mord">∧</span></span></span></span></td></tr><tr><td>\lor</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∨</mo></mrow><annotation encoding="application/x-tex">\lor</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5556em;"></span><span class="mord">∨</span></span></span></span></td></tr><tr><td>\lnot</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">¬</mi></mrow><annotation encoding="application/x-tex">\lnot</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord">¬</span></span></span></span></td></tr><tr><td>\top</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">⊤</mi></mrow><annotation encoding="application/x-tex">\top</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">⊤</span></span></span></span></td></tr><tr><td>\vdash</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⊢</mo></mrow><annotation encoding="application/x-tex">\vdash</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mrel">⊢</span></span></span></span></td></tr><tr><td>\vDash</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⊨</mo></mrow><annotation encoding="application/x-tex">\vDash</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6922em;"></span><span class="mrel amsrm">⊨</span></span></span></span></td></tr></tbody></table><h4 id="⑦带帽符号">⑦带帽符号</h4><table><thead><tr><th>输入</th><th>显示</th></tr></thead><tbody><tr><td>\hat{xy}</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi>x</mi><mi>y</mi></mrow><mo>^</mo></mover></mrow><annotation encoding="application/x-tex">\hat{xy}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">^</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span></span></span></span></td></tr><tr><td>\widehat{xyz}</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi>x</mi><mi>y</mi><mi>z</mi></mrow><mo stretchy="true">^</mo></mover></mrow><annotation encoding="application/x-tex">\widehat{xyz}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.925em;vertical-align:-0.1944em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7306em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mord mathnormal" style="margin-right:0.04398em;">yz</span></span></span><span class="svg-align" style="top:-3.4306em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.3em;"><svg xmlns="http://www.w3.org/2000/svg" width='100%' height='0.3em' viewBox='0 0 2364 300' preserveAspectRatio='none'><path d='M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span></span></span></span></td></tr><tr><td>\tilde{xy}</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi>x</mi><mi>y</mi></mrow><mo>~</mo></mover></mrow><annotation encoding="application/x-tex">\tilde{xy}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8623em;vertical-align:-0.1944em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6679em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-3.35em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">~</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span></span></span></span></td></tr><tr><td>\widetilde{xyz}</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi>x</mi><mi>y</mi><mi>z</mi></mrow><mo stretchy="true">~</mo></mover></mrow><annotation encoding="application/x-tex">\widetilde{xyz}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.911em;vertical-align:-0.1944em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7166em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mord mathnormal" style="margin-right:0.04398em;">yz</span></span></span><span class="svg-align" style="top:-3.4306em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.286em;"><svg xmlns="http://www.w3.org/2000/svg" width='100%' height='0.286em' viewBox='0 0 1033 286' preserveAspectRatio='none'><path d='M344 55.266c-142 0-300.638 81.316-311.5 86.418-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751 181.476 676 181.476c-149 0-189-126.21-332-126.21z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span></span></span></span></td></tr><tr><td>\check{x}</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>x</mi><mo>ˇ</mo></mover></mrow><annotation encoding="application/x-tex">\check{x}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6285em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6285em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">ˇ</span></span></span></span></span></span></span></span></span></span></td></tr><tr><td>\breve{y}</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>y</mi><mo>˘</mo></mover></mrow><annotation encoding="application/x-tex">\breve{y}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">˘</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span></span></span></span></td></tr><tr><td>\grave{x}</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>x</mi><mo>ˋ</mo></mover></mrow><annotation encoding="application/x-tex">\grave{x}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">ˋ</span></span></span></span></span></span></span></span></span></span></td></tr><tr><td>\acute{y}</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>y</mi><mo>ˊ</mo></mover></mrow><annotation encoding="application/x-tex">\acute{y}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">ˊ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span></span></span></span></td></tr><tr><td>\dot{x}</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>x</mi><mo>˙</mo></mover></mrow><annotation encoding="application/x-tex">\dot{x}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6679em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6679em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1111em;"><span class="mord">˙</span></span></span></span></span></span></span></span></span></span></td></tr><tr><td>\ddot{x}</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>x</mi><mo>¨</mo></mover></mrow><annotation encoding="application/x-tex">\ddot{x}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6679em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6679em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">¨</span></span></span></span></span></span></span></span></span></span></td></tr><tr><td>\overparen{xy}</td><td>\overparen{xy}</td></tr></tbody></table><h4 id="⑧选取符号">⑧选取符号</h4><table><thead><tr><th>输入</th><th>显示</th></tr></thead><tbody><tr><td>\fbox{a+b+c+d}</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mtext>a+b+c+的</mtext></mstyle></menclose></mrow><annotation encoding="application/x-tex">\fbox{a+b+c+的}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.4578em;vertical-align:-0.4233em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0344em;"><span style="top:-3.4578em;"><span class="pstrut" style="height:3.4578em;"></span><span class="boxpad"><span class="mord"><span class="mord">a+b+c+</span><span class="mord cjk_fallback">的</span></span></span></span><span style="top:-3.0344em;"><span class="pstrut" style="height:3.4578em;"></span><span class="stretchy fbox" style="height:1.4578em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4233em;"><span></span></span></span></span></span></span></span></span></td></tr><tr><td>\overbrace{xx\cdots x}^{10个x}</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover><mover><mrow><mi>x</mi><mi>x</mi><mo>⋯</mo><mi>x</mi></mrow><mo stretchy="true">⏞</mo></mover><mrow><mn>10</mn><mtext>个</mtext><mi>x</mi></mrow></mover></mrow><annotation encoding="application/x-tex">\overbrace{xx\cdots x}^{10个x}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.7569em;"></span><span class="mord mover"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.7569em;"><span style="top:-3.0786em;"><span class="pstrut" style="height:3.0786em;"></span><span class="mord mover"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0786em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">xx</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span></span></span><span class="svg-align" style="top:-3.5306em;"><span class="pstrut" style="height:3em;"></span><span class="stretchy" style="height:0.548em;min-width:1.6em;"><span class="brace-left" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMinYMin slice'><path d='M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7 5-6 9-10 13-.7 1-7.3 1-20 1H6z'/></svg></span><span class="brace-center" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMidYMin slice'><path d='M200428 334c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z'/></svg></span><span class="brace-right" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMaxYMin slice'><path d='M400000 542l-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z'/></svg></span></span></span></span></span></span></span></span><span style="top:-4.3571em;"><span class="pstrut" style="height:3.0786em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span><span class="mord cjk_fallback mtight">个</span><span class="mord mathnormal mtight">x</span></span></span></span></span></span></span></span></span></span></span></td></tr><tr><td>\underbrace{xx\cdots x}_{10个x}</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><munder><munder><mrow><mi>x</mi><mi>x</mi><mo>⋯</mo><mi>x</mi></mrow><mo stretchy="true">⏟</mo></munder><mrow><mn>10</mn><mtext>个</mtext><mi>x</mi></mrow></munder></mrow><annotation encoding="application/x-tex">\underbrace{xx\cdots x}_{10个x}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.7569em;vertical-align:-1.3263em;"></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4306em;"><span style="top:-1.6737em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span><span class="mord cjk_fallback mtight">个</span><span class="mord mathnormal mtight">x</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4306em;"><span class="svg-align" style="top:-2.352em;"><span class="pstrut" style="height:3em;"></span><span class="stretchy" style="height:0.548em;min-width:1.6em;"><span class="brace-left" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMinYMin slice'><path d='M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z'/></svg></span><span class="brace-center" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMidYMin slice'><path d='M199572 214c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z'/></svg></span><span class="brace-right" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMaxYMin slice'><path d='M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z'/></svg></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">xx</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.648em;"><span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3263em;"><span></span></span></span></span></span></span></span></span></td></tr></tbody></table><h4 id="⑨箭头符号">⑨箭头符号</h4><table><thead><tr><th>输入</th><th>显示</th></tr></thead><tbody><tr><td>\leftarrow</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>←</mo></mrow><annotation encoding="application/x-tex">\leftarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">←</span></span></span></span></td></tr><tr><td>\rightarrow</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">→</span></span></span></span></td></tr><tr><td>\leftrightarrow</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>↔</mo></mrow><annotation encoding="application/x-tex">\leftrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">↔</span></span></span></span></td></tr><tr><td>\longleftarrow</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⟵</mo></mrow><annotation encoding="application/x-tex">\longleftarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mrel">⟵</span></span></span></span></td></tr><tr><td>\longrightarrow</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⟶</mo></mrow><annotation encoding="application/x-tex">\longrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mrel">⟶</span></span></span></span></td></tr><tr><td>\longleftrightarrow</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⟷</mo></mrow><annotation encoding="application/x-tex">\longleftrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mrel">⟷</span></span></span></span></td></tr><tr><td>\Leftarrow</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⇐</mo></mrow><annotation encoding="application/x-tex">\Leftarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">⇐</span></span></span></span></td></tr><tr><td>\Rightarrow</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⇒</mo></mrow><annotation encoding="application/x-tex">\Rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">⇒</span></span></span></span></td></tr><tr><td>\Leftrightarrow</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⇔</mo></mrow><annotation encoding="application/x-tex">\Leftrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">⇔</span></span></span></span></td></tr><tr><td>\Longleftarrow</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⟸</mo></mrow><annotation encoding="application/x-tex">\Longleftarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.549em;vertical-align:-0.024em;"></span><span class="mrel">⟸</span></span></span></span></td></tr><tr><td>\Longrightarrow</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⟹</mo></mrow><annotation encoding="application/x-tex">\Longrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.549em;vertical-align:-0.024em;"></span><span class="mrel">⟹</span></span></span></span></td></tr><tr><td>\Longleftrightarrow</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⟺</mo></mrow><annotation encoding="application/x-tex">\Longleftrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.549em;vertical-align:-0.024em;"></span><span class="mrel">⟺</span></span></span></span></td></tr><tr><td>\uparrow</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>↑</mo></mrow><annotation encoding="application/x-tex">\uparrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mrel">↑</span></span></span></span></td></tr><tr><td>\downarrow</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>↓</mo></mrow><annotation encoding="application/x-tex">\downarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mrel">↓</span></span></span></span></td></tr><tr><td>\updownarrow</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>↕</mo></mrow><annotation encoding="application/x-tex">\updownarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mrel">↕</span></span></span></span></td></tr><tr><td>\Uparrow</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⇑</mo></mrow><annotation encoding="application/x-tex">\Uparrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mrel">⇑</span></span></span></span></td></tr><tr><td>\Downarrow</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⇓</mo></mrow><annotation encoding="application/x-tex">\Downarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mrel">⇓</span></span></span></span></td></tr><tr><td>\Updownarrow</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⇕</mo></mrow><annotation encoding="application/x-tex">\Updownarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mrel">⇕</span></span></span></span></td></tr><tr><td>\to</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">→</span></span></span></span></td></tr><tr><td>\swarrow</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>↙</mo></mrow><annotation encoding="application/x-tex">\swarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mrel">↙</span></span></span></span></td></tr><tr><td>\nearrow</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>↗</mo></mrow><annotation encoding="application/x-tex">\nearrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mrel">↗</span></span></span></span></td></tr><tr><td>\gets</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>←</mo></mrow><annotation encoding="application/x-tex">\gets</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">←</span></span></span></span></td></tr><tr><td>\searrow</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>↘</mo></mrow><annotation encoding="application/x-tex">\searrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mrel">↘</span></span></span></span></td></tr><tr><td>\nwarrow</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>↖</mo></mrow><annotation encoding="application/x-tex">\nwarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mrel">↖</span></span></span></span></td></tr><tr><td>\mapsto</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>↦</mo></mrow><annotation encoding="application/x-tex">\mapsto</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mrel">↦</span></span></span></span></td></tr><tr><td>\rightrightarrows</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⇉</mo></mrow><annotation encoding="application/x-tex">\rightrightarrows</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8558em;vertical-align:-0.1808em;"></span><span class="mrel amsrm">⇉</span></span></span></span></td></tr></tbody></table><h4 id="⑩空格">⑩空格</h4><table><thead><tr><th>输入</th><th>显示</th></tr></thead><tbody><tr><td>\!</td><td>$</td></tr><tr><td>默认</td><td>$</td></tr><tr><td>,</td><td>$</td></tr><tr><td>;(\ )</td><td>$</td></tr><tr><td>\quad</td><td>$</td></tr><tr><td>\qquad</td><td>$</td></tr></tbody></table><h3 id="13、字体">13、字体</h3><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$&#123;\需要显示的字体的格式&#123;需要转换的字符&#125;&#125;$</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$&#123;\rm&#123;Roman&#125;&#125;$</span><br><span class="line">$&#123;\rm&#123;This\ is\ Roman\ script&#125;&#125;$</span><br></pre></td></tr></table></figure><p>显示效果：<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">R</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">m</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">n</mi></mrow><annotation encoding="application/x-tex">{\rm{Roman}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Roman</span></span></span></span></span></span></span><br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">T</mi><mi mathvariant="normal">h</mi><mi mathvariant="normal">i</mi><mi mathvariant="normal">s</mi><mtext> </mtext><mi mathvariant="normal">i</mi><mi mathvariant="normal">s</mi><mtext> </mtext><mi mathvariant="normal">R</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">m</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">n</mi><mtext> </mtext><mi mathvariant="normal">s</mi><mi mathvariant="normal">c</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">i</mi><mi mathvariant="normal">p</mi><mi mathvariant="normal">t</mi></mrow><annotation encoding="application/x-tex">{\rm{This\ is\ Roman\ script}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">This</span><span class="mspace"> </span><span class="mord mathrm">is</span><span class="mspace"> </span><span class="mord mathrm">Roman</span><span class="mspace"> </span><span class="mord mathrm">script</span></span></span></span></span></span></span></p><table><thead><tr><th>输入</th><th>说明</th><th>显示</th></tr></thead><tbody><tr><td>\rm</td><td>罗马体</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">S</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">m</mi><mi mathvariant="normal">p</mi><mi mathvariant="normal">l</mi><mi mathvariant="normal">e</mi></mrow><annotation encoding="application/x-tex">{\rm{Sample}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">Sample</span></span></span></span></span></span></span></td></tr><tr><td>\cal</td><td>花体</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="script">S</mi><mi mathvariant="script">a</mi><mi mathvariant="script">m</mi><mi mathvariant="script">p</mi><mi mathvariant="script">l</mi><mi mathvariant="script">e</mi></mrow><annotation encoding="application/x-tex">{\cal{Sample}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.075em;">S</span><span class="mord mathnormal">am</span><span class="mord mathnormal" style="margin-right:0.01968em;">pl</span><span class="mord mathnormal">e</span></span></span></span></span></span></span></td></tr><tr><td>\it</td><td>意大利体</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mi>a</mi><mi>m</mi><mi>p</mi><mi>l</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">{\it{Sample}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathit">Sample</span></span></span></span></span></span></span></td></tr><tr><td>\Bbb</td><td>黑板粗体</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">S</mi><mi mathvariant="double-struck">a</mi><mi mathvariant="double-struck">m</mi><mi mathvariant="double-struck">p</mi><mi mathvariant="double-struck">l</mi><mi mathvariant="double-struck">e</mi></mrow><annotation encoding="application/x-tex">{\Bbb{Sample}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">S</span><span class="mord mathnormal">am</span><span class="mord mathnormal" style="margin-right:0.01968em;">pl</span><span class="mord mathnormal">e</span></span></span></span></span></span></td></tr><tr><td>\bf</td><td>粗体</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">S</mi><mi mathvariant="bold">a</mi><mi mathvariant="bold">m</mi><mi mathvariant="bold">p</mi><mi mathvariant="bold">l</mi><mi mathvariant="bold">e</mi></mrow><annotation encoding="application/x-tex">{\bf{Sample}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathbf">Sample</span></span></span></span></span></span></span></td></tr><tr><td>\mit</td><td>数学斜体</td><td>{\mit{Sample}}</td></tr><tr><td>\sf</td><td>等线体</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="sans-serif">S</mi><mi mathvariant="sans-serif">a</mi><mi mathvariant="sans-serif">m</mi><mi mathvariant="sans-serif">p</mi><mi mathvariant="sans-serif">l</mi><mi mathvariant="sans-serif">e</mi></mrow><annotation encoding="application/x-tex">{\sf{Sample}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathsf">Sample</span></span></span></span></span></span></span></td></tr><tr><td>\scr</td><td>手写体</td><td>{\scr{Sample}}</td></tr><tr><td>\tt</td><td>打字机体</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="monospace">S</mi><mi mathvariant="monospace">a</mi><mi mathvariant="monospace">m</mi><mi mathvariant="monospace">p</mi><mi mathvariant="monospace">l</mi><mi mathvariant="monospace">e</mi></mrow><annotation encoding="application/x-tex">{\tt{Sample}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.2222em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathtt">Sample</span></span></span></span></span></span></span></td></tr><tr><td>\frak</td><td>旧德式字体</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="fraktur">S</mi><mi mathvariant="fraktur">a</mi><mi mathvariant="fraktur">m</mi><mi mathvariant="fraktur">p</mi><mi mathvariant="fraktur">l</mi><mi mathvariant="fraktur">e</mi></mrow><annotation encoding="application/x-tex">{\frak{Sample}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8805em;vertical-align:-0.1891em;"></span><span class="mord"><span class="mord"><span class="mord mathfrak">Sample</span></span></span></span></span></span></td></tr></tbody></table><h3 id="14、大括号和行标">14、大括号和行标</h3><p>说明：通过使用\left和\right来创建自动匹配高度的( )、[ ]、{ }。在每个公式末尾使用<code>\tag&#123;行标&#125;</code>来实现行标。</p><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">\left(小括号里面的内容\left[中括号里面的内容\&#123;大括号里面的内容\&#125;\right]\right)</span><br><span class="line">\tag&#123;行标&#125;</span><br><span class="line">$$</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$$</span><br><span class="line">f\left(</span><br><span class="line">\left[</span><br><span class="line">\dfrac&#123;1+\&#123;x,y\&#125;&#125;&#123;\left(\dfrac&#123;x&#125;&#123;y&#125;+\dfrac&#123;y&#125;&#123;x&#125;\right)(u+1)&#125;+a</span><br><span class="line">\right]</span><br><span class="line">^&#123;\dfrac&#123;3&#125;&#123;2&#125;&#125;</span><br><span class="line">\right)</span><br><span class="line">\tag&#123;行标&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure><p>显示效果：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi>f</mi><mrow><mo fence="true">(</mo><msup><mrow><mo fence="true">[</mo><mfrac><mrow><mn>1</mn><mo>+</mo><mo stretchy="false">{</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">}</mo></mrow><mrow><mrow><mo fence="true">(</mo><mfrac><mi>x</mi><mi>y</mi></mfrac><mo>+</mo><mfrac><mi>y</mi><mi>x</mi></mfrac><mo fence="true">)</mo></mrow><mo stretchy="false">(</mo><mi>u</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mfrac><mo>+</mo><mi>a</mi><mo fence="true">]</mo></mrow><mfrac><mn>3</mn><mn>2</mn></mfrac></msup><mo fence="true">)</mo></mrow></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(行标)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">f\left(\left[\dfrac{1+\{x,y\}}{\left(\dfrac{x}{y}+\dfrac{y}{x}\right)(u+1)}+a\right]^{\dfrac{3}{2}}\right)\tag{行标}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:6.8294em;vertical-align:-3.05em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.55em;"><span style="top:-5.55em;"><span class="pstrut" style="height:8.6em;"></span><span style="width:0.875em;height:6.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='6.600em' viewBox='0 0 875 6600'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,-36,557 l0,3084c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189l0,-3092c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.05em;"><span></span></span></span></span></span></span><span class="minner"><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.11em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:-3.68em;"><span class="pstrut" style="height:3.45em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-4.127em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">{</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">}</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.29em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">a</span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:3.7793em;"><span style="top:-5.7793em;margin-right:0.05em;"><span class="pstrut" style="height:3.3764em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord sizing reset-size3 size6 mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3764em;"><span style="top:-2.248em;"><span class="pstrut" style="height:3em;"></span><span class="mord mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.732em;"><span class="pstrut" style="height:3em;"></span><span class="mord mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.752em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.55em;"><span style="top:-5.55em;"><span class="pstrut" style="height:8.6em;"></span><span style="width:0.875em;height:6.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='6.600em' viewBox='0 0 875 6600'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,3009c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558l0,-3144c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.05em;"><span></span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:6.8294em;vertical-align:-3.05em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord cjk_fallback">行标</span></span><span class="mord">)</span></span></span></span></span></span></p><p>说明：如果需要将行内显示的分隔符也变大，可以使用<code>\middle</code>命令</p><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$\middle分隔符$</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$\left\langle q\middle\|\dfrac&#123;\dfrac&#123;x&#125;&#123;y&#125;&#125;&#123;\dfrac&#123;u&#125;&#123;v&#125;&#125;\middle|p\right\rangle$</span><br></pre></td></tr></table></figure><p>显示效果：<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">⟨</mo><mi>q</mi><mo fence="true" lspace="0.05em" rspace="0.05em">∥</mo><mstyle displaystyle="true" scriptlevel="0"><mfrac><mstyle displaystyle="true" scriptlevel="0"><mfrac><mi>x</mi><mi>y</mi></mfrac></mstyle><mstyle displaystyle="true" scriptlevel="0"><mfrac><mi>u</mi><mi>v</mi></mfrac></mstyle></mfrac></mstyle><mo fence="true" lspace="0.05em" rspace="0.05em">|</mo><mi>p</mi><mo fence="true">⟩</mo></mrow><annotation encoding="application/x-tex">\left\langle q\middle\|\dfrac{\dfrac{x}{y}}{\dfrac{u}{v}}\middle|p\right\rangle</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.228em;vertical-align:-1.85em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">⟨</span></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.35em;"><span style="top:-4.35em;"><span class="pstrut" style="height:6.2em;"></span><span style="width:0.556em;height:4.200em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.556em' height='4.200em' viewBox='0 0 556 4200'><path d='M145 15 v585 v3000 v585 c2.667,10,9.667,15,21,15c10,0,16.667,-5,20,-15 v-585 v-3000 v-585 c-2.667,-10,-9.667,-15,-21,-15c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v3000 v585 h43zM367 15 v585 v3000 v585 c2.667,10,9.667,15,21,15c10,0,16.667,-5,20,-15 v-585 v-3000 v-585 c-2.667,-10,-9.667,-15,-21,-15c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v3000 v585 h43z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.85em;"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.378em;"><span style="top:-2.11em;"><span class="pstrut" style="height:3.1076em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.3376em;"><span class="pstrut" style="height:3.1076em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-4.378em;"><span class="pstrut" style="height:3.1076em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.6836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.35em;"><span style="top:-4.35em;"><span class="pstrut" style="height:6.2em;"></span><span style="width:0.333em;height:4.200em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.333em' height='4.200em' viewBox='0 0 333 4200'><path d='M145 15 v585 v3000 v585 c2.667,10,9.667,15,21,15c10,0,16.667,-5,20,-15 v-585 v-3000 v-585 c-2.667,-10,-9.667,-15,-21,-15c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v3000 v585 h43z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.85em;"><span></span></span></span></span></span></span><span class="mord mathnormal">p</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size4">⟩</span></span></span></span></span></span></p><h3 id="15、其他命令">15、其他命令</h3><h4 id="①注释文字">①注释文字</h4><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$\text&#123;需要进行注释的文字&#125;$</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$f(n)=\begin&#123;cases&#125;n/2,&amp;\text&#123;if $n$ is even&#125;\\3n+1,&amp;\text&#123;if $n$ is odd&#125;\end&#123;cases&#125;$</span><br></pre></td></tr></table></figure><p>显示效果：</p><img class="inline-img" src="/../img/markdown_typora/15_1.png" style="height:100px"/><h4 id="②文字颜色">②文字颜色</h4><ul><li>适用于新旧浏览器</li></ul><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$\color&#123;颜色&#125;&#123;文字&#125;$</span><br><span class="line"></span><br><span class="line">$\color&#123;颜色&#125;&#123;color&#125;$</span><br></pre></td></tr></table></figure><table><thead><tr><th>输入</th><th>显示</th></tr></thead><tbody><tr><td>balck</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="black"><mrow><mi>c</mi><mi>o</mi><mi>l</mi><mi>o</mi><mi>r</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\color{black}{color}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord" style="color:black;"><span class="mord mathnormal" style="color:black;">co</span><span class="mord mathnormal" style="margin-right:0.01968em;color:black;">l</span><span class="mord mathnormal" style="margin-right:0.02778em;color:black;">or</span></span></span></span></span></td></tr><tr><td>grey</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="grey"><mrow><mi>c</mi><mi>o</mi><mi>l</mi><mi>o</mi><mi>r</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\color{grey}{color}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord" style="color:grey;"><span class="mord mathnormal" style="color:grey;">co</span><span class="mord mathnormal" style="margin-right:0.01968em;color:grey;">l</span><span class="mord mathnormal" style="margin-right:0.02778em;color:grey;">or</span></span></span></span></span></td></tr><tr><td>silver</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="silver"><mrow><mi>c</mi><mi>o</mi><mi>l</mi><mi>o</mi><mi>r</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\color{silver}{color}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord" style="color:silver;"><span class="mord mathnormal" style="color:silver;">co</span><span class="mord mathnormal" style="margin-right:0.01968em;color:silver;">l</span><span class="mord mathnormal" style="margin-right:0.02778em;color:silver;">or</span></span></span></span></span></td></tr><tr><td>white</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="white"><mrow><mi>c</mi><mi>o</mi><mi>l</mi><mi>o</mi><mi>r</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\color{white}{color}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord" style="color:white;"><span class="mord mathnormal" style="color:white;">co</span><span class="mord mathnormal" style="margin-right:0.01968em;color:white;">l</span><span class="mord mathnormal" style="margin-right:0.02778em;color:white;">or</span></span></span></span></span></td></tr><tr><td>marron</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="marron"><mrow><mi>c</mi><mi>o</mi><mi>l</mi><mi>o</mi><mi>r</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\color{marron}{color}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord" style="color:marron;"><span class="mord mathnormal" style="color:marron;">co</span><span class="mord mathnormal" style="margin-right:0.01968em;color:marron;">l</span><span class="mord mathnormal" style="margin-right:0.02778em;color:marron;">or</span></span></span></span></span></td></tr><tr><td>red</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="red"><mrow><mi>c</mi><mi>o</mi><mi>l</mi><mi>o</mi><mi>r</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\color{red}{color}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord" style="color:red;"><span class="mord mathnormal" style="color:red;">co</span><span class="mord mathnormal" style="margin-right:0.01968em;color:red;">l</span><span class="mord mathnormal" style="margin-right:0.02778em;color:red;">or</span></span></span></span></span></td></tr><tr><td>yellow</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="yellow"><mrow><mi>c</mi><mi>o</mi><mi>l</mi><mi>o</mi><mi>r</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\color{yellow}{color}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord" style="color:yellow;"><span class="mord mathnormal" style="color:yellow;">co</span><span class="mord mathnormal" style="margin-right:0.01968em;color:yellow;">l</span><span class="mord mathnormal" style="margin-right:0.02778em;color:yellow;">or</span></span></span></span></span></td></tr><tr><td>lime</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="lime"><mrow><mi>c</mi><mi>o</mi><mi>l</mi><mi>o</mi><mi>r</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\color{lime}{color}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord" style="color:lime;"><span class="mord mathnormal" style="color:lime;">co</span><span class="mord mathnormal" style="margin-right:0.01968em;color:lime;">l</span><span class="mord mathnormal" style="margin-right:0.02778em;color:lime;">or</span></span></span></span></span></td></tr><tr><td>olive</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="olive"><mrow><mi>c</mi><mi>o</mi><mi>l</mi><mi>o</mi><mi>r</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\color{olive}{color}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord" style="color:olive;"><span class="mord mathnormal" style="color:olive;">co</span><span class="mord mathnormal" style="margin-right:0.01968em;color:olive;">l</span><span class="mord mathnormal" style="margin-right:0.02778em;color:olive;">or</span></span></span></span></span></td></tr><tr><td>green</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="green"><mrow><mi>c</mi><mi>o</mi><mi>l</mi><mi>o</mi><mi>r</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\color{green}{color}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord" style="color:green;"><span class="mord mathnormal" style="color:green;">co</span><span class="mord mathnormal" style="margin-right:0.01968em;color:green;">l</span><span class="mord mathnormal" style="margin-right:0.02778em;color:green;">or</span></span></span></span></span></td></tr><tr><td>teal</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="teal"><mrow><mi>c</mi><mi>o</mi><mi>l</mi><mi>o</mi><mi>r</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\color{teal}{color}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord" style="color:teal;"><span class="mord mathnormal" style="color:teal;">co</span><span class="mord mathnormal" style="margin-right:0.01968em;color:teal;">l</span><span class="mord mathnormal" style="margin-right:0.02778em;color:teal;">or</span></span></span></span></span></td></tr><tr><td>auqa</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="auqa"><mrow><mi>c</mi><mi>o</mi><mi>l</mi><mi>o</mi><mi>r</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\color{auqa}{color}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord" style="color:auqa;"><span class="mord mathnormal" style="color:auqa;">co</span><span class="mord mathnormal" style="margin-right:0.01968em;color:auqa;">l</span><span class="mord mathnormal" style="margin-right:0.02778em;color:auqa;">or</span></span></span></span></span></td></tr><tr><td>blue</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="blue"><mrow><mi>c</mi><mi>o</mi><mi>l</mi><mi>o</mi><mi>r</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\color{blue}{color}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord" style="color:blue;"><span class="mord mathnormal" style="color:blue;">co</span><span class="mord mathnormal" style="margin-right:0.01968em;color:blue;">l</span><span class="mord mathnormal" style="margin-right:0.02778em;color:blue;">or</span></span></span></span></span></td></tr><tr><td>navy</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="navy"><mrow><mi>c</mi><mi>o</mi><mi>l</mi><mi>o</mi><mi>r</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\color{navy}{color}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord" style="color:navy;"><span class="mord mathnormal" style="color:navy;">co</span><span class="mord mathnormal" style="margin-right:0.01968em;color:navy;">l</span><span class="mord mathnormal" style="margin-right:0.02778em;color:navy;">or</span></span></span></span></span></td></tr><tr><td>purple</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="purple"><mrow><mi>c</mi><mi>o</mi><mi>l</mi><mi>o</mi><mi>r</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\color{purple}{color}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord" style="color:purple;"><span class="mord mathnormal" style="color:purple;">co</span><span class="mord mathnormal" style="margin-right:0.01968em;color:purple;">l</span><span class="mord mathnormal" style="margin-right:0.02778em;color:purple;">or</span></span></span></span></span></td></tr><tr><td>fuchsia</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathcolor="fuchsia"><mrow><mi>c</mi><mi>o</mi><mi>l</mi><mi>o</mi><mi>r</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\color{fuchsia}{color}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord" style="color:fuchsia;"><span class="mord mathnormal" style="color:fuchsia;">co</span><span class="mord mathnormal" style="margin-right:0.01968em;color:fuchsia;">l</span><span class="mord mathnormal" style="margin-right:0.02778em;color:fuchsia;">or</span></span></span></span></span></td></tr></tbody></table><ul><li>适用于新版浏览器</li><li>注意：使用之前记得确认浏览器是否能够识别，否则将会引起未知错误。</li></ul><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$\color&#123;#rgb&#125;&#123;文字&#125;$</span><br></pre></td></tr></table></figure><h4 id="③删除线">③删除线</h4><h5 id="（1）片段删除线">（1）片段删除线</h5><p><code>\require&#123;cancel&#125;</code>在前面声明，再使用<code>\cancel&#123;字符&#125;</code>、<code>\bcancel&#123;字符&#125;</code>、<code>\xcancel&#123;字符&#125;</code>、<code>\cancelto&#123;字符&#125;&#123;字符&#125;</code>来实现各种<strong>片段删除线</strong>效果。</p><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$\require&#123;cancel&#125;\cancel&#123;斜线删除的内容&#125;$</span><br><span class="line">$\require&#123;cancel&#125;\bcancel&#123;反斜线删除的内容&#125;$</span><br><span class="line">$\require&#123;cancel&#125;\xcancel&#123;打叉删除的内容&#125;$</span><br><span class="line">$\require&#123;cancel&#125;\cancelto&#123;指向的内容&#125;&#123;要删除的内容&#125;$</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$\require&#123;cancel&#125;\begin&#123;array&#125;&#123;r1&#125;</span><br><span class="line">\verb|y+\cancel&#123;x&#125;|&amp;y+\cancel&#123;x&#125;\\</span><br><span class="line">\verb|y+\cancel&#123;y+x&#125;|&amp;y+\cancel&#123;y+x&#125;\\</span><br><span class="line">\verb|y+\bcancel&#123;x&#125;|&amp;y+\bcancel&#123;x&#125;\\</span><br><span class="line">\verb|y+\xcancel&#123;x&#125;|&amp;y+\xcancel&#123;x&#125;\\</span><br><span class="line">\verb|y+\cancelto&#123;0&#125;&#123;x&#125;|&amp;y+\cancelto&#123;0&#125;&#123;x&#125;\\</span><br><span class="line">\verb+\frac&#123;1\cancel9&#125;&#123;\cancel95&#125;=\frac15+&amp;\frac&#123;1\cancel9&#125;&#123;\cancel95&#125;=\frac15\\</span><br><span class="line">\end&#123;array&#125;$</span><br></pre></td></tr></table></figure><p>显示效果：<br>\require{cancel}\begin{array}{r1}\verb|y+\cancel{x}|&y+\cancel{x}\\\verb|y+\cancel{y+x}|&y+\cancel{y+x}\\\verb|y+\bcancel{x}|&y+\bcancel{x}\\\verb|y+\xcancel{x}|&y+\xcancel{x}\\\verb|y+\cancelto{0}{x}|&y+\cancelto{0}{x}\\\verb+\frac{1\cancel9}{\cancel95}=\frac15+&\frac{1\cancel9}{\cancel95}=\frac15\\\end{array}</p><h5 id="（2）整段删除线">（2）整段删除线</h5><p><code>\require&#123;enclose&#125;</code>来<strong>整段删除线</strong>的显示，再使用<code>\enclose&#123;删除线效果&#125;&#123;字符&#125;</code>来使用各种整段删除线效果。<br>其中，删除线效果有<code>horizontalstrike</code>、<code>verticalstrike</code>、<code>updiagonalstrike</code>和<code>downdiagonalstrike</code>,可以叠加使用。</p><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$\require&#123;enclose&#125;\enclose&#123;删除线效果&#125;&#123;需要删除的字符&#125;$</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$\require&#123;enclose&#125;\begin&#123;array&#125;&#123;r1&#125;</span><br><span class="line">\verb|\enclose&#123;horizontalstrike&#125;&#123;x+y&#125;|&amp;\enclose&#123;horizontalstrike&#125;&#123;x+y&#125;\\</span><br><span class="line">\verb|\enclose&#123;verticalstrike&#125;&#123;\frac xy&#125;|&amp;\enclose&#123;verticalstrike&#125;&#123;\frac xy&#125;\\</span><br><span class="line">\verb|\enclose&#123;updiagonalstrike&#125;&#123;x+y&#125;|&amp;\enclose&#123;updiagonalstrike&#125;&#123;x+y&#125;\\</span><br><span class="line">\verb|\enclose&#123;downdiagonalstrike&#125;&#123;x+y&#125;|&amp;\enclose&#123;downdiagonalstrike&#125;&#123;x+y&#125;\\</span><br><span class="line">\verb|\enclose&#123;horizontalstrike,updiagonalstrike&#125;&#123;x+y&#125;|&amp;\enclose&#123;horizontalstrike,updiagonalstrike&#125;&#123;x+y&#125;\\</span><br><span class="line">\end&#123;array&#125;$</span><br></pre></td></tr></table></figure><p>显示效果<br>\require{enclose}\begin{array}{r1}\verb|\enclose{horizontalstrike}{x+y}|&\enclose{horizontalstrike}{x+y}\\\verb|\enclose{verticalstrike}{\frac xy}|&\enclose{verticalstrike}{\frac xy}\\\verb|\enclose{updiagonalstrike}{x+y}|&\enclose{updiagonalstrike}{x+y}\\\verb|\enclose{downdiagonalstrike}{x+y}|&\enclose{downdiagonalstrike}{x+y}\\\verb|\enclose{horizontalstrike,updiagonalstrike}{x+y}|&\enclose{horizontalstrike,updiagonalstrike}{x+y}\\\end{array}</p><h3 id="16、矩阵">16、矩阵</h3><h4 id="①无框矩阵">①无框矩阵</h4><p>通过使用<code>\begin&#123;matrix&#125;</code>与<code>\end&#123;matrix&#125;</code>来进行矩阵的定义，在每一行插入<code>&amp;</code>来指定需要对齐的内容,并在每一行结尾处使用<code>\\</code></p><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$</span><br><span class="line">\begin&#123;matrix&#125;</span><br><span class="line">&#123;行0列0&#125;&amp;&#123;行0列1&#125;&amp;&#123;行0列2&#125;\\</span><br><span class="line">&#123;行1列0&#125;&amp;&#123;行1列1&#125;&amp;&#123;行1列2&#125;\\</span><br><span class="line">&#123;行2列0&#125;&amp;&#123;行2列1&#125;&amp;&#123;行2列2&#125;\\</span><br><span class="line">\end&#123;matrix&#125;</span><br><span class="line">$</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$</span><br><span class="line">\begin&#123;matrix&#125;</span><br><span class="line">1&amp;x&amp;x^2\\</span><br><span class="line">1&amp;y&amp;y^2\\</span><br><span class="line">1&amp;z&amp;z^2\\</span><br><span class="line">\end&#123;matrix&#125;</span><br><span class="line">$</span><br></pre></td></tr></table></figure><p>显示效果：<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>x</mi><mn>2</mn></msup></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>y</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>y</mi><mn>2</mn></msup></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>z</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>z</mi><mn>2</mn></msup></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}1&amp;x&amp;x^2\\1&amp;y&amp;y^2\\1&amp;z&amp;z^2\\\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span></span></p><h4 id="②边框矩阵">②边框矩阵</h4><p>通过将<a href="####%E2%91%A0%E6%97%A0%E6%A1%86%E7%9F%A9%E9%98%B5">无框矩阵</a>中<code>\begin&#123;matrix&#125;</code>与<code>\end&#123;matrix&#125;</code>里面的matrix替换成<code>pmatrix</code>、<code>bmatrix</code>、<code>Bmatrix</code>、<code>vmatrix</code>、<code>Vmatrix</code></p><p>对比效果：</p><table><thead><tr><th>matrix</th><th>pmatrix</th><th>bmatrix</th><th>Bmatrix</th><th>vmatrix</th><th>Vmatrix</th></tr></thead><tbody><tr><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{matrix}1&amp;2\\3&amp;4\end{matrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><annotation encoding="application/x-tex">\begin{pmatrix}1&amp;2\\3&amp;4\end{pmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><annotation encoding="application/x-tex">\begin{bmatrix}1&amp;2\\3&amp;4\end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">{</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd></mtr></mtable><mo fence="true">}</mo></mrow><annotation encoding="application/x-tex">\begin{Bmatrix}1&amp;2\\3&amp;4\end{Bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">{</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">}</span></span></span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">∣</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow><annotation encoding="application/x-tex">\begin{vmatrix}1&amp;2\\3&amp;4\end{vmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.45em;"><span class="pstrut" style="height:4.4em;"></span><span style="width:0.333em;height:2.400em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.333em' height='2.400em' viewBox='0 0 333 2400'><path d='M145 15 v585 v1200 v585 c2.667,10,9.667,15,21,15c10,0,16.667,-5,20,-15 v-585 v-1200 v-585 c-2.667,-10,-9.667,-15,-21,-15c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v1200 v585 h43z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.45em;"><span class="pstrut" style="height:4.4em;"></span><span style="width:0.333em;height:2.400em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.333em' height='2.400em' viewBox='0 0 333 2400'><path d='M145 15 v585 v1200 v585 c2.667,10,9.667,15,21,15c10,0,16.667,-5,20,-15 v-585 v-1200 v-585 c-2.667,-10,-9.667,-15,-21,-15c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v1200 v585 h43z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">∥</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd></mtr></mtable><mo fence="true">∥</mo></mrow><annotation encoding="application/x-tex">\begin{Vmatrix}1&amp;2\\3&amp;4\end{Vmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.45em;"><span class="pstrut" style="height:4.4em;"></span><span style="width:0.556em;height:2.400em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.556em' height='2.400em' viewBox='0 0 556 2400'><path d='M145 15 v585 v1200 v585 c2.667,10,9.667,15,21,15c10,0,16.667,-5,20,-15 v-585 v-1200 v-585 c-2.667,-10,-9.667,-15,-21,-15c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v1200 v585 h43zM367 15 v585 v1200 v585 c2.667,10,9.667,15,21,15c10,0,16.667,-5,20,-15 v-585 v-1200 v-585 c-2.667,-10,-9.667,-15,-21,-15c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v1200 v585 h43z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.45em;"><span class="pstrut" style="height:4.4em;"></span><span style="width:0.556em;height:2.400em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.556em' height='2.400em' viewBox='0 0 556 2400'><path d='M145 15 v585 v1200 v585 c2.667,10,9.667,15,21,15c10,0,16.667,-5,20,-15 v-585 v-1200 v-585 c-2.667,-10,-9.667,-15,-21,-15c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v1200 v585 h43zM367 15 v585 v1200 v585 c2.667,10,9.667,15,21,15c10,0,16.667,-5,20,-15 v-585 v-1200 v-585 c-2.667,-10,-9.667,-15,-21,-15c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v1200 v585 h43z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span></span></span></span></td></tr></tbody></table><h4 id=""></h4><h4 id="③带分割线的矩阵">③带分割线的矩阵</h4><p>通过在<code>\begin&#123;matrix&#125;</code>后面添加{分隔方式}来实现分隔</p><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">$</span><br><span class="line">\begin&#123;array&#125;&#123;分隔方式&#125;</span><br><span class="line">矩阵内容</span><br><span class="line">\end&#123;array&#125;</span><br><span class="line">$</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$</span><br><span class="line">\left[</span><br><span class="line">\begin&#123;array&#125;&#123;c|cc&#125;</span><br><span class="line">1&amp;2&amp;3\\</span><br><span class="line">4&amp;5&amp;6</span><br><span class="line">\end&#123;array&#125;</span><br><span class="line">\right]</span><br><span class="line">\quad</span><br><span class="line">\left[</span><br><span class="line">\begin&#123;array&#125;&#123;cc|c&#125;</span><br><span class="line">1&amp;2&amp;3\\</span><br><span class="line">4&amp;5&amp;6</span><br><span class="line">\end&#123;array&#125;</span><br><span class="line">\right]</span><br><span class="line">\quad</span><br><span class="line">\left[</span><br><span class="line">\begin&#123;array&#125;&#123;ccc|c&#125;</span><br><span class="line">1&amp;2&amp;3&amp;4\\</span><br><span class="line">5&amp;6&amp;7&amp;8</span><br><span class="line">\end&#123;array&#125;</span><br><span class="line">\right]</span><br><span class="line">$</span><br></pre></td></tr></table></figure><p>显示效果：<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center" columnlines="solid none" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mspace width="1em"/><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center" columnlines="none solid" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mspace width="1em"/><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnlines="none none solid" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>7</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>8</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\left[\begin{array}{c|cc}1&amp;2&amp;3\\4&amp;5&amp;6\end{array}\right]\quad\left[\begin{array}{cc|c}1&amp;2&amp;3\\4&amp;5&amp;6\end{array}\right]\quad\left[\begin{array}{ccc|c}1&amp;2&amp;3&amp;4\\5&amp;6&amp;7&amp;8\end{array}\right]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="vertical-separator" style="height:2.4em;border-right-width:0.04em;border-right-style:solid;margin:0 -0.02em;vertical-align:-0.95em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="vertical-separator" style="height:2.4em;border-right-width:0.04em;border-right-style:solid;margin:0 -0.02em;vertical-align:-0.95em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="vertical-separator" style="height:2.4em;border-right-width:0.04em;border-right-style:solid;margin:0 -0.02em;vertical-align:-0.95em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></p><h4 id="④行中矩阵">④行中矩阵</h4><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$</span><br><span class="line">\begin&#123;smallmatrix&#125;</span><br><span class="line">矩阵内容</span><br><span class="line">\end&#123;smallmatrix&#125;</span><br><span class="line">$</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$</span><br><span class="line">\begin&#123;smallmatrix&#125;</span><br><span class="line">a&amp;b\\</span><br><span class="line">c&amp;d</span><br><span class="line">\end&#123;smallmatrix&#125;</span><br><span class="line">\quad</span><br><span class="line">\bigl(</span><br><span class="line">\begin&#123;smallmatrix&#125;</span><br><span class="line">a&amp;b\\</span><br><span class="line">c&amp;d</span><br><span class="line">\end&#123;smallmatrix&#125;</span><br><span class="line">\bigr)</span><br><span class="line">$</span><br></pre></td></tr></table></figure><p>显示效果：<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle scriptlevel="1"><mtable rowspacing="0.1em" columnspacing="0.2778em"><mtr><mtd><mstyle scriptlevel="1" displaystyle="false"><mi>a</mi></mstyle></mtd><mtd><mstyle scriptlevel="1" displaystyle="false"><mi>b</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="1" displaystyle="false"><mi>c</mi></mstyle></mtd><mtd><mstyle scriptlevel="1" displaystyle="false"><mi>d</mi></mstyle></mtd></mtr></mtable></mstyle><mspace width="1em"/><mo fence="true" stretchy="true" minsize="1.2em" maxsize="1.2em">(</mo><mstyle scriptlevel="1"><mtable rowspacing="0.1em" columnspacing="0.2778em"><mtr><mtd><mstyle scriptlevel="1" displaystyle="false"><mi>a</mi></mstyle></mtd><mtd><mstyle scriptlevel="1" displaystyle="false"><mi>b</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="1" displaystyle="false"><mi>c</mi></mstyle></mtd><mtd><mstyle scriptlevel="1" displaystyle="false"><mi>d</mi></mstyle></mtd></mtr></mtable></mstyle><mo fence="true" stretchy="true" minsize="1.2em" maxsize="1.2em">)</mo></mrow><annotation encoding="application/x-tex">\begin{smallmatrix}a&amp;b\\c&amp;d\end{smallmatrix}\quad\bigl(\begin{smallmatrix}a&amp;b\\c&amp;d\end{smallmatrix}\bigr)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3322em;vertical-align:-0.4161em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9161em;"><span style="top:-3.13em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mtight sizing reset-size6 size3"><span class="mord mathnormal mtight">a</span></span></span><span style="top:-2.4639em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mtight sizing reset-size6 size3"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4161em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.1945em;"></span><span class="arraycolsep" style="width:0.1945em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9161em;"><span style="top:-3.13em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mtight sizing reset-size6 size3"><span class="mord mathnormal mtight">b</span></span></span><span style="top:-2.4639em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mtight sizing reset-size6 size3"><span class="mord mathnormal mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4161em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mopen"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9161em;"><span style="top:-3.13em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mtight sizing reset-size6 size3"><span class="mord mathnormal mtight">a</span></span></span><span style="top:-2.4639em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mtight sizing reset-size6 size3"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4161em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.1945em;"></span><span class="arraycolsep" style="width:0.1945em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9161em;"><span style="top:-3.13em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mtight sizing reset-size6 size3"><span class="mord mathnormal mtight">b</span></span></span><span style="top:-2.4639em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mtight sizing reset-size6 size3"><span class="mord mathnormal mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4161em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing size1">)</span></span></span></span></span></p><h3 id="17、方程式序列">17、方程式序列</h3><p>使用<code>\begin&#123;align&#125;...\end&#123;align&#125;</code>来创建一列整齐且默认右对齐的方程式序列,在每一行插入<code>&amp;</code>来指定需要对齐的内容,并在每一行结尾处使用<code>\\</code>。请注意<code>&#123;align&#125;</code>是<strong>自动编号</strong>的，使用<code>&#123;align*&#125;</code>来声明停止自动编号，也可以使用<code>\notag</code>来取消特定行的自动编号。在需要的时候，你可以使用<code>\begin&#123;equation&#125;...\end&#123;equation&#125;</code>来强制表达式自动编号。</p><p>同时，可以使用可以使用<code>\label&#123;标签&#125;</code>来创建一个标签，就如上面的方程式序列中展示的那样，之后使用<code>\eqref&#123;标签&#125;</code>引用你想引用的公式.</p><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$</span><br><span class="line">\begin&#123;align&#125;</span><br><span class="line">第一句内容&amp;第一句内容\\</span><br><span class="line">第二句&amp;第二句内容\\</span><br><span class="line">&amp;第三句内容\\</span><br><span class="line">&amp;第四句取消了编号\notag\\</span><br><span class="line">&amp;第五句做了标记A\label&#123;A&#125;\\</span><br><span class="line">&amp;第六句设计编号为9\tag9</span><br><span class="line">\end&#123;align&#125;</span><br><span class="line">$</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$</span><br><span class="line">\begin&#123;align<span class="emphasis">*&#125;</span></span><br><span class="line"><span class="emphasis">f(x)&amp;=1+1\\</span></span><br><span class="line"><span class="emphasis">&amp;=2\tag3</span></span><br><span class="line"><span class="emphasis">\end&#123;align*</span>&#125;</span><br><span class="line">$</span><br></pre></td></tr></table></figure><p>显示效果：<br>\begin{align*}f(x)&=1+1\\&=2\tag3\end{align*}</p><h3 id="18、条件表达式">18、条件表达式</h3><p>使用<code>\begin&#123;cases&#125;</code>来创造一组默认左对齐的条件表达式,在每一行插入<code>&amp;</code>来指定需要对齐的内容,并在每一行结尾处使用<code>\\</code>,以<code>\end&#123;cases&#125;</code>结尾。</p><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$</span><br><span class="line">\begin&#123;cases&#125;</span><br><span class="line">第一行内容&amp;需要对齐的部分一&amp;部分二\\</span><br><span class="line">第二行内容&amp;对齐呀&amp;是否对齐\\</span><br><span class="line">\end&#123;cases&#125;</span><br><span class="line">$</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$</span><br><span class="line">f(n)=</span><br><span class="line">\begin&#123;cases&#125;</span><br><span class="line">n/2,&amp;\text&#123;if $n$ is even&#125;\\</span><br><span class="line">3n+1,&amp;\text&#123;if $n$ is odd&#125;</span><br><span class="line">\end&#123;cases&#125;</span><br><span class="line">$</span><br></pre></td></tr></table></figure><p>显示效果：</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>第一行内容</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>需要对齐的部分一</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>部分二</mtext></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>第二行内容</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>对齐呀</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>是否对齐</mtext></mstyle></mtd></mtr></mtable></mrow><annotation encoding="application/x-tex">\begin{cases}第一行内容&amp;需要对齐的部分一&amp;部分二\\第二行内容&amp;对齐呀&amp;是否对齐\\\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord cjk_fallback">第一行内容</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord cjk_fallback">第二行内容</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord cjk_fallback">需要对齐的部分一</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord cjk_fallback">对齐呀</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord cjk_fallback">部分二</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord cjk_fallback">是否对齐</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p>$<br>f(n)=<br>\begin{cases}<br>n/2,&amp;\text{if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> is even}\<br>3n+1,&amp;\text{if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> is odd}<br>\end{cases}<br>$</p><h3 id="19、配置行高">19、配置行高</h3><p>可以使用<code>\\[2ex]</code>语句替代该行末尾的<code>\\</code>来让编译器适配 , 其中<code>[ex]</code>指一个&quot;X-Height&quot; , 即x字母高度 , 也可以使用<code>[3ex]</code>或<code>[4ex]</code>等。使用<code>\\[ex]</code>会报错，因为<code>\\[ex]</code>实际上就是<code>\\</code></p><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">\begin&#123;cases&#125;</span><br><span class="line">这是&amp;内容一\\</span><br><span class="line">内容一距离&amp;内容二有两个行高\\[2ex]</span><br><span class="line">内容二距离&amp;内容三有四个个行高\\[4ex]</span><br><span class="line">内容三距离&amp;内容四有五个行高\\[5ex]</span><br><span class="line">\end&#123;cases&#125;</span><br><span class="line">\tag&#123;语法例子&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>这是</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>内容一</mtext></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>内容一距离</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>内容二有两个行高</mtext></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>内容二距离</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>内容三有四个个行高</mtext></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>内容三距离</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>内容四有五个行高</mtext></mstyle></mtd></mtr></mtable></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(语法例子)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{cases}这是&amp;内容一\\内容一距离&amp;内容二有两个行高\\[2ex]内容二距离&amp;内容三有四个个行高\\[4ex]内容三距离&amp;内容四有五个行高\\[5ex]\end{cases}\tag{语法例子}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:10.501em;vertical-align:-5.0005em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:5.35em;"><span style="top:-1.366em;"><span class="pstrut" style="height:5.316em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-1.358em;"><span class="pstrut" style="height:5.316em;"></span><span style="height:3.316em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.8889em' height='3.316em' style='width:0.8889em' viewBox='0 0 888.89 3316' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V3316 H384z M384 0 H504 V3316 H384z'/></svg></span></span><span style="top:-5.316em;"><span class="pstrut" style="height:5.316em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-6.458em;"><span class="pstrut" style="height:5.316em;"></span><span style="height:3.316em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.8889em' height='3.316em' style='width:0.8889em' viewBox='0 0 888.89 3316' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V3316 H384z M384 0 H504 V3316 H384z'/></svg></span></span><span style="top:-9.766em;"><span class="pstrut" style="height:5.316em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:4.85em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:5.5005em;"><span style="top:-7.5005em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord cjk_fallback">这是</span></span></span><span style="top:-6.0605em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord cjk_fallback">内容一距离</span></span></span><span style="top:-3.7585em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord cjk_fallback">内容二距离</span></span></span><span style="top:-0.5945em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord cjk_fallback">内容三距离</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:5.0005em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:5.5005em;"><span style="top:-7.5005em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord cjk_fallback">内容一</span></span></span><span style="top:-6.0605em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord cjk_fallback">内容二有两个行高</span></span></span><span style="top:-3.7585em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord cjk_fallback">内容三有四个个行高</span></span></span><span style="top:-0.5945em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord cjk_fallback">内容四有五个行高</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:5.0005em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="tag"><span class="strut" style="height:10.501em;vertical-align:-5.0005em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord cjk_fallback">语法例子</span></span><span class="mord">)</span></span></span></span></span></span></p><h3 id="20、数组和表格">20、数组和表格</h3><p>数组与表格均以<code>\begin&#123;array&#125;</code>开头,并在其后定义列数及每一列的文本对齐方式,<code>c</code> <code>l</code> <code>r</code>分别代表居中、左对齐及右对齐。若要插入垂直分割线，在定义中插入<code>|</code>，若要插入水平分割线，在定义中加入<code>\hline</code>。<br>例如：<br>如果我需要再一个四列的表格中定义各列的文本对齐方式为 居中对齐、居中对齐、左对齐、右对齐，那么我需要写<code>\begin&#123;array&#125;&#123;llcr&#125;</code><br>如果需要再上面条件的基础上将第一列和后面的二、三、四列使用垂直分割线进行分割，那么就需要写<code>\begin&#123;array&#125;&#123;l|lcr&#125;</code><br>如果此时在上面条件上需要添加水平分割线，那么就需要在一行结束后添加<code>\hline</code>。</p><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$</span><br><span class="line">\begin&#123;array&#125;&#123;c|lcr&#125;</span><br><span class="line">n&amp;\text&#123;左对齐&#125;&amp;\text&#123;居中对齐&#125;&amp;\text&#123;右对齐&#125;\\</span><br><span class="line">\hline</span><br><span class="line">1&amp;0.24&amp;1&amp;125\\</span><br><span class="line">2&amp;-1&amp;189&amp;-8\\</span><br><span class="line">3&amp;-20&amp;2000&amp;1+10i</span><br><span class="line">\end&#123;array&#125;</span><br><span class="line">$</span><br></pre></td></tr></table></figure><p>显示效果：<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable rowspacing="0.16em" columnalign="center left center right" columnlines="solid none none" columnspacing="1em" rowlines="solid none none"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>n</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>左对齐</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>居中对齐</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>右对齐</mtext></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0.24</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>125</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mn>1</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>189</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mn>8</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mn>20</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2000</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mo>+</mo><mn>10</mn><mi>i</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{array}{c|lcr}n&amp;\text{左对齐}&amp;\text{居中对齐}&amp;\text{右对齐}\\\hline1&amp;0.24&amp;1&amp;125\\2&amp;-1&amp;189&amp;-8\\3&amp;-20&amp;2000&amp;1+10i\end{array}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:4.65em;"></span><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="vertical-separator" style="height:4.8em;border-right-width:0.04em;border-right-style:solid;margin:0 -0.02em;vertical-align:-2.15em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord cjk_fallback">左对齐</span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0.24</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">20</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord cjk_fallback">居中对齐</span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">189</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2000</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord cjk_fallback">右对齐</span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">125</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">8</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">10</span><span class="mord mathnormal">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span style="top:-6.1em;"><span class="pstrut" style="height:4.65em;"></span><span class="hline" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span></p><h3 id="21、嵌套表格或数组">21、嵌套表格或数组</h3><p>示例代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">$</span><br><span class="line">% outer vertical array of arrays 外层垂直表格</span><br><span class="line">\begin&#123;array&#125;&#123;c&#125;</span><br><span class="line">% inner horizontal array of arrays 内层水平表格</span><br><span class="line">\begin&#123;array&#125;&#123;cc&#125;</span><br><span class="line">% inner array of minimum values 内层&quot;最小值&quot;数组</span><br><span class="line">\begin&#123;array&#125;&#123;c|cccc&#125;</span><br><span class="line">\text&#123;min&#125;&amp;0&amp;1&amp;2&amp;3\\</span><br><span class="line">\hline</span><br><span class="line">0&amp;0&amp;0&amp;0&amp;0\\</span><br><span class="line">1&amp;0&amp;1&amp;1&amp;1\\</span><br><span class="line">2&amp;0&amp;1&amp;2&amp;2\\</span><br><span class="line">3&amp;0&amp;1&amp;2&amp;3\\</span><br><span class="line">\end&#123;array&#125;</span><br><span class="line">&amp;</span><br><span class="line">% inner array of maximum values 内层&quot;最大值&quot;数组</span><br><span class="line">\begin&#123;array&#125;&#123;c|cccc&#125;</span><br><span class="line">\text&#123;max&#125;&amp;0&amp;1&amp;2&amp;3\\</span><br><span class="line">\hline</span><br><span class="line">0&amp;0&amp;1&amp;2&amp;3\\</span><br><span class="line">1&amp;1&amp;1&amp;2&amp;3\\</span><br><span class="line">2&amp;2&amp;2&amp;2&amp;3\\</span><br><span class="line">3&amp;3&amp;3&amp;3&amp;3</span><br><span class="line">\end&#123;array&#125;</span><br><span class="line">\end&#123;array&#125;</span><br><span class="line">% 内层第一行表格组结束</span><br><span class="line">\\</span><br><span class="line">% inner array of delta values 内层第二行Delta值数组</span><br><span class="line">\begin&#123;array&#125;&#123;c|cccc&#125;</span><br><span class="line">\Delta&amp;0&amp;1&amp;2&amp;3\\</span><br><span class="line">\hline</span><br><span class="line">0&amp;0&amp;1&amp;2&amp;3\\</span><br><span class="line">1&amp;1&amp;0&amp;1&amp;2\\</span><br><span class="line">2&amp;2&amp;1&amp;0&amp;1\\</span><br><span class="line">3&amp;3&amp;2&amp;1&amp;0</span><br><span class="line">\end&#123;array&#125;</span><br><span class="line">% 内层第二行表格组结束</span><br><span class="line">\end&#123;array&#125;</span><br><span class="line">$</span><br></pre></td></tr></table></figure><p>显示效果：<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtable rowspacing="0.16em" columnalign="center center center center center" columnlines="solid none none none" columnspacing="1em" rowlines="solid none none none"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>min</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr></mtable></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtable rowspacing="0.16em" columnalign="center center center center center" columnlines="solid none none none" columnspacing="1em" rowlines="solid none none none"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>max</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr></mtable></mstyle></mtd></mtr></mtable></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtable rowspacing="0.16em" columnalign="center center center center center" columnlines="solid none none none" columnspacing="1em" rowlines="solid none none none"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi mathvariant="normal">Δ</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr></mtable></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">% outer vertical array of arrays 外层垂直表格\begin{array}{c}% inner horizontal array of arrays 内层水平表格\begin{array}{cc}% inner array of minimum values 内层&quot;最小值&quot;数组\begin{array}{c|cccc}\text{min}&amp;0&amp;1&amp;2&amp;3\\\hline0&amp;0&amp;0&amp;0&amp;0\\1&amp;0&amp;1&amp;1&amp;1\\2&amp;0&amp;1&amp;2&amp;2\\3&amp;0&amp;1&amp;2&amp;3\\\end{array}&amp;% inner array of maximum values 内层&quot;最大值&quot;数组\begin{array}{c|cccc}\text{max}&amp;0&amp;1&amp;2&amp;3\\\hline0&amp;0&amp;1&amp;2&amp;3\\1&amp;1&amp;1&amp;2&amp;3\\2&amp;2&amp;2&amp;2&amp;3\\3&amp;3&amp;3&amp;3&amp;3\end{array}\end{array}% 内层第一行表格组结束\\% inner array of delta values 内层第二行Delta值数组\begin{array}{c|cccc}\Delta&amp;0&amp;1&amp;2&amp;3\\\hline0&amp;0&amp;1&amp;2&amp;3\\1&amp;1&amp;0&amp;1&amp;2\\2&amp;2&amp;1&amp;0&amp;1\\3&amp;3&amp;2&amp;1&amp;0\end{array}% 内层第二行表格组结束\end{array}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:12em;vertical-align:-5.75em;"></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.25em;"><span style="top:-8.25em;"><span class="pstrut" style="height:5.25em;"></span><span class="mord"><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.25em;"><span class="pstrut" style="height:5.25em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.25em;"><span class="pstrut" style="height:5.25em;"></span><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">min</span></span></span></span><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-0.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="vertical-separator" style="height:6em;border-right-width:0.04em;border-right-style:solid;margin:0 -0.02em;vertical-align:-2.75em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-0.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-0.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-0.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-0.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span style="top:-7.3em;"><span class="pstrut" style="height:5.25em;"></span><span class="hline" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.25em;"><span class="pstrut" style="height:5.25em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.25em;"><span class="pstrut" style="height:5.25em;"></span><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">max</span></span></span></span><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-0.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="vertical-separator" style="height:6em;border-right-width:0.04em;border-right-style:solid;margin:0 -0.02em;vertical-align:-2.75em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-0.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-0.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-0.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-0.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span style="top:-7.3em;"><span class="pstrut" style="height:5.25em;"></span><span class="hline" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:5.25em;"></span><span class="mord"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.25em;"><span class="pstrut" style="height:5.25em;"></span><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">Δ</span></span></span><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-0.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="vertical-separator" style="height:6em;border-right-width:0.04em;border-right-style:solid;margin:0 -0.02em;vertical-align:-2.75em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-0.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-0.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-0.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-0.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span style="top:-7.3em;"><span class="pstrut" style="height:5.25em;"></span><span class="hline" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:5.75em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span></span></span></span></p><h3 id="22、方程组">22、方程组</h3><p>使用<code>\begin&#123;array&#125;...\end&#123;array&#125;</code>和<code>\left\&#123;...\right.</code>来创建一个方程组,或者你也可以使用条件表达式组<code>\begin&#123;cases&#125;...\end&#123;cases&#125;</code>来实现相同效果。</p><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">$</span><br><span class="line">\left\&#123;</span><br><span class="line">\begin&#123;array&#125;&#123;&#125;</span><br><span class="line">第一个方程\\</span><br><span class="line">第二个方程\\</span><br><span class="line">第三个方程</span><br><span class="line">\end&#123;array&#125;</span><br><span class="line">\right.</span><br><span class="line">\quad\text&#123;or&#125;\quad</span><br><span class="line">\begin&#123;cases&#125;</span><br><span class="line">第一个方程\\</span><br><span class="line">第二个方程\\</span><br><span class="line">第三个方程</span><br><span class="line">\end&#123;cases&#125;</span><br><span class="line">$</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$</span><br><span class="line">\left\&#123;</span><br><span class="line">\begin&#123;array&#125;&#123;&#125;</span><br><span class="line">a<span class="emphasis">_1x+b_</span>1y+c<span class="emphasis">_1z=d_</span>1\\</span><br><span class="line">a<span class="emphasis">_2x+b_</span>2y+c<span class="emphasis">_2z=d_</span>2\\</span><br><span class="line">a<span class="emphasis">_3x+b_</span>3y+c<span class="emphasis">_1z=d_</span>3</span><br><span class="line">\end&#123;array&#125;</span><br><span class="line">\right.</span><br><span class="line">\quad\text&#123;或者&#125;\quad</span><br><span class="line">\begin&#123;cases&#125;</span><br><span class="line">a<span class="emphasis">_1x+b_</span>1y+c<span class="emphasis">_1z=d_</span>1\\</span><br><span class="line">a<span class="emphasis">_2x+b_</span>2y+c<span class="emphasis">_2z=d_</span>2\\</span><br><span class="line">a<span class="emphasis">_3x+b_</span>3y+c<span class="emphasis">_1z=d_</span>3</span><br><span class="line">\end&#123;cases&#125;</span><br><span class="line">$</span><br></pre></td></tr></table></figure><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">{</mo><mtable rowspacing="0.16em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>第一个方程</mtext></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>第二个方程</mtext></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>第三个方程</mtext></mstyle></mtd></mtr></mtable></mrow><mspace width="1em"/><mtext>or</mtext><mspace width="1em"/><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>第一个方程</mtext></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>第二个方程</mtext></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>第三个方程</mtext></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">\left\{\begin{array}{}第一个方程\\第二个方程\\第三个方程\end{array}\right.\quad\text{or}\quad\begin{cases}第一个方程\\第二个方程\\第三个方程\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.32em;vertical-align:-1.91em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-2.5em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.492em;"><span class="pstrut" style="height:3.15em;"></span><span style="height:0.016em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.8889em' height='0.016em' style='width:0.8889em' viewBox='0 0 888.89 16' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V16 H384z M384 0 H504 V16 H384z'/></svg></span></span><span style="top:-3.15em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.292em;"><span class="pstrut" style="height:3.15em;"></span><span style="height:0.016em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.8889em' height='0.016em' style='width:0.8889em' viewBox='0 0 888.89 16' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V16 H384z M384 0 H504 V16 H384z'/></svg></span></span><span style="top:-4.3em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">第一个方程</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">第二个方程</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">第三个方程</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord">or</span></span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.35em;"><span style="top:-2.2em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.192em;"><span class="pstrut" style="height:3.15em;"></span><span style="height:0.316em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.8889em' height='0.316em' style='width:0.8889em' viewBox='0 0 888.89 316' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V316 H384z M384 0 H504 V316 H384z'/></svg></span></span><span style="top:-3.15em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.292em;"><span class="pstrut" style="height:3.15em;"></span><span style="height:0.316em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.8889em' height='0.316em' style='width:0.8889em' viewBox='0 0 888.89 316' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V316 H384z M384 0 H504 V316 H384z'/></svg></span></span><span style="top:-4.6em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.85em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.41em;"><span style="top:-4.41em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord cjk_fallback">第一个方程</span></span></span><span style="top:-2.97em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord cjk_fallback">第二个方程</span></span></span><span style="top:-1.53em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord cjk_fallback">第三个方程</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.91em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">{</mo><mtable rowspacing="0.16em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>a</mi><mn>1</mn></msub><mi>x</mi><mo>+</mo><msub><mi>b</mi><mn>1</mn></msub><mi>y</mi><mo>+</mo><msub><mi>c</mi><mn>1</mn></msub><mi>z</mi><mo>=</mo><msub><mi>d</mi><mn>1</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>a</mi><mn>2</mn></msub><mi>x</mi><mo>+</mo><msub><mi>b</mi><mn>2</mn></msub><mi>y</mi><mo>+</mo><msub><mi>c</mi><mn>2</mn></msub><mi>z</mi><mo>=</mo><msub><mi>d</mi><mn>2</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>a</mi><mn>3</mn></msub><mi>x</mi><mo>+</mo><msub><mi>b</mi><mn>3</mn></msub><mi>y</mi><mo>+</mo><msub><mi>c</mi><mn>1</mn></msub><mi>z</mi><mo>=</mo><msub><mi>d</mi><mn>3</mn></msub></mrow></mstyle></mtd></mtr></mtable></mrow><mspace width="1em"/><mtext>或者</mtext><mspace width="1em"/><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>a</mi><mn>1</mn></msub><mi>x</mi><mo>+</mo><msub><mi>b</mi><mn>1</mn></msub><mi>y</mi><mo>+</mo><msub><mi>c</mi><mn>1</mn></msub><mi>z</mi><mo>=</mo><msub><mi>d</mi><mn>1</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>a</mi><mn>2</mn></msub><mi>x</mi><mo>+</mo><msub><mi>b</mi><mn>2</mn></msub><mi>y</mi><mo>+</mo><msub><mi>c</mi><mn>2</mn></msub><mi>z</mi><mo>=</mo><msub><mi>d</mi><mn>2</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>a</mi><mn>3</mn></msub><mi>x</mi><mo>+</mo><msub><mi>b</mi><mn>3</mn></msub><mi>y</mi><mo>+</mo><msub><mi>c</mi><mn>1</mn></msub><mi>z</mi><mo>=</mo><msub><mi>d</mi><mn>3</mn></msub></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">\left\{\begin{array}{}a_1x+b_1y+c_1z=d_1\\a_2x+b_2y+c_2z=d_2\\a_3x+b_3y+c_1z=d_3\end{array}\right.\quad\text{或者}\quad\begin{cases}a_1x+b_1y+c_1z=d_1\\a_2x+b_2y+c_2z=d_2\\a_3x+b_3y+c_1z=d_3\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.32em;vertical-align:-1.91em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-2.5em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.492em;"><span class="pstrut" style="height:3.15em;"></span><span style="height:0.016em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.8889em' height='0.016em' style='width:0.8889em' viewBox='0 0 888.89 16' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V16 H384z M384 0 H504 V16 H384z'/></svg></span></span><span style="top:-3.15em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.292em;"><span class="pstrut" style="height:3.15em;"></span><span style="height:0.016em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.8889em' height='0.016em' style='width:0.8889em' viewBox='0 0 888.89 16' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V16 H384z M384 0 H504 V16 H384z'/></svg></span></span><span style="top:-4.3em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord text"><span class="mord cjk_fallback">或者</span></span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.35em;"><span style="top:-2.2em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.192em;"><span class="pstrut" style="height:3.15em;"></span><span style="height:0.316em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.8889em' height='0.316em' style='width:0.8889em' viewBox='0 0 888.89 316' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V316 H384z M384 0 H504 V316 H384z'/></svg></span></span><span style="top:-3.15em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.292em;"><span class="pstrut" style="height:3.15em;"></span><span style="height:0.316em;width:0.8889em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.8889em' height='0.316em' style='width:0.8889em' viewBox='0 0 888.89 316' preserveAspectRatio='xMinYMin'><path d='M384 0 H504 V316 H384z M384 0 H504 V316 H384z'/></svg></span></span><span style="top:-4.6em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.85em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.41em;"><span style="top:-4.41em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.97em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.53em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.91em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><h3 id="23、连分式">23、连分式</h3><p>就像<code>\frac</code>一样,使用<code>\cfrac</code>或<code>\dfrac</code>来创建一个连分式,不要使用普通的<code>\frac</code>或<code>\over</code>来创建,否则看起来会很糟糕。</p><p>示例代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$</span><br><span class="line">\text&#123;frac的显示效果&#125;\quad</span><br><span class="line">x=a<span class="emphasis">_0+\frac&#123;1^2&#125;&#123;a_</span>1+\frac&#123;2^2&#125;&#123;a<span class="emphasis">_2+\frac&#123;3^2&#125;&#123;a_</span>3+\frac&#123;4^2&#125;&#123;a<span class="emphasis">_4+\cdots&#125;&#125;&#125;&#125;</span></span><br><span class="line"><span class="emphasis">\\[2ex]</span></span><br><span class="line"><span class="emphasis">\text&#123;cfrac的显示效果&#125;\quad</span></span><br><span class="line"><span class="emphasis">x=a_</span>0+\cfrac&#123;1^2&#125;&#123;a<span class="emphasis">_1+\cfrac&#123;2^2&#125;&#123;a_</span>2+\cfrac&#123;3^2&#125;&#123;a<span class="emphasis">_3+\cfrac&#123;4^2&#125;&#123;a_</span>4+\cdots&#125;&#125;&#125;&#125;</span><br><span class="line">\\[2ex]</span><br><span class="line">\text&#123;dfrac的显示效果&#125;\quad</span><br><span class="line">x=a<span class="emphasis">_0+\dfrac&#123;1^2&#125;&#123;a_</span>1+\dfrac&#123;2^2&#125;&#123;a<span class="emphasis">_2+\dfrac&#123;3^2&#125;&#123;a_</span>3+\dfrac&#123;4^2&#125;&#123;a<span class="emphasis">_4+\cdots&#125;&#125;&#125;&#125;</span></span><br><span class="line"><span class="emphasis">$</span></span><br></pre></td></tr></table></figure><p>显示效果：<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>frac的显示效果</mtext><mspace width="1em"/><mi>x</mi><mo>=</mo><msub><mi>a</mi><mn>0</mn></msub><mo>+</mo><mfrac><msup><mn>1</mn><mn>2</mn></msup><mrow><msub><mi>a</mi><mn>1</mn></msub><mo>+</mo><mfrac><msup><mn>2</mn><mn>2</mn></msup><mrow><msub><mi>a</mi><mn>2</mn></msub><mo>+</mo><mfrac><msup><mn>3</mn><mn>2</mn></msup><mrow><msub><mi>a</mi><mn>3</mn></msub><mo>+</mo><mfrac><msup><mn>4</mn><mn>2</mn></msup><mrow><msub><mi>a</mi><mn>4</mn></msub><mo>+</mo><mo>⋯</mo></mrow></mfrac></mrow></mfrac></mrow></mfrac></mrow></mfrac><mspace linebreak="newline" height="0.862em"></mspace><mtext>cfrac的显示效果</mtext><mspace width="1em"/><mi>x</mi><mo>=</mo><msub><mi>a</mi><mn>0</mn></msub><mo>+</mo><mstyle displaystyle="true" scriptlevel="0"><mfrac><msup><mn>1</mn><mn>2</mn></msup><mrow><msub><mi>a</mi><mn>1</mn></msub><mo>+</mo><mstyle displaystyle="true" scriptlevel="0"><mfrac><msup><mn>2</mn><mn>2</mn></msup><mrow><msub><mi>a</mi><mn>2</mn></msub><mo>+</mo><mstyle displaystyle="true" scriptlevel="0"><mfrac><msup><mn>3</mn><mn>2</mn></msup><mrow><msub><mi>a</mi><mn>3</mn></msub><mo>+</mo><mstyle displaystyle="true" scriptlevel="0"><mfrac><msup><mn>4</mn><mn>2</mn></msup><mrow><msub><mi>a</mi><mn>4</mn></msub><mo>+</mo><mo>⋯</mo></mrow></mfrac></mstyle></mrow></mfrac></mstyle></mrow></mfrac></mstyle></mrow></mfrac></mstyle><mspace linebreak="newline" height="0.862em"></mspace><mtext>dfrac的显示效果</mtext><mspace width="1em"/><mi>x</mi><mo>=</mo><msub><mi>a</mi><mn>0</mn></msub><mo>+</mo><mstyle displaystyle="true" scriptlevel="0"><mfrac><msup><mn>1</mn><mn>2</mn></msup><mrow><msub><mi>a</mi><mn>1</mn></msub><mo>+</mo><mstyle displaystyle="true" scriptlevel="0"><mfrac><msup><mn>2</mn><mn>2</mn></msup><mrow><msub><mi>a</mi><mn>2</mn></msub><mo>+</mo><mstyle displaystyle="true" scriptlevel="0"><mfrac><msup><mn>3</mn><mn>2</mn></msup><mrow><msub><mi>a</mi><mn>3</mn></msub><mo>+</mo><mstyle displaystyle="true" scriptlevel="0"><mfrac><msup><mn>4</mn><mn>2</mn></msup><mrow><msub><mi>a</mi><mn>4</mn></msub><mo>+</mo><mo>⋯</mo></mrow></mfrac></mstyle></mrow></mfrac></mstyle></mrow></mfrac></mstyle></mrow></mfrac></mstyle></mrow><annotation encoding="application/x-tex">\text{frac的显示效果}\quadx=a_0+\frac{1^2}{a_1+\frac{2^2}{a_2+\frac{3^2}{a_3+\frac{4^2}{a_4+\cdots}}}}\\[2ex]\text{cfrac的显示效果}\quadx=a_0+\cfrac{1^2}{a_1+\cfrac{2^2}{a_2+\cfrac{3^2}{a_3+\cfrac{4^2}{a_4+\cdots}}}}\\[2ex]\text{dfrac的显示效果}\quadx=a_0+\dfrac{1^2}{a_1+\dfrac{2^2}{a_2+\dfrac{3^2}{a_3+\dfrac{4^2}{a_4+\cdots}}}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord text"><span class="mord">frac</span><span class="mord cjk_fallback">的显示效果</span></span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:3.0954em;vertical-align:-2.0775em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0179em;"><span style="top:-2.452em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mbin mtight">+</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0543em;"><span style="top:-2.2298em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3448em;margin-left:0em;margin-right:0.1em;"><span class="pstrut" style="height:2.6444em;"></span><span class="mord mtight">2</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2996em;"><span></span></span></span></span></span></span><span class="mbin mtight">+</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size1 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3254em;"><span style="top:-2.1765em;"><span class="pstrut" style="height:3.3254em;"></span><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3448em;margin-left:0em;margin-right:0.1em;"><span class="pstrut" style="height:2.6444em;"></span><span class="mord mtight">3</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2996em;"><span></span></span></span></span></span></span><span class="mbin mtight">+</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size1 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3254em;"><span style="top:-2.468em;"><span class="pstrut" style="height:3em;"></span><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3448em;margin-left:0em;margin-right:0.1em;"><span class="pstrut" style="height:2.6444em;"></span><span class="mord mtight">4</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2996em;"><span></span></span></span></span></span></span><span class="mbin mtight">+</span><span class="minner mtight">⋯</span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.387em;"><span class="pstrut" style="height:3em;"></span><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9384em;"><span style="top:-2.9384em;margin-right:0.1em;"><span class="pstrut" style="height:2.6444em;"></span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8316em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size1 size6"></span></span></span></span><span style="top:-3.5509em;"><span class="pstrut" style="height:3.3254em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.7124em;"><span class="pstrut" style="height:3.3254em;"></span><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9384em;"><span style="top:-2.9384em;margin-right:0.1em;"><span class="pstrut" style="height:2.6444em;"></span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.9806em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size1 size6"></span></span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9384em;"><span style="top:-2.9384em;margin-right:0.1em;"><span class="pstrut" style="height:2.6444em;"></span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1849em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.0775em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mspace newline" style="margin-top:0.862em;"></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord text"><span class="mord">cfrac</span><span class="mord cjk_fallback">的显示效果</span></span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:6.866em;vertical-align:-5.276em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.59em;"><span style="top:-2.11em;"><span class="pstrut" style="height:3.59em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.59em;"><span style="top:-2.11em;"><span class="pstrut" style="height:3.59em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.59em;"><span style="top:-2.11em;"><span class="pstrut" style="height:3.59em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.59em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="minner">⋯</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.74em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord">4</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span></span></span></span></span><span style="top:-3.82em;"><span class="pstrut" style="height:3.59em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-4.33em;"><span class="pstrut" style="height:3.59em;"></span><span class="mord"><span class="mord"><span class="mord">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.316em;"><span></span></span></span></span></span><span></span></span></span></span><span style="top:-3.82em;"><span class="pstrut" style="height:3.59em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-4.33em;"><span class="pstrut" style="height:3.59em;"></span><span class="mord"><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.796em;"><span></span></span></span></span></span><span></span></span></span></span><span style="top:-3.82em;"><span class="pstrut" style="height:3.59em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-4.33em;"><span class="pstrut" style="height:3.59em;"></span><span class="mord"><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:5.276em;"><span></span></span></span></span></span><span></span></span></span><span class="mspace newline" style="margin-top:0.862em;"></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord text"><span class="mord">dfrac</span><span class="mord cjk_fallback">的显示效果</span></span><span class="mspace" style="margin-right:1em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:6.4704em;vertical-align:-4.9793em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4911em;"><span style="top:-2.11em;"><span class="pstrut" style="height:3.4911em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4911em;"><span style="top:-2.11em;"><span class="pstrut" style="height:3.4911em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4911em;"><span style="top:-2.11em;"><span class="pstrut" style="height:3.4911em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4911em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="minner">⋯</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord">4</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.7211em;"><span class="pstrut" style="height:3.4911em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-4.1681em;"><span class="pstrut" style="height:3.4911em;"></span><span class="mord"><span class="mord"><span class="mord">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.2171em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.7211em;"><span class="pstrut" style="height:3.4911em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-4.1681em;"><span class="pstrut" style="height:3.4911em;"></span><span class="mord"><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.5982em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.7211em;"><span class="pstrut" style="height:3.4911em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-4.1681em;"><span class="pstrut" style="height:3.4911em;"></span><span class="mord"><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:4.9793em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><h3 id="24、交换图表">24、交换图表</h3><p>使用一行<code>$\require&#123;AMScd&#125;$</code>语句来允许交换图表的显示,并通过在开头使用<code>\begin&#123;CD&#125;</code>,结尾使用<code>\end&#123;CD&#125;</code>来创建。<br>其中,<code>@&gt;&gt;&gt;</code>代表右箭头、<code>@&lt;&lt;&lt;</code>代表左箭头、<code>@VVV</code>代表下箭头、<code>@AAA</code>代表上箭头、<code>@=</code>代表水平双实线、<code>@|</code>代表竖直双实线、<code>@.</code>代表没有箭头。在<code>@&gt;&gt;&gt;</code>的<code>&gt;&gt;&gt;</code>之间任意插入文字即代表该箭头的注释文字。</p><p>示例代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">\require&#123;AMScd&#125;</span><br><span class="line">\begin&#123;CD&#125;</span><br><span class="line">A@&gt;a&gt;&gt;B\\</span><br><span class="line">@VbVV\# @VcVV\\</span><br><span class="line">C @&gt;&gt;d&gt; D</span><br><span class="line">\end&#123;CD&#125;\tag&#123;示例一&#125;</span><br><span class="line">$$</span><br><span class="line"></span><br><span class="line">$$</span><br><span class="line">\begin&#123;CD&#125;</span><br><span class="line">A@&gt;&gt;&gt;B@&gt;&#123;\text&#123;very long label&#125;&#125;&gt;&gt;C\\</span><br><span class="line">@.@AAA@|\\</span><br><span class="line">D@=E@&lt;&lt;<span class="language-xml"><span class="tag">&lt;<span class="name">F</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">\<span class="attr">end</span>&#123;<span class="attr">CD</span>&#125;\<span class="attr">tag</span>&#123;<span class="attr">示例二</span>&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">$$</span></span></span><br></pre></td></tr></table></figure><p>显示效果：</p><p>\require{AMScd}\begin{CD}A@>a>>B\\@VbVV\# @VcVV\\C @>>d> D\end{CD}\tag{示例一}</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mtable rowspacing="0.25em" columnalign="center center center center center" columnspacing="0.5em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mi>A</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><munderover><mo stretchy="true" minsize="3.0em">→</mo><mpadded width="+0.6em" lspace="0.3em"><mrow></mrow></mpadded><mpadded width="+0.6em" lspace="0.3em"><mrow></mrow></mpadded></munderover></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mi>B</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><munderover><mo stretchy="true" minsize="3.0em">→</mo><mpadded width="+0.6em" lspace="0.3em"><mrow></mrow></mpadded><mpadded width="+0.6em" lspace="0.3em"><mtext>very long label</mtext></mpadded></munderover></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mi>C</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mi mathvariant="normal"> </mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow><mstyle displaystyle="false" scriptlevel="1"><mpadded width="0" lspace="-1width" voffset="0.7em"><mrow><mrow></mrow></mrow></mpadded></mstyle><mo fence="false" stretchy="true" minsize="1.8em" maxsize="1.8em">↑</mo><mstyle displaystyle="false" scriptlevel="1"><mpadded width="0" voffset="0.7em"><mrow><mrow></mrow></mrow></mpadded></mstyle></mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mo fence="false" stretchy="true" minsize="1.8em" maxsize="1.8em">∥</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mi>D</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mover><mo stretchy="true" minsize="3.0em">=</mo><mpadded width="+0.6em" lspace="0.3em"></mpadded></mover></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mi>E</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><munderover><mo stretchy="true" minsize="3.0em">←</mo><mpadded width="+0.6em" lspace="0.3em"><mrow></mrow></mpadded><mpadded width="+0.6em" lspace="0.3em"><mrow></mrow></mpadded></munderover></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mi>F</mi></mstyle></mtd></mtr><mtr></mtr></mtable></mtd><mtd width="50%"></mtd><mtd><mtext>(示例二)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{CD}A@&gt;&gt;&gt;B@&gt;{\text{very long label}}&gt;&gt;C\\@.@AAA@|\\D@=E@&lt;&lt;&lt;F\end{CD}\tag{示例二}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:5.49em;vertical-align:-1.6985em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.7915em;"><span style="top:-5.8344em;"><span class="pstrut" style="height:3.151em;"></span><span class="mord mathnormal">A</span></span><span style="top:-3.9955em;"><span class="pstrut" style="height:3.151em;"></span><span class="mord"> </span></span><span style="top:-2.1404em;"><span class="pstrut" style="height:3.151em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.6985em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.25em;"></span><span class="arraycolsep" style="width:0.25em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.7915em;"><span style="top:-5.8344em;"><span class="pstrut" style="height:3.151em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.622em;"><span style="top:-3.144em;"><span class="pstrut" style="height:2.522em;"></span><span class="sizing reset-size6 size3 mtight cd-arrow-pad"><span class="mord mtight"></span></span></span><span class="svg-align" style="top:-2.511em;"><span class="pstrut" style="height:2.522em;"></span><span class="hide-tail" style="height:0.522em;min-width:3em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span><span style="top:-2.4em;"><span class="pstrut" style="height:2.522em;"></span><span class="sizing reset-size6 size3 mtight cd-arrow-pad"><span class="mord mtight"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.122em;"><span></span></span></span></span></span></span><span style="top:-3.9955em;"><span class="pstrut" style="height:3.151em;"></span></span><span style="top:-2.1404em;"><span class="pstrut" style="height:3.151em;"></span><span class="mrel x-arrow"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.528em;"><span style="top:-2.862em;"><span class="pstrut" style="height:2.334em;"></span><span class="cd-arrow-pad"></span></span><span class="svg-align" style="top:-2.417em;"><span class="pstrut" style="height:2.334em;"></span><span class="hide-tail" style="height:0.334em;min-width:3em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.334em' viewBox='0 0 400000 334' preserveAspectRatio='xMinYMin slice'><path d='M0 50 h400000 v40H0z m0 194h40000v40H0zM0 50 h400000 v40H0z m0 194h40000v40H0z'/></svg></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.6985em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.25em;"></span><span class="arraycolsep" style="width:0.25em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.7915em;"><span style="top:-5.8344em;"><span class="pstrut" style="height:3.151em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span><span style="top:-3.9955em;"><span class="pstrut" style="height:3.151em;"></span><span class="mord cd-vert-arrow"><span class="sizing reset-size6 size3 mtight cd-label-left" style="bottom:0.8em;"><span class="mord mtight"></span></span><span class="mord"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.151em;"><span style="top:-1.966em;"><span class="pstrut" style="height:2.616em;"></span><span class="delimsizinginner delim-size1"><span>⏐</span></span></span><span style="top:-2.559em;"><span class="pstrut" style="height:2.616em;"></span><span style="height:0.616em;width:0.6667em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.6667em' height='0.616em' style='width:0.6667em' viewBox='0 0 666.67 616' preserveAspectRatio='xMinYMin'><path d='M312 0 H355 V616 H312z M312 0 H355 V616 H312z'/></svg></span></span><span style="top:-3.167em;"><span class="pstrut" style="height:2.616em;"></span><span class="delimsizinginner delim-size1"><span>↑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.65em;"><span></span></span></span></span></span></span><span class="sizing reset-size6 size3 mtight cd-label-right" style="bottom:0.8em;"><span class="mord mtight"></span></span></span></span><span style="top:-2.1404em;"><span class="pstrut" style="height:3.151em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.6985em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.25em;"></span><span class="arraycolsep" style="width:0.25em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.7915em;"><span style="top:-5.8344em;"><span class="pstrut" style="height:3.151em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1081em;"><span style="top:-3.322em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight cd-arrow-pad"><span class="mord mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">very long label</span></span></span></span></span></span><span class="svg-align" style="top:-2.689em;"><span class="pstrut" style="height:2.7em;"></span><span class="hide-tail" style="height:0.522em;min-width:3em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67 151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span><span style="top:-2.578em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight cd-arrow-pad"><span class="mord mtight"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.122em;"><span></span></span></span></span></span></span><span style="top:-3.9955em;"><span class="pstrut" style="height:3.151em;"></span></span><span style="top:-2.1404em;"><span class="pstrut" style="height:3.151em;"></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.622em;"><span style="top:-3.144em;"><span class="pstrut" style="height:2.522em;"></span><span class="sizing reset-size6 size3 mtight cd-arrow-pad"><span class="mord mtight"></span></span></span><span class="svg-align" style="top:-2.511em;"><span class="pstrut" style="height:2.522em;"></span><span class="hide-tail" style="height:0.522em;min-width:3em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMinYMin slice'><path d='M400000 241H110l3-3c68.7-52.7 113.7-120 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202 l-3-3h399890zM100 241v40h399900v-40z'/></svg></span></span><span style="top:-2.4em;"><span class="pstrut" style="height:2.522em;"></span><span class="sizing reset-size6 size3 mtight cd-arrow-pad"><span class="mord mtight"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.122em;"><span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.6985em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.25em;"></span><span class="arraycolsep" style="width:0.25em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.7915em;"><span style="top:-5.8344em;"><span class="pstrut" style="height:3.151em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span><span style="top:-3.9955em;"><span class="pstrut" style="height:3.151em;"></span><span class="mord"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.15em;"><span style="top:-3.15em;"><span class="pstrut" style="height:3.8em;"></span><span style="width:0.556em;height:1.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.556em' height='1.800em' viewBox='0 0 556 1800'><path d='M145 15 v585 v600 v585 c2.667,10,9.667,15,21,15c10,0,16.667,-5,20,-15 v-585 v-600 v-585 c-2.667,-10,-9.667,-15,-21,-15c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v600 v585 h43zM367 15 v585 v600 v585 c2.667,10,9.667,15,21,15c10,0,16.667,-5,20,-15 v-585 v-600 v-585 c-2.667,-10,-9.667,-15,-21,-15c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v600 v585 h43z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.65em;"><span></span></span></span></span></span></span></span><span style="top:-2.1404em;"><span class="pstrut" style="height:3.151em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.6985em;"><span></span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:5.49em;vertical-align:-1.6985em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord cjk_fallback">示例二</span></span><span class="mord">)</span></span></span></span></span></span></p><p>具体形式见表格：</p><img class="inline-img" src="/../img/markdown_typora/24_2.png" style="height:1000px"/><h2 id="十四、支持的HTML格式">十四、支持的HTML格式</h2><h3 id="1、文本居中">1、文本居中</h3><p>语法代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">center</span>&gt;</span>内容<span class="tag">&lt;/<span class="name">center</span>&gt;</span></span><br></pre></td></tr></table></figure><p>显示效果：</p><center>内容</center><h3 id="2、快捷键显示">2、快捷键显示</h3><p>语法代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">kbd</span>&gt;</span>内容<span class="tag">&lt;/<span class="name">kbd</span>&gt;</span></span><br></pre></td></tr></table></figure><p>显示效果：<br><kbd>内容</kbd></p><h3 id="3、字体加粗">3、字体加粗</h3><p>语法代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">b</span>&gt;</span>加粗后的字体<span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br></pre></td></tr></table></figure><p>显示效果：<br><b>加粗后的字体</b></p><h3 id="4、字体倾斜">4、字体倾斜</h3><p>语法代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">i</span>&gt;</span>倾斜后的字体<span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br></pre></td></tr></table></figure><p>显示效果：<br><i>倾斜后的字体</i></p><h3 id="5、上下标显示">5、上下标显示</h3><p>语法代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">内容<span class="tag">&lt;<span class="name">sup</span>&gt;</span>上标<span class="tag">&lt;/<span class="name">sup</span>&gt;</span></span><br><span class="line">内容<span class="tag">&lt;<span class="name">sub</span>&gt;</span>下标<span class="tag">&lt;/<span class="name">sub</span>&gt;</span></span><br></pre></td></tr></table></figure><p>显示效果：<br>内容<sup>上标</sup><br>内容<sub>下标</sub></p><h3 id="6、黑色箭头">6、黑色箭头</h3><p>语法代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">&amp;#x27A4;</span></span><br></pre></td></tr></table></figure><p>显示效果：<br>➤</p><h2 id="十五、尾言">十五、尾言</h2><pre><code>    感谢您的观看，希望这篇文章可以帮到您。    如果文章里面有什么纰漏或者是不对的地方，请及时联系我。</code></pre>]]></content>
      
      
      <categories>
          
          <category> Markdown </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Markdown </tag>
            
            <tag> Typora </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>markedown在typora上的使用（一）</title>
      <link href="/2023/07/12/markedown%E5%9C%A8typora%E4%B8%8A%E7%9A%84%E4%BD%BF%E7%94%A8%EF%BC%88%E4%B8%80%EF%BC%89/"/>
      <url>/2023/07/12/markedown%E5%9C%A8typora%E4%B8%8A%E7%9A%84%E4%BD%BF%E7%94%A8%EF%BC%88%E4%B8%80%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h1>markedown在typora上的使用（一）</h1><h2 id="一、标题">一、标题</h2><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 填写一级标题</span></span><br><span class="line"><span class="section">## 填写二级标题</span></span><br></pre></td></tr></table></figure><p>快捷键：</p><ul><li>command + 数字1～6可以迅速将所选中的文本调成对应级别的标题</li><li>command + '0’可以快速将选中的文本调节成普通文本</li><li>command + 加号（+）/减号（-）对标题级别进行加减</li></ul><h2 id="二、段落">二、段落</h2><h3 id="1、换行">1、换行</h3><p>语法：</p><ul><li>直接使用回车键会进行大段落换行</li><li>使用shift+回车键进行小段落换行</li></ul><h3 id="2、分割线">2、分割线</h3><p>语法：直接使用— or ***</p><p>代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line"><span class="strong">**<span class="emphasis">*</span></span></span><br></pre></td></tr></table></figure><h2 id="三、文字显示">三、文字显示</h2><h3 id="1、字体">1、字体</h3><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="strong">**粗体**</span></span><br><span class="line">~~删除线~~</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">u</span>&gt;</span></span>下划线<span class="language-xml"><span class="tag">&lt;/<span class="name">u</span>&gt;</span></span></span><br><span class="line"><span class="emphasis">*斜体*</span></span><br><span class="line">==高亮==</span><br></pre></td></tr></table></figure><p>显示效果：</p><p><strong>粗体</strong><br><s>删除线</s><br><u>下划线</u><br><em>斜体</em><br>==高亮==</p><p>快捷键：</p><ul><li>加粗：command + ‘B’</li><li>删除线：control + shift + ‘`’</li><li>下划线：control + ‘U’</li><li>斜体：command + ‘I’</li><li>高亮：command + shift + ‘H’</li></ul><p>注意：<br>如果要显示一些特殊符号</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1<span class="emphasis">*2*</span>3<span class="emphasis">*4</span></span><br><span class="line"><span class="emphasis">1\*</span>2\<span class="emphasis">*3\*</span>4</span><br></pre></td></tr></table></figure><p>显示效果：</p><p>1<em>2</em>3*4<br>1*2*3*4</p><h3 id="2、上下标">2、上下标</h3><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x^2^</span><br><span class="line">H~2~O</span><br></pre></td></tr></table></figure><p>显示效果：</p><p>x^2^<br>H~2~O</p><p>注意：<br>上下标显示仍有一定的局限性，详细解决方法查看<a href="##%E5%8D%81%E4%B8%89%E3%80%81%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F">十三、数学公式</a></p><h2 id="四、列表">四、列表</h2><h3 id="1、无序列表">1、无序列表</h3><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;<span class="emphasis">*&#x27; or &#x27;-&#x27; or &#x27;+&#x27; + space + name</span></span><br></pre></td></tr></table></figure><p>显示效果：</p><ol><li>只有一个级别<ul><li>蔡徐坤</li><li>吴亦凡</li><li>李易峰</li></ul></li><li>多级别嵌入<ul><li>蔡徐坤<ul><li>鸡你太美</li><li>实在是太美</li><li>贝贝</li></ul></li><li>吴亦凡<ul><li>大碗宽面<ul><li>面壁思过<ul><li>过河拆桥<ul><li>顺手牵羊</li></ul></li></ul></li></ul></li></ul></li></ul></li></ol><p>快捷键：</p><ul><li>使用无序列表：option + command + ‘U’</li><li>对无序列表进行右移缩进：tab / command + ‘]’</li><li>对无序列表进行左移缩进：command + ‘[’ / 回车键两次</li></ul><h3 id="2、有序列表">2、有序列表</h3><p>语法代码:</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">数字 + . + space</span><br></pre></td></tr></table></figure><p>显示效果：</p><ol><li>第一个标题</li><li>第二个标题<ul><li>小内容1</li><li>小内容2</li></ul></li><li>第三个标题</li></ol><p>快捷键：</p><ul><li>使用有序列表：option + command + ‘O’</li><li>对有序列表进行右移缩进：tab / command + ‘]’</li><li>对有序列表进行左移缩进：command + ‘[’ / 回车键两次</li></ul><h3 id="3、任务列表">3、任务列表</h3><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> [ ] 任务一</span><br><span class="line"><span class="bullet">-</span> [x] 任务二</span><br></pre></td></tr></table></figure><p>显示效果：</p><ul><li>[ ] 任务一</li><li>[x] 任务二</li></ul><p>快捷键：</p><ul><li>使用有序列表：option + command + ‘X’</li><li>对有序列表进行右移缩进：tab / command + ‘]’</li><li>对有序列表进行左移缩进：command + ‘[’ / 回车键两次</li></ul><h2 id="五、区块显示">五、区块显示</h2><p>语法：<br>‘&gt;’ + 回车/space</p><p>显示效果：</p><blockquote><p>这是最外层区块</p><p>这是最外层区块的第二层</p></blockquote><blockquote><blockquote><p>这是内层区块</p><p>这是内层区块的第二层</p></blockquote></blockquote><h2 id="六、代码显示">六、代码显示</h2><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">``` js/java/c#/text</span></span><br><span class="line"><span class="code">内容</span></span><br></pre></td></tr></table></figure><p>快捷键：</p><ul><li>使用代码块：option + command + ‘C’</li></ul><h2 id="七、链接">七、链接</h2><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">www.baidu.com</span><br><span class="line">[<span class="string">百度一下</span>](<span class="link">https://www.baidu.com</span>)</span><br><span class="line">[<span class="string">我的博客</span>](<span class="link">https://momingxiaoyang.github.io &quot;momingxiaoyang的blog&quot;</span>)</span><br><span class="line">[<span class="string">第一部分</span>](<span class="link">##一、标题</span>)</span><br></pre></td></tr></table></figure><p>显示效果：<br><a href="http://www.baidu.com">www.baidu.com</a><br><a href="https://www.baidu.com">百度一下</a><br><a href="https://momingxiaoyang.github.io" title="momingxiaoyang的blog">我的博客</a><br><a href="##%E4%B8%80%E3%80%81%E6%A0%87%E9%A2%98">第一部分</a></p><p>触发方法：</p><ul><li>使用command + 点击</li></ul><p>快捷键：</p><ul><li>建立链接的格式：command + ‘K’</li></ul><h2 id="八、脚注">八、脚注</h2><p>说明：对文本进行解释说明</p><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[^1]</span><br><span class="line">[<span class="symbol">^1</span>]:<span class="link">这是对这段文字的说明</span></span><br></pre></td></tr></table></figure><p>显示效果：<br>这是对于脚注<a href="%E8%BF%99%E6%98%AF%E5%AF%B9%E8%BF%99%E6%AE%B5%E6%96%87%E5%AD%97%E7%9A%84%E8%AF%B4%E6%98%8E">^1</a>的使用方法</p><p>快捷键：</p><ul><li>建立脚注的格式：option + command + ‘L’</li></ul><h2 id="九、图片插入">九、图片插入</h2><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">![<span class="string">不显示的文字</span>](<span class="link">图片路径 &quot;图片标题&quot;</span>)</span><br><span class="line">![<span class="string">This is my head sculpture</span>](<span class="link">https://s2.loli.net/2023/07/11/ANcMH8ZyPCvLtkj.jpg &quot;momingxiaoyang&quot;</span>)</span><br><span class="line">![<span class="string">IMG_5664.JPG</span>](<span class="link">https://s2.loli.net/2023/07/11/TKe5ZMXdqSulWRf.jpg &quot;我家鸽鸽&quot;</span>)</span><br></pre></td></tr></table></figure><p>显示效果：</p><p><img src="https://s2.loli.net/2023/07/11/TKe5ZMXdqSulWRf.jpg" alt="IMG_5664.JPG" title="我家鸽鸽"></p><p>快捷键：</p><ul><li>建立链接引入的格式：option + command + ‘R’</li></ul><h2 id="十、表格">十、表格</h2><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">|  1   |  2   |  3   |</span><br><span class="line">| :--- | :--: | ---: |</span><br><span class="line">|  4   |  5   |  6   |</span><br><span class="line">|  7   |  8   |  9   |</span><br><span class="line">|  10  |  11  |  12  |</span><br></pre></td></tr></table></figure><p>显示效果：</p><table><thead><tr><th style="text-align:left">1</th><th style="text-align:center">2</th><th style="text-align:right">3</th></tr></thead><tbody><tr><td style="text-align:left">4</td><td style="text-align:center">5</td><td style="text-align:right">6</td></tr><tr><td style="text-align:left">7</td><td style="text-align:center">8</td><td style="text-align:right">9</td></tr><tr><td style="text-align:left">10</td><td style="text-align:center">11</td><td style="text-align:right">12</td></tr></tbody></table><p>快捷键：</p><ul><li>插入表格：option + command + ‘T’</li><li>下方插入行：command + 回车</li><li>上移该行：control + command + <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>↑</mo></mrow><annotation encoding="application/x-tex">\uparrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mrel">↑</span></span></span></span></li><li>下移该行：control + command + <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>↓</mo></mrow><annotation encoding="application/x-tex">\downarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mrel">↓</span></span></span></span></li><li>左移该行：control + command + <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>←</mo></mrow><annotation encoding="application/x-tex">\gets</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">←</span></span></span></span></li><li>右移该行：control + command + <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">→</span></span></span></span></li><li>删除该行：shift + command + delete</li></ul><h2 id="十一、流程图">十一、流程图</h2><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">    </span></span><br><span class="line"><span class="code">```mermaid</span></span><br><span class="line"><span class="code">graph 方向</span></span><br><span class="line"><span class="code">节点以及节点连线（定义和连线步骤可以分开）</span></span><br><span class="line"><span class="code">（样式调整）</span></span><br><span class="line"><span class="code">```</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="code">```mermaid</span></span><br><span class="line"><span class="code">graph LR</span></span><br><span class="line"><span class="code">A[ 方形 ]==&gt;B( 圆角 )</span></span><br><span class="line"><span class="code">B==&gt;C&#123; 条件a &#125;</span></span><br><span class="line"><span class="code">C--&gt;| a==1 |D[ 结果1 ]</span></span><br><span class="line"><span class="code">C.-&gt;| a==0 |E[ 结果2 ]</span></span><br><span class="line"><span class="code">F[ 横向流程图 ]</span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></table></figure><p>显示效果：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A[ 方形 ]==&gt;B( 圆角 )</span><br><span class="line">B==&gt;C&#123; 条件a &#125;</span><br><span class="line">C--&gt;|a==1|D[ 结果1 ]</span><br><span class="line">C.-&gt;|a==0|E[ 结果2 ]</span><br><span class="line">F[ 横向流程图 ]</span><br></pre></td></tr></table></figure><p>显示方向：</p><ul><li>从上到下：TB / TD  (top button / top down)</li><li>从下到上：BT  (Button top)</li><li>从右到左：RL  (right left)</li><li>从左到右：LR  (left right)</li></ul><p>节点类型:</p><ul><li>默认节点： A</li><li>矩形节点： B[矩形]</li><li>圆角矩形节点： C(圆角矩形)</li><li>圆形节点：的((圆形))</li><li>非对称节点：E&gt;非对称]</li><li>菱形节点：F{菱形}</li></ul><p>节点连线：</p><ul><li>箭头连接：A–&gt;B</li><li>开放连接：A—B</li><li>虚线箭头连接：A.-&gt;B or A-.-&gt;B</li><li>虚线连接：A.-B or A-.-B</li><li>粗线箭头连接：A===&gt;B</li><li>粗线开放连接：A===B</li><li>标签虚线箭头连接：A-.text-&gt;B</li><li>标签开放连接：A–text—B</li></ul><h2 id="十二、表情符号">十二、表情符号</h2><p>语法代码：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:happy:、 :cry:</span><br></pre></td></tr></table></figure><p>显示效果：</p><p>:happy:、 :cry:</p>]]></content>
      
      
      <categories>
          
          <category> Markdown </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Markdown </tag>
            
            <tag> Typora </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2023/07/11/hello-world/"/>
      <url>/2023/07/11/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><ul><li>适用于新版浏览器</li></ul><h4 id="③删除线">③删除线</h4><h5 id="（1）片段删除线">（1）片段删除线</h5><p><code>\require&#123;cancel&#125;</code>在前面声明，再使用<code>\cancel&#123;字符&#125;</code>、<code>\bcancel&#123;字符&#125;</code>、<code>\xcancel&#123;字符&#125;</code>、<code>\cancelto&#123;字符&#125;&#123;字符&#125;</code>来实现各种<strong>片段删除线</strong>效果。</p><p><img src="../img/markdown_typora/12_6.png" alt="show"><br><img src="../img/hexo_butterfly/blog_show_link.png" alt="butterfly"><br><img src="./hello-world/Butterfly.JPG" alt="butterflt"></p><p>语法代码：</p><p>显示效果：<br>\require{cancel}\begin{array}{r1}\verb|y+\cancel{x}|&y+\cancel{x}\\\verb|y+\cancel{y+x}|&y+\cancel{y+x}\\\verb|y+\bcancel{x}|&y+\bcancel{x}\\\verb|y+\xcancel{x}|&y+\xcancel{x}\\\verb|y+\cancelto{0}{x}|&y+\cancelto{0}{x}\\\verb+\frac{1\cancel9}{\cancel95}=\frac15+&\frac{1\cancel9}{\cancel95}=\frac15\\\end{array}</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>+</mo><mn>1</mn><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">1 + 1 = 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span></p><h2 id="Quick-Start">Quick Start</h2><h3 id="Create-a-new-post">Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server">Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><div class="gallery-group-main">  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://i.loli.net/2019/11/10/T7Mu8Aod3egmC4Q.png' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">壁纸</div>  <p>收藏的一些壁纸</p>  <a href='/2023/07/11/hello-world/'></a>  </figcaption>  </figure>    <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://i.loli.net/2019/12/25/8t97aVlp4hgyBGu.jpg' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">漫威</div>  <p>关于漫威的图片</p>  <a href='/Gallery/marvel'></a>  </figcaption>  </figure>    <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://i.loli.net/2019/12/25/hOqbQ3BIwa6KWpo.jpg' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">OH MY GIRL</div>  <p>关于OH MY GIRL的图片</p>  <a href='/Gallery/text'></a>  </figcaption>  </figure>  </div><div class="gallery">    <div class="fj-gallery  data" data-rowHeight="220" data-limit="10">    <span class="gallery-data">[{"url":"https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg","alt":""},{"url":"https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg","alt":""},{"url":"https://i.loli.net/2019/12/25/gEy5Zc1Ai6VuO4N.jpg","alt":""},{"url":"https://i.loli.net/2019/12/25/d6QHbytlSYO4FBG.jpg","alt":""},{"url":"https://i.loli.net/2019/12/25/6nepIJ1xTgufatZ.jpg","alt":""},{"url":"https://i.loli.net/2019/12/25/E7Jvr4eIPwUNmzq.jpg","alt":""},{"url":"https://i.loli.net/2019/12/25/mh19anwBSWIkGlH.jpg","alt":""},{"url":"https://i.loli.net/2019/12/25/2tu9JC8ewpBFagv.jpg","alt":""}]</span>    </div>    <button class="gallery-load-more"><span>加载更多</span><i class="fa-solid fa-arrow-down"></i></button>    </div><div class="mermaid-wrap"><pre class="mermaid-src" hidden>  pietitle Key elements in Product X&quot;Calcium&quot; : 42.96&quot;Potassium&quot; : 50.05&quot;Magnesium&quot; : 10.01&quot;Iron&quot; :  5  </pre></div><div class="tabs" id="test1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test1-1">test1 1</button></li><li class="tab"><button type="button" data-href="#test1-2">test1 2</button></li><li class="tab"><button type="button" data-href="#test1-3">test1 3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>This is my website, click the button <a class="btn-beautify " href="https://butterfly.js.org/"   title="Butterfly"><span>Butterfly</span></a><br>This is my website, click the button <a class="btn-beautify " href="https://butterfly.js.org/"   title="Butterfly"><i class="far fa-hand-point-right"></i><span>Butterfly</span></a><br>This is my website, click the button <a class="btn-beautify outline" href="https://butterfly.js.org/"   title="Butterfly"><span>Butterfly</span></a><br>This is my website, click the button <a class="btn-beautify outline" href="https://butterfly.js.org/"   title="Butterfly"><i class="far fa-hand-point-right"></i><span>Butterfly</span></a><br>This is my website, click the button <a class="btn-beautify larger" href="https://butterfly.js.org/"   title="Butterfly"><i class="far fa-hand-point-right"></i><span>Butterfly</span></a></p><div class="btn-center"><a class="btn-beautify outline larger" href="https://butterfly.js.org/"   title="Butterfly"><i class="far fa-hand-point-right"></i><span>Butterfly</span></a><a class="btn-beautify outline blue larger" href="https://butterfly.js.org/"   title="Butterfly"><i class="far fa-hand-point-right"></i><span>Butterfly</span></a><a class="btn-beautify outline pink larger" href="https://butterfly.js.org/"   title="Butterfly"><i class="far fa-hand-point-right"></i><span>Butterfly</span></a><a class="btn-beautify outline red larger" href="https://butterfly.js.org/"   title="Butterfly"><i class="far fa-hand-point-right"></i><span>Butterfly</span></a><a class="btn-beautify outline purple larger" href="https://butterfly.js.org/"   title="Butterfly"><i class="far fa-hand-point-right"></i><span>Butterfly</span></a><a class="btn-beautify outline orange larger" href="https://butterfly.js.org/"   title="Butterfly"><i class="far fa-hand-point-right"></i><span>Butterfly</span></a><a class="btn-beautify outline green larger" href="https://butterfly.js.org/"   title="Butterfly"><i class="far fa-hand-point-right"></i><span>Butterfly</span></a></div><p>你看我长得漂亮不</p><p><img src="https://i.loli.net/2021/03/19/2P6ivUGsdaEXSFI.png" alt=""></p><p>我觉得很漂亮 <img class="inline-img" src="https://i.loli.net/2021/03/19/5M4jUB3ynq7ePgw.png" style="height:150px"/></p><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files">Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites">Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
